/*! For license information please see stableBundle.js.LICENSE.txt */
(()=>{var e={"./node_modules/bondage-club-mod-sdk/dist/bcmodsdk.js":(e,t)=>{!function(){"use strict";const e="1.2.0";function o(e){alert("Mod ERROR:\n"+e);const t=new Error(e);throw console.error(t),t}const r=new TextEncoder;function n(e){return!!e&&"object"==typeof e&&!Array.isArray(e)}function i(e){const t=new Set;return e.filter((e=>!t.has(e)&&t.add(e)))}const a=new Map,l=new Set;function s(e){l.has(e)||(l.add(e),console.warn(e))}function u(e){const t=[],o=new Map,r=new Set;for(const n of h.values()){const i=n.patching.get(e.name);if(i){t.push(...i.hooks);for(const[t,a]of i.patches.entries())o.has(t)&&o.get(t)!==a&&s(`ModSDK: Mod '${n.name}' is patching function ${e.name} with same pattern that is already applied by different mod, but with different pattern:\nPattern:\n${t}\nPatch1:\n${o.get(t)||""}\nPatch2:\n${a}`),o.set(t,a),r.add(n.name)}}t.sort(((e,t)=>t.priority-e.priority));const n=function(e,t){if(0===t.size)return e;let o=e.toString().replaceAll("\r\n","\n");for(const[r,n]of t.entries())o.includes(r)||s(`ModSDK: Patching ${e.name}: Patch ${r} not applied`),o=o.replaceAll(r,n);return(0,eval)(`(${o})`)}(e.original,o);let i=function(t){var o,i;const a=null===(i=(o=y.errorReporterHooks).hookChainExit)||void 0===i?void 0:i.call(o,e.name,r),l=n.apply(this,t);return null==a||a(),l};for(let o=t.length-1;o>=0;o--){const r=t[o],n=i;i=function(t){var o,i;const a=null===(i=(o=y.errorReporterHooks).hookEnter)||void 0===i?void 0:i.call(o,e.name,r.mod),l=r.hook.apply(this,[t,e=>{if(1!==arguments.length||!Array.isArray(t))throw new Error(`Mod ${r.mod} failed to call next hook: Expected args to be array, got ${typeof e}`);return n.call(this,e)}]);return null==a||a(),l}}return{hooks:t,patches:o,patchesSources:r,enter:i,final:n}}function c(e,t=!1){let o=a.get(e);if(o)t&&(o.precomputed=u(o));else{let t=window;const i=e.split(".");for(let o=0;o<i.length-1;o++)if(t=t[i[o]],!n(t))throw new Error(`ModSDK: Function ${e} to be patched not found; ${i.slice(0,o+1).join(".")} is not object`);const l=t[i[i.length-1]];if("function"!=typeof l)throw new Error(`ModSDK: Function ${e} to be patched not found`);const s=function(e){let t=-1;for(const o of r.encode(e)){let e=255&(t^o);for(let t=0;t<8;t++)e=1&e?-306674912^e>>>1:e>>>1;t=t>>>8^e}return(~t>>>0).toString(16).padStart(8,"0").toUpperCase()}(l.toString().replaceAll("\r\n","\n")),c={name:e,original:l,originalHash:s};o=Object.assign(Object.assign({},c),{precomputed:u(c),router:()=>{},context:t,contextProperty:i[i.length-1]}),o.router=function(e){return function(...t){return e.precomputed.enter.apply(this,[t])}}(o),a.set(e,o),t[o.contextProperty]=o.router}return o}function d(){for(const e of a.values())e.precomputed=u(e)}function m(){const e=new Map;for(const[t,o]of a)e.set(t,{name:t,original:o.original,originalHash:o.originalHash,sdkEntrypoint:o.router,currentEntrypoint:o.context[o.contextProperty],hookedByMods:i(o.precomputed.hooks.map((e=>e.mod))),patchedByMods:Array.from(o.precomputed.patchesSources)});return e}const h=new Map;function v(e){h.get(e.name)!==e&&o(`Failed to unload mod '${e.name}': Not registered`),h.delete(e.name),e.loaded=!1,d()}function f(e,t){e&&"object"==typeof e||o("Failed to register mod: Expected info object, got "+typeof e),"string"==typeof e.name&&e.name||o("Failed to register mod: Expected name to be non-empty string, got "+typeof e.name);let r=`'${e.name}'`;"string"==typeof e.fullName&&e.fullName||o(`Failed to register mod ${r}: Expected fullName to be non-empty string, got ${typeof e.fullName}`),r=`'${e.fullName} (${e.name})'`,"string"!=typeof e.version&&o(`Failed to register mod ${r}: Expected version to be string, got ${typeof e.version}`),e.repository||(e.repository=void 0),void 0!==e.repository&&"string"!=typeof e.repository&&o(`Failed to register mod ${r}: Expected repository to be undefined or string, got ${typeof e.version}`),null==t&&(t={}),t&&"object"==typeof t||o(`Failed to register mod ${r}: Expected options to be undefined or object, got ${typeof t}`);const i=!0===t.allowReplace,a=h.get(e.name);a&&(a.allowReplace&&i||o(`Refusing to load mod ${r}: it is already loaded and doesn't allow being replaced.\nWas the mod loaded multiple times?`),v(a));const l=e=>{let t=m.patching.get(e.name);return t||(t={hooks:[],patches:new Map},m.patching.set(e.name,t)),t},s=(e,t)=>(...n)=>{var i,a;const l=null===(a=(i=y.errorReporterHooks).apiEndpointEnter)||void 0===a?void 0:a.call(i,e,m.name);m.loaded||o(`Mod ${r} attempted to call SDK function after being unloaded`);const s=t(...n);return null==l||l(),s},u={unload:s("unload",(()=>v(m))),hookFunction:s("hookFunction",((e,t,n)=>{"string"==typeof e&&e||o(`Mod ${r} failed to patch a function: Expected function name string, got ${typeof e}`);const i=c(e),a=l(i);"number"!=typeof t&&o(`Mod ${r} failed to hook function '${e}': Expected priority number, got ${typeof t}`),"function"!=typeof n&&o(`Mod ${r} failed to hook function '${e}': Expected hook function, got ${typeof n}`);const s={mod:m.name,priority:t,hook:n};return a.hooks.push(s),d(),()=>{const e=a.hooks.indexOf(s);e>=0&&(a.hooks.splice(e,1),d())}})),patchFunction:s("patchFunction",((e,t)=>{"string"==typeof e&&e||o(`Mod ${r} failed to patch a function: Expected function name string, got ${typeof e}`);const i=c(e),a=l(i);n(t)||o(`Mod ${r} failed to patch function '${e}': Expected patches object, got ${typeof t}`);for(const[n,i]of Object.entries(t))"string"==typeof i?a.patches.set(n,i):null===i?a.patches.delete(n):o(`Mod ${r} failed to patch function '${e}': Invalid format of patch '${n}'`);d()})),removePatches:s("removePatches",(e=>{"string"==typeof e&&e||o(`Mod ${r} failed to patch a function: Expected function name string, got ${typeof e}`);const t=c(e);l(t).patches.clear(),d()})),callOriginal:s("callOriginal",((e,t,n)=>{"string"==typeof e&&e||o(`Mod ${r} failed to call a function: Expected function name string, got ${typeof e}`);const i=c(e);return Array.isArray(t)||o(`Mod ${r} failed to call a function: Expected args array, got ${typeof t}`),i.original.apply(null!=n?n:globalThis,t)})),getOriginalHash:s("getOriginalHash",(e=>("string"==typeof e&&e||o(`Mod ${r} failed to get hash: Expected function name string, got ${typeof e}`),c(e).originalHash)))},m={name:e.name,fullName:e.fullName,version:e.version,repository:e.repository,allowReplace:i,api:u,loaded:!0,patching:new Map};return h.set(e.name,m),Object.freeze(u)}function p(){const e=[];for(const t of h.values())e.push({name:t.name,fullName:t.fullName,version:t.version,repository:t.repository});return e}let y;const g=void 0===window.bcModSdk?window.bcModSdk=function(){const t={version:e,apiVersion:1,registerMod:f,getModsInfo:p,getPatchingInfo:m,errorReporterHooks:Object.seal({apiEndpointEnter:null,hookEnter:null,hookChainExit:null})};return y=t,Object.freeze(t)}():(n(window.bcModSdk)||o("Failed to init Mod SDK: Name already in use"),1!==window.bcModSdk.apiVersion&&o(`Failed to init Mod SDK: Different version already loaded ('1.2.0' vs '${window.bcModSdk.version}')`),window.bcModSdk.version!==e&&alert(`Mod SDK warning: Loading different but compatible versions ('1.2.0' vs '${window.bcModSdk.version}')\nOne of mods you are using is using an old version of SDK. It will work for now but please inform author to update`),window.bcModSdk);Object.defineProperty(t,"__esModule",{value:!0}),t.default=g}()},"./src/commands/bed.ts":(e,t,o)=>{"use strict";o.r(t),o.d(t,{Bed:()=>n});var r=o("./src/util/messaging.ts");function n(){CommandCombine([{Tag:"bed",Description:"Crawl into bed without needing hands",Action:()=>{var e;if(null!==InventoryGet(Player,"ItemDevices"))return void(0,r.NotifyPlayer)("Unable to crawl into bed",2e4);const t=null===(e=InventoryGet(Player,"HairFront"))||void 0===e?void 0:e.Color;InventoryWear(Player,"PetBed","ItemDevices",[t[0],"Default",t[t.length-1]]),ChatRoomCharacterItemUpdate(Player,"ItemDevices"),(0,r.SendAction)("SourceCharacter crawls into PronounPossessive bed.",void 0,[{SourceCharacter:Player.MemberNumber}])}},{Tag:"blanket",Description:"Pull the blanket over yourself",Action:()=>{var e,t,o,n;const i=InventoryGet(Player,"ItemDevices");"PetBed"===(null==i?void 0:i.Asset.Name)&&(0===(null===(t=null===(e=i.Property)||void 0===e?void 0:e.TypeRecord)||void 0===t?void 0:t.typed)||1===(null===(n=null===(o=i.Property)||void 0===o?void 0:o.TypeRecord)||void 0===n?void 0:n.typed))?(i.Property.TypeRecord.typed=Number(!i.Property.TypeRecord.typed),ChatRoomCharacterUpdate(Player),1===i.Property.TypeRecord.typed?(0,r.SendAction)("SourceCharacter pulls a blanket over PronounObject.",void 0,[{SourceCharacter:Player.MemberNumber}]):(0,r.SendAction)("SourceCharacter removes the blanket from on top of PronounObject.",void 0,[{SourceCharacter:Player.MemberNumber}])):(0,r.NotifyPlayer)("Unable to pull the blanket over yourself.",2e4)}}])}},"./src/commands/buildAllCommands.ts":(e,t,o)=>{"use strict";o.r(t),o.d(t,{BuildAllCommands:()=>n});var r=o("./src/commands/bed.ts");function n(){(0,r.Bed)()}},"./src/localization/localization.ts":(e,t,o)=>{"use strict";o.r(t),o.d(t,{LocalizedText:()=>n});const r={template:o("./src/localization/template.json"),RU:o("./src/localization/RU.json")};function n(e){var t;const o=null===(t=null==r?void 0:r[TranslationLanguage])||void 0===t?void 0:t[e];return o&&""!==o?o:e}},"./src/modules/_module.ts":(e,t,o)=>{"use strict";o.r(t),o.d(t,{Module:()=>l,ModuleTitle:()=>r});var r,n=o("./src/util/sdk.ts"),i=o("./src/util/activities.ts"),a=o("./src/util/messaging.ts");!function(e){e.Unknown="Unknown",e.Authority="Authority",e.Activities="Activities",e.Clicker="Clicker",e.Settings="Settings",e.VirtualPet="VirtualPet",e.VirtualPetHUD="VirtualPetHud",e.VirtualPetConditions="VirtualPetConditions",e.DataSync="DataSync",e.Profile="Profile",e.SettingsOther="SettingsOther"}(r||(r={}));class l{get Title(){return r.Unknown}get Activities(){return[]}get Settings(){return[]}get SyncListeners(){return[]}Load(){(0,i.CreateActivities)(this.Activities),(0,a.AddDataSyncListeners)(this.SyncListeners)}Unload(){(0,n.RemoveHooks)(this.Title),(0,i.RemoveActivities)(this.Activities),(0,a.RemoveDataSyncListeners)(this.Title)}Reload(){this.Unload(),this.Load()}}},"./src/modules/activities.ts":(e,t,o)=>{"use strict";o.r(t),o.d(t,{ActivitiesModule:()=>a});var r=o("./src/util/activities.ts"),n=o("./src/util/sdk.ts"),i=o("./src/modules/_module.ts");class a extends i.Module{get Title(){return i.ModuleTitle.Activities}Load(){(0,n.HookFunction)(this.Title,"ActivityCheckPrerequisite",1,((e,t)=>{const[o,n,i,a]=e;return Object.keys(r.activityPrerequisites).includes(o)?r.activityPrerequisites[o](n,i,a):t(e)})),(0,n.HookFunction)(this.Title,"ServerSend",1,((e,t)=>{var o,n,i,a,l,s;const u=e[1];if("ChatRoomChat"!==e[0]||"Activity"!==(null==u?void 0:u.Type))return t(e);const c=null===(n=null===(o=null==u?void 0:u.Dictionary)||void 0===o?void 0:o.find((e=>e.ActivityName)))||void 0===n?void 0:n.ActivityName;if((null==c?void 0:c.startsWith("MPA_"))&&(null===(i=null==u?void 0:u.Dictionary)||void 0===i||i.push({Tag:"MISSING ACTIVITY DESCRIPTION FOR KEYWORD "+u.Content,Text:ActivityDictionaryText(u.Content)}),Object.keys(r.activityTriggers).includes(c))){const e=null!==(s=null===(l=null===(a=null==u?void 0:u.Dictionary)||void 0===a?void 0:a.find((e=>e.TargetCharacter)))||void 0===l?void 0:l.TargetCharacter)&&void 0!==s?s:-1,t=null===ChatRoomCharacter||void 0===ChatRoomCharacter?void 0:ChatRoomCharacter.find((t=>t.MemberNumber===e));r.activityTriggers[c](t)}return t(e)})),(0,n.HookFunction)(this.Title,"DrawImageResize",1,((e,t)=>{const o=e[0].toString(),n=o.substring(o.indexOf("MPA_"),o.indexOf(".png"));return Object.keys(r.activityImages).includes(n)&&(e[0]=r.activityImages[n]),t(e)}))}Unload(){super.Unload()}}},"./src/modules/authority.ts":(e,t,o)=>{"use strict";o.r(t),o.d(t,{AuthorityModule:()=>l,IsHardcoreOn:()=>a});var r=o("./src/util/authority.ts"),n=o("./src/modules/_module.ts");const i=(e=Player)=>{var t,o;return null!==(o=null===(t=e.MPA)||void 0===t?void 0:t[n.ModuleTitle.Authority])&&void 0!==o?o:{}};function a(e){var t,o;return null!==(o=null===(t=e.MPA)||void 0===t?void 0:t[n.ModuleTitle.Authority].hardcore)&&void 0!==o&&o}class l extends n.Module{get Title(){return n.ModuleTitle.Authority}get Settings(){return[{name:"owners",type:"text",active:()=>!0,value:"",label:"Owner member numbers; Seperated by a ,",maxChars:1024,width:400},{name:"selfAuthority",type:"checkbox",active:()=>!0,value:!0,label:"Allow TargetCharacter to change TargetPronounPossessive Authority settings"},{name:"othersAuthority",type:"option",active:()=>!0,options:r.AUTHORITY_GROUP_OPTIONS,value:"Clubowner",label:"Allow others to change TargetCharacter's Authority settings",loop:!1},{name:"selfProfile",type:"checkbox",active:e=>"Self"!==i(e).othersProfile,value:!0,label:"Allow TargetCharacter to change TargetPronounPossessive Profile settings"},{name:"othersProfile",type:"option",active:()=>!0,options:r.AUTHORITY_GROUP_OPTIONS,value:"Clubowner",label:"Allow others to change TargetCharacter's Profile settings",loop:!1,onSet(e){i(e).selfProfile=!0}},{name:"selfClicker",type:"checkbox",active:()=>!0,value:!0,label:"Allow TargetCharacter to change TargetPronounPossessive Clicker settings"},{name:"othersClicker",type:"option",active:()=>!0,options:r.AUTHORITY_GROUP_OPTIONS,value:"Clubowner",label:"Allow others to change TargetCharacter's Clicker settings",loop:!1},{name:"selfVirtualPet",type:"checkbox",active:()=>!0,value:!0,label:"Allow TargetCharacter to change TargetPronounPossessive Virtual Pet settings"},{name:"othersVirtualPet",type:"option",active:()=>!0,options:r.AUTHORITY_GROUP_OPTIONS,value:"Clubowner",label:"Allow others to change TargetCharacter's Virtual Pet settings",loop:!1},{name:"selfVirtualPetConditions",type:"checkbox",active:()=>!0,value:!0,label:"Allow TargetCharacter to change TargetPronounPossessive Virtual Pet Conditions settings"},{name:"othersVirtualPetConditions",type:"option",active:()=>!0,options:r.AUTHORITY_GROUP_OPTIONS,value:"Clubowner",label:"Allow others to change TargetCharacter's Virtual Pet Conditions settings",loop:!1}]}}},"./src/modules/clicker.ts":(e,t,o)=>{"use strict";o.r(t),o.d(t,{ClickerModule:()=>v});var r=o("./src/util/sdk.ts"),n=o("./src/util/messaging.ts"),i=o("./src/util/authority.ts"),a=o("./src/modules/_module.ts"),l=o("./src/modules/profile.ts");const s=[new Audio("https://media.soundgasm.net/sounds/df33316bec7bc03902860d21fb4b8827466f2bad.m4a"),new Audio("https://media.soundgasm.net/sounds/fa49b10dad3e1202de096859b339dcfc5eab90a5.m4a"),new Audio("https://media.soundgasm.net/sounds/b25177a6a92d5a74d047a9d77a807f2d1ed28c71.m4a")],u=(e=Player)=>{var t,o;return null!==(o=null===(t=e.MPA)||void 0===t?void 0:t[a.ModuleTitle.Clicker])&&void 0!==o?o:{}};function c(e=""){let t=0;return u().triggers.split(",").map((e=>e.trim())).filter((e=>""!==e)).forEach((o=>{var r,n;t+=null!==(n=null===(r=e.toLocaleLowerCase().match(new RegExp(o.toLocaleLowerCase(),"g")))||void 0===r?void 0:r.length)&&void 0!==n?n:0})),t}function d(e=0){isNaN(e)||e<=0||!u().enabled||s[Math.min(e-1,s.length-1)].play()}let m=!1;function h(){var e,t;window.bcx&&!m&&(null===(t=(e=window.bcx.getModApi("MPA")).on)||void 0===t||t.call(e,"bcxLocalMessage",(e=>{const t=null==e?void 0:e.message,o="[Voice] ";u().enabled&&u().bcxVoice&&(null==t?void 0:t.startsWith(o))&&d(c(t.substring(8)))})),m=!0)}class v extends a.Module{constructor(){super(...arguments),this.hasBeenLoaded=!1}get Title(){return a.ModuleTitle.Clicker}get Activities(){return[{Name:"Clicker1",MaxProgress:50,Prerequisite:["UseHands","HoldingClicker"],Targets:[{group:"ItemHands",label:"Click Once",actionSelf:"SourceCharacter presses the button on PronounPossessive clicker."}],Image:"Icons/AudioOn.png"},{Name:"Clicker2",MaxProgress:50,Prerequisite:["UseHands","HoldingClicker"],Targets:[{group:"ItemHands",label:"Click Twice",actionSelf:"SourceCharacter presses the button on PronounPossessive clicker twice."}],Image:"Icons/AudioOn.png"},{Name:"Clicker3",MaxProgress:50,Prerequisite:["UseHands","HoldingClicker"],Targets:[{group:"ItemHands",label:"Click Thrice",actionSelf:"SourceCharacter presses the button on PronounPossessive clicker three times."}],Image:"Icons/AudioOn.png"}]}get Settings(){return[{name:"enabled",type:"checkbox",active:e=>!(0,l.IsHardcoreOn)(e),value:!1,label:"Enable auditory clicker"},{name:"triggers",type:"text",active:e=>!!u(e).enabled,value:"~click~",label:"Phrases that trigger the click; Separate phrases with a comma",width:384,maxChars:null},{name:"selfAuthed",type:"checkbox",active:e=>!!u(e).enabled&&"Self"!==u(e).authedGroup,value:!0,label:"Allow your own chat, emotes, & actions to trigger the clicker"},{name:"authedGroup",type:"option",active:e=>!!u(e).enabled,value:"Friends",options:["Public","Friends","Whitelist","Lovers","Owners","Clubowner","Self"],label:"Who will be able to trigger the clicker",loop:!1,onSet(e){"Self"===u(e).authedGroup&&(u(e).selfAuthed=!0)}},{name:"bcxVoice",type:"checkbox",active:e=>!!u(e).enabled&&window.bcx&&!(0,l.IsHardcoreOn)(e),value:!0,label:"Allow BCX Listen to my voice rule to trigger the clicker; Requires BCX"}]}Load(){if(super.Load(),(0,r.HookFunction)(a.ModuleTitle.Clicker,"ChatRoomMessage",0,((e,t)=>{var o,r,a,l,s,m,h,v,f,p;const y=e[0];if(!(u().enabled&&(null===(o=e[0])||void 0===o?void 0:o.Type)&&(null===(r=e[0])||void 0===r?void 0:r.Content)&&(null===(a=e[0])||void 0===a?void 0:a.Sender)&&(0,i.IsMemberNumberInAuthGroup)(y.Sender,u().authedGroup,u().selfAuthed)))return t(e);let g=0;return"Chat"!=y.Type&&"Emote"!=y.Type&&"Whisper"!=y.Type||(g=c((0,n.RemoveOOCContentFromMessage)(y.Content))),"Action"==y.Type&&(g="Beep"==y.Content?c(null!==(m=null===(s=null===(l=null==y?void 0:y.Dictionary)||void 0===l?void 0:l.filter((e=>"Beep"==e.Tag))[0])||void 0===s?void 0:s.Text)&&void 0!==m?m:""):(null===(h=y.Dictionary)||void 0===h?void 0:h.reduce(((e,t)=>e||'MISSING TEXT IN "Interface.csv": '===t.Tag&&"‌"===t.Text),!1))?c(y.Content):c(null!==(p=null===(f=null===(v=null==y?void 0:y.Dictionary)||void 0===v?void 0:v.filter((e=>e.Tag==`MISSING TEXT IN "Interface.csv": ${null==y?void 0:y.Content}`))[0])||void 0===f?void 0:f.Text)&&void 0!==p?p:"")),d(g),t(e)})),(0,r.HookFunction)(a.ModuleTitle.Clicker,"ChatRoomMessage",0,((e,t)=>{t(e);const o=e[0],r=(0,n.GetAttributeFromChatDictionary)(o,"ActivityName");u().enabled&&"Activity"===o.Type&&(null==r?void 0:r.startsWith("MPA_Clicker"))&&(0,i.IsMemberNumberInAuthGroup)(o.Sender,u().authedGroup,u().selfAuthed)&&d(Number(r.slice(-1)))})),!this.hasBeenLoaded){h();const e=setInterval((()=>{m?clearInterval(e):h()}),6e4)}this.hasBeenLoaded=!0}Unload(){super.Unload()}}},"./src/modules/dataSync.ts":(e,t,o)=>{"use strict";o.r(t),o.d(t,{CategorySync:()=>l,DataSyncModule:()=>u,RecordSync:()=>s,SettingSync:()=>a});var r=o("./src/util/sdk.ts"),n=o("./src/modules/_module.ts"),i=o("./src/util/messaging.ts");function a(e=!1,t){(0,i.SendMPAMessage)({message:"SettingSync",settings:Player.MPA,reply:e},t)}function l(e,t){(0,i.SendMPAMessage)({message:"CategorySync",category:e,value:Player.MPA[e]},t)}function s(e,t,o){(0,i.SendMPAMessage)({message:"RecordSync",category:e,record:t,value:Player.MPA[e][t]},o)}class u extends n.Module{get Title(){return n.ModuleTitle.DataSync}get SyncListeners(){return[{module:n.ModuleTitle.DataSync,message:"SettingSync",action:function(e,t){e.MPA=t.settings,t.reply&&a(!1,e.MemberNumber)}},{module:n.ModuleTitle.DataSync,message:"CategorySync",action:function(e,t){e.MPA?e.MPA[t.category]=t.value:a(!1,e.MemberNumber)}},{module:n.ModuleTitle.DataSync,message:"RecordSync",action:function(e,t){var o;(null===(o=null==e?void 0:e.MPA)||void 0===o?void 0:o[t.category])?e.MPA[t.category][t.record]=t.value:a(!1,e.MemberNumber)}}]}Load(){super.Load(),0!==ChatRoomCharacter.length&&a(!0),(0,r.HookFunction)(n.ModuleTitle.DataSync,"ChatRoomSync",0,((e,t)=>{t(e),a(!0)})),(0,r.HookFunction)(n.ModuleTitle.DataSync,"ChatRoomMessage",0,((e,t)=>{var o;const r=e[0],n=(0,i.GetMPAMessageFromChat)(r);if(!n)return t(e);const a=(0,i.FindCharacterInRoom)(null!==(o=r.Sender)&&void 0!==o?o:"",{MemberNumber:!0,Name:!1,NickName:!1});if(!a)return t(e);i.hookedMessages.forEach((e=>{n.message===e.message&&e.action(a,n)}))}))}Unload(){super.Unload()}}},"./src/modules/profile.ts":(e,t,o)=>{"use strict";o.r(t),o.d(t,{GARBLE_PHRASES:()=>s,IsHardcoreOn:()=>a,PET_HEARING:()=>u,ProfileModule:()=>c});var r=o("./src/util/sdk.ts"),n=o("./src/modules/_module.ts");const i=(e=Player)=>{var t,o;return null!==(o=null===(t=e.MPA)||void 0===t?void 0:t[n.ModuleTitle.Profile])&&void 0!==o?o:{}};function a(e){var t,o;return null!==(o=null===(t=e.MPA)||void 0===t?void 0:t[n.ModuleTitle.Profile].hardcore)&&void 0!==o&&o}function l(e,t=Player){var o,r;return null!==(r=null===(o=t.MPA)||void 0===o?void 0:o[e])&&void 0!==r?r:{}}const s=Object.freeze({Human:"Hmmgm",Custom:"",Bunny:"Pon",Cat:"Mew",Cow:"Moo",Dog:"Arf",Fox:"Chirp",Mouse:"Sqeak",Pony:"Neigh",Wolf:"Grrr"}),u=Object.freeze({All:["owner","pet","master","mistress","miss","sir","paw","sit","come","down","up","stay","water","food","kibble","eat","treat","drink","toy","play","leash","walk","walkies","bed","sleep","cutie","adorable","toy","play","kibble","good","bad","lap","speak","hush","quiet","hush","all fours","all-fours"],Human:[],Custom:[],Bunny:["bun","bunny","carrot","hop","jump","hump","ear","ears"],Cat:["cat","kitty","kitten","catnip","knead","scratch","yarn","milk"],Cow:["milk","milking","utter","breast","grass","moo"],Dog:["cage","kennel","pup","puppy","dog","doggy","bone","fetch","heel","roll","over","bark"],Fox:["trap","bun","bunny","bone","fox","foxy"],Mouse:["mouse","ear","ears","trap","wire","wheel","cheese","nibble","cat","kitty","kitten"],Pony:["pony","mare","stallion","bridle","hoof","hooves","trot","stall","hay","woah","stomp","calm","easy","slow","cart","bay","run","race"],Wolf:["bone","wolf","dog","pup","puppy","heel"]});class c extends n.Module{get Title(){return n.ModuleTitle.Profile}get Settings(){return[{name:"type",type:"option",active:()=>!0,options:Object.keys(s),value:"Human",label:"Use a preset profile or make your own",loop:!0},{name:"petHearing",type:"checkbox",active:()=>!0,value:!1,label:"While deafened certain pet keywords can be picked up"},{name:"hardcore",type:"checkbox",active:()=>!0,value:!1,label:"Enable hardcore mode; Will set certain settings and prevent changing them back",onSet(e){l(n.ModuleTitle.Clicker,e).enabled=!0,l(n.ModuleTitle.Clicker,e).bcxVoice=!0,l(n.ModuleTitle.VirtualPet,e).enabled=!0,l(n.ModuleTitle.VirtualPet,e).noHands=!1,l(n.ModuleTitle.VirtualPetConditions,e).enabled=!0,l(n.ModuleTitle.VirtualPetConditions,e).foodNOW=!0,l(n.ModuleTitle.VirtualPetConditions,e).tint=!0,l(n.ModuleTitle.VirtualPetConditions,e).passout=!0,l(n.ModuleTitle.VirtualPetConditions,e).affectionSkillBuffs=!1,l(n.ModuleTitle.VirtualPetConditions,e).affectionSkillDebuffs=!0,l(n.ModuleTitle.VirtualPetConditions,e).hearingLoss=!0,l(n.ModuleTitle.VirtualPetConditions,e).slowLeave=!0}}]}Load(){super.Load(),(0,r.HookFunction)(this.Title,"SpeechTransformGagGarble",5,(([e,t,o,...r],n)=>{var a;const l=r[0];if((null==l?void 0:l.IsGagged())||!Player.IsDeaf()||!1===i().petHearing)return n([e,t,o,...r]);const s=u.All.concat(u[null===(a=i())||void 0===a?void 0:a.type]);s.push((Player.Nickname||Player.Name).toLocaleLowerCase()),s.push("SheHer"===Player.GetPronouns()?"girl":"boy");const c=e.toLocaleLowerCase(),d=[];if(s.forEach((e=>{const t=new RegExp(`\\b${e}\\b`,"g");[...c.matchAll(t)].forEach((t=>{d.push({start:t.index,len:e.length})}))})),0===d.length)return n([e,t,o,...r]);d.sort(((e,t)=>e.start-t.start));SpeechGetOOCRanges(e).forEach((e=>{for(let t=d.length-1;t>=0;t--){const o=d[t];(e.start<o.start&&o.start<e.start+e.length||e.start<o.start+o.len&&o.start+o.len<e.start+e.length)&&d.splice(t,1)}}));let m=0,h="";return d.forEach((i=>{h+=n([e.substring(m,i.start),t,o,...r]),m=i.start+i.len,h+=e.substring(i.start,i.start+i.len)})),h+=n([e.substring(m),t,o,...r]),h}))}}},"./src/modules/settings.ts":(e,t,o)=>{"use strict";o.r(t),o.d(t,{ExitButtonPressed:()=>ee,MENU_TITLES:()=>H,PreferenceMenuClick:()=>te,PreferenceMenuRun:()=>oe,SetSettingChar:()=>v,SettingsModule:()=>ue,UpdateElementValues:()=>ae,currentMenu:()=>R});var r=o("./src/localization/localization.ts"),n=o("./src/util/storage.ts"),i=o("./src/util/constants.ts"),a=o("./src/util/settingTypes.ts"),l=o("./src/util/registerModules.ts"),s=o("./src/util/authority.ts"),u=o("./src/util/messaging.ts"),c=o("./src/modules/_module.ts"),d=o("./src/modules/virtualPet.ts");let m=!1,h=null;function v(e){m=!1,h=e}const f=2e3,p=[1815,75,90,90],y=7,g=400,b=90,P=160,M=500,S=20,A=20,C=[100,605,350,75],w="https://github.com/MayaTheFoxy/MPA/wiki",T=[C[0],C[1]+C[3]+S,C[2],C[3]],k=[T[0],T[1]-T[3],T[2]];let x=0,N="";const I=[T[0],T[1]+T[3]+S,(T[2]-S)/2,T[3]],O=[T[0]+(T[2]+S)/2,T[1]+T[3]+S,(T[2]-S)/2,T[3]],D=[300,700,250,90],E=[1450,700,250,90];function L(){return h?h.IsPlayer()?[c.ModuleTitle.Authority,c.ModuleTitle.Profile,c.ModuleTitle.Clicker,c.ModuleTitle.VirtualPet,c.ModuleTitle.VirtualPetHUD,c.ModuleTitle.VirtualPetConditions]:[c.ModuleTitle.Authority,c.ModuleTitle.Profile,c.ModuleTitle.Clicker,c.ModuleTitle.VirtualPet,c.ModuleTitle.VirtualPetConditions]:[]}const H={[c.ModuleTitle.VirtualPet]:"Virtual Pet",[c.ModuleTitle.VirtualPetHUD]:"Virtual Pet Hud",[c.ModuleTitle.VirtualPetConditions]:"Virtual Pet Conditions"};let R=null,F=!1,V=0;function G(e){for(let t=0;t<e.length;t++)if(MouseIn(M+(g+S)*Math.floor(t/y),P+(b+S)*(t%y),g,b))return e[t];return null}DrawButton(1520,720,200,80,"Cancel","White");const U=9,B=64,W=200,$=250,j=10,z=64,_=256,Y=256,q=256;let K=1,X=1;const Z=[1635,75,90,90],J=[Z[0]-Z[2],Z[1],Z[2],Z[2]];function Q(e){var t;if(!h)return;const o=Object.entries(null!==(t=l.settings[e])&&void 0!==t?t:{}).filter((([t,o])=>{var r;return(0,a.IsDisplaySetting)(o)&&t in(null!==(r=null==h?void 0:h.MPA[e])&&void 0!==r?r:{})}));1!==X&&(K>X&&(K=X),K<1&&(K=1),DrawButton(...Z,"",K>=X?"#aaaaaa":"#ffffff","Icons/Next.png","Next Page",K>=X),DrawButton(...J,"",1>=K?"#aaaaaa":"#ffffff","Icons/Prev.png","Previous Page",1>=K)),o.slice((K-1)*U,K*U).forEach(((t,o)=>{var n,i,l,u,d,m,v,p,y;const[g,b]=t,P=!b.active(h)||`others${e}`in h.MPA[c.ModuleTitle.Authority]&&`self${e}`in h.MPA[c.ModuleTitle.Authority]&&!(0,s.IsMemberNumberInAuthGroup)(null!==(n=Player.MemberNumber)&&void 0!==n?n:-1,h.MPA[c.ModuleTitle.Authority][`others${e}`],h.MPA[c.ModuleTitle.Authority][`self${e}`],h);if((0,a.IsCheckboxSetting)(b))DrawCheckbox($,W+o*(j+B),z,z,(0,r.LocalizedText)(b.label).replaceAll("TargetCharacter",null!==(i=(null==h?void 0:h.Nickname)||(null==h?void 0:h.Name))&&void 0!==i?i:"").replaceAll("TargetPronounPossessive","SheHer"===(null==h?void 0:h.GetPronouns())?"her":"his"),!!h.MPA[e][g],P,"Black");else if((0,a.IsOptionSetting)(b)){const t=b.options.indexOf(h.MPA[e][g]),n=b.options.length,i=e!==c.ModuleTitle.Authority||!s.AUTHORITY_GROUP_OPTIONS.includes(h.MPA[e][g]),a=!(i||(0,s.AuthorityIsComparisonToCharacter)(h.MPA[e][g],">=",null!==(l=Player.MemberNumber)&&void 0!==l?l:-1,h)),m=!(i||(0,s.AuthorityIsComparisonToCharacter)(h.MPA[e][g],">",null!==(u=Player.MemberNumber)&&void 0!==u?u:-1,h))&&"Self"!==h.MPA[e][g];DrawBackNextButton($,W+o*(j+B),_,B,(0,r.LocalizedText)(h.MPA[e][g]),P||a&&m?"#aaaaaa":"#ffffff","",(()=>(0,r.LocalizedText)(a?"":b.loop?b.options[(t-1+n)%n]:t>0?b.options[t-1]:"")),(()=>(0,r.LocalizedText)(m?"":b.loop?b.options[(t+1+n)%n]:t+1<n?b.options[t+1]:"")),P||a&&m),DrawTextFit((0,r.LocalizedText)(b.label).replaceAll("TargetCharacter",null!==(d=(null==h?void 0:h.Nickname)||(null==h?void 0:h.Name))&&void 0!==d?d:"").replaceAll("TargetPronounPossessive","SheHer"===(null==h?void 0:h.GetPronouns())?"her":"his"),$+_+2*j,W+(o*(j+B)+Math.ceil(B/2)),f-2*$-_,"Black","Gray")}else if((0,a.IsTextSetting)(b)||(0,a.IsNumberSetting)(b)){const t=ie(e,g);ElementPositionFixed(t,$,W+o*(j+B),null!==(m=b.width)&&void 0!==m?m:Y,B),P?ElementSetAttribute(t,"disabled","true"):ElementRemoveAttribute(t,"disabled"),DrawTextFit((0,r.LocalizedText)(b.label).replaceAll("TargetCharacter",null!==(v=(null==h?void 0:h.Nickname)||(null==h?void 0:h.Name))&&void 0!==v?v:"").replaceAll("TargetPronounPossessive","SheHer"===(null==h?void 0:h.GetPronouns())?"her":"his"),$+(null!==(p=b.width)&&void 0!==p?p:Y)+2*j,W+o*(j+B)+Math.ceil(B/2),f-2*$-(null!==(y=b.width)&&void 0!==y?y:Y),"Black","Gray")}}))}function ee(){null===R?(window.MPA.menuLoaded&&(window.MPA.menuLoaded=!1),re()):("RESET_Settings"===R||(se(R),K=1,X=1),R=null)}function te(){var e,t,o;if(MouseIn(...p))ee();else{if((null==h?void 0:h.MemberNumber)===Player.MemberNumber&&null===R){if(MouseIn(...C))return void(null===(e=window.open(w,"_blank"))||void 0===e||e.focus());if(MouseIn(...T))return R="RESET_Settings",void(V=Date.now()+1e4);if(MouseIn(...I))return void(0,n.ImportSettingsFromClipboard)().then((()=>{N="Settings imported from clipboard"}),(()=>{N="Failed to import settings"})).finally((()=>x=Date.now()+5e3));if(MouseIn(...O))return void(0,n.ExportSettingsToClipboard)().then((()=>{N="Settings copied to clipboard"}),(()=>{N="Failed to export settings"})).finally((()=>x=Date.now()+5e3))}if(null===R&&null!==G(L())&&(R=G(L()),K=1,X=Math.ceil(Object.entries(null!==(t=l.settings[null!=R?R:""])&&void 0!==t?t:{}).filter((([e,t])=>{var o;return(0,a.IsDisplaySetting)(t)&&e in(null!==(o=null==h?void 0:h.MPA[null!=R?R:""])&&void 0!==o?o:{})})).length/U),le(R)),"RESET_Settings"!==R){if(null!==R){if(Object.entries(null!==(o=l.settings[null!=R?R:""])&&void 0!==o?o:{}).filter((([e,t])=>{var o;return(0,a.IsDisplaySetting)(t)&&e in(null!==(o=null==h?void 0:h.MPA[null!=R?R:""])&&void 0!==o?o:{})})).length>U){if(MouseIn(...Z)&&K<X)return se(R),K++,void le(R);if(MouseIn(...J)&&K>1)return se(R),K--,void le(R)}!function(e){var t;if(!h)return;const o=Object.entries(null!==(t=l.settings[e])&&void 0!==t?t:{}).filter((([t,o])=>{var r;return(0,a.IsDisplaySetting)(o)&&t in(null!==(r=null==h?void 0:h.MPA[e])&&void 0!==r?r:{})}));o.slice((K-1)*U,K*U).forEach(((t,o)=>{var r,n,i;const[l,u]=t,d=!u.active(h)||`others${e}`in h.MPA[c.ModuleTitle.Authority]&&`self${e}`in h.MPA[c.ModuleTitle.Authority]&&!(0,s.IsMemberNumberInAuthGroup)(null!==(r=Player.MemberNumber)&&void 0!==r?r:-1,h.MPA[c.ModuleTitle.Authority][`others${e}`],h.MPA[c.ModuleTitle.Authority][`self${e}`],h);if((0,a.IsCheckboxSetting)(u))MouseIn($,W+o*(j+B),z,z)&&!d&&(h.MPA[e][l]=!h.MPA[e][l],u.onSet&&u.onSet(h),m=!0);else if((0,a.IsOptionSetting)(u)){const t=u.options.indexOf(h.MPA[e][l]),r=u.options.length;!MouseIn($,W+o*(j+B),Math.floor(_/2),B)||d||!(u.loop||t>0)||e===c.ModuleTitle.Authority&&s.AUTHORITY_GROUP_OPTIONS.includes(h.MPA[e][l])&&!(0,s.AuthorityIsComparisonToCharacter)(h.MPA[e][l],">=",null!==(n=Player.MemberNumber)&&void 0!==n?n:-1,h)?!MouseIn($+Math.floor(_/2),W+o*(j+B),Math.ceil(_/2),B)||d||!(u.loop||t+1<u.options.length)||e===c.ModuleTitle.Authority&&s.AUTHORITY_GROUP_OPTIONS.includes(h.MPA[e][l])&&!(0,s.AuthorityIsComparisonToCharacter)(h.MPA[e][l],">",null!==(i=Player.MemberNumber)&&void 0!==i?i:-1,h)||(h.MPA[e][l]=u.options[(t+1+r)%r],u.onSet&&u.onSet(h),m=!0):(h.MPA[e][l]=u.options[(t-1+r)%r],u.onSet&&u.onSet(h),m=!0)}}))}(R)}}else!function(){MouseIn(...D)&&Date.now()>V&&((0,n.ResetStorage)(),R=null,V=0);MouseIn(...E)&&(R=null,V=0)}()}}function oe(){var e;if("RESET_Settings"===R)return void function(){const e=MainCanvas.textAlign;MainCanvas.textAlign="center",DrawText((0,r.LocalizedText)("WARNING: Are you sure you want to reset your MPA settings and data back to default?"),f/2,250,"#000000","#aaaaaa"),DrawText((0,r.LocalizedText)("This action can not be undone!"),f/2,400,"#ff0000","#aaaaaa"),DrawText((0,r.LocalizedText)("Export and save your settings BEFORE confirming if you are unsure."),f/2,550,"#696969","#aaaaaa");const t=Date.now();t<=V?DrawButton(...D,`${(0,r.LocalizedText)("Confirm")} (${Math.floor((V-t)/1e3)})`,"#aaaaaa",void 0,void 0,!0):DrawButton(...D,(0,r.LocalizedText)("Confirm"),"#ff0000"),DrawButton(...E,(0,r.LocalizedText)("Cancel"),"White"),MainCanvas.textAlign=e}();const t=MainCanvas.textAlign;DrawButton(...p,"","White","Icons/Exit.png"),MainCanvas.textAlign="center",DrawText(`${(0,r.LocalizedText)("Maya's Petplay Additions")}${R?` - ${(null==h?void 0:h.Nickname)||(null==h?void 0:h.Name)}'s ${(0,r.LocalizedText)(null!==(e=H[R])&&void 0!==e?e:R)}`:""}`,1e3,125,"Black","Gray"),(null==h?void 0:h.MemberNumber)===Player.MemberNumber&&null===R&&(x>=Date.now()&&(MainCanvas.textAlign="left",DrawTextFit(N,...k,"Black","Gray")),MainCanvas.textAlign="center",DrawButton(...C,(0,r.LocalizedText)("Wiki"),"#ffffff","",(0,r.LocalizedText)("Open the MPA wiki in a new tab")),DrawButton(...T,(0,r.LocalizedText)("RESET"),"#ff2e2eaa","",(0,r.LocalizedText)("Reset all your settings back to default")),DrawButton(...I,(0,r.LocalizedText)("Import"),"#ffffff","",(0,r.LocalizedText)("Import the settings copied to your clipboard")),DrawButton(...O,(0,r.LocalizedText)("Export"),"#ffffff","",(0,r.LocalizedText)("Export your current settings to the clipboard"))),MainCanvas.textAlign="left",null===R?function(e){var t;for(let o=0;o<e.length;o++)DrawButton(M+(g+S)*Math.floor(o/y),P+(b+S)*(o%y),g,b,"","White"),DrawTextFit((0,r.LocalizedText)(null!==(t=H[e[o]])&&void 0!==t?t:e[o]),M+A+(g+S)*Math.floor(o/y),P+Math.floor(b/2)+(b+S)*(o%y),g-2*A,"Black","Gray")}(L()):Q(R),MainCanvas.textAlign=t}function re(){h&&(m&&(h.MemberNumber===Player.MemberNumber?((0,d.LevelSync)(!1,!1,!1),(0,n.SaveStorage)(!0)):(0,u.SendMPAMessage)({message:"SettingPutRequest",settings:h.MPA},h.MemberNumber)),h.MemberNumber===Player.MemberNumber&&PreferenceSubscreenExtensionsClear(),m=!1,h=null,F=!1)}function ne(){m=!1,h=Player,h&&(F=!0)}function ie(e,t){return`MPA_OPTION_${e}${t}`}function ae(){h&&Object.entries(l.settings).forEach((e=>{const[t,o]=e;Object.entries(o).forEach((e=>{const[o,r]=e,n=ie(t,o);((0,a.IsTextSetting)(r)||(0,a.IsNumberSetting)(r))&&ElementSetAttribute(n,"value",h.MPA[t][o].toString())}))}))}function le(e,t=K){var o;e&&h&&Object.entries(null!==(o=l.settings[e])&&void 0!==o?o:{}).slice((t-1)*U,t*U).forEach((t=>{var o;const[r,n]=t,i=ie(e,r);(0,a.IsTextSetting)(n)?ElementCreateInput(i,"text",h.MPA[e][r],null!==(o=n.maxChars)&&void 0!==o?o:q):(0,a.IsNumberSetting)(n)&&(ElementCreateInput(i,"number",h.MPA[e][r].toString()),ElementSetAttribute(i,"min",n.min.toString()),ElementSetAttribute(i,"max",n.max.toString()),ElementSetAttribute(i,"inputmode","decimal"),n.step&&ElementSetAttribute(i,"step",n.step.toString()))}))}function se(e,t=K){var o;h&&(e===c.ModuleTitle.VirtualPet&&(0,d.LevelSync)(!1,!1,!1),Object.entries(null!==(o=l.settings[e])&&void 0!==o?o:{}).slice((t-1)*U,t*U).forEach((t=>{const[o,r]=t,n=ie(e,o);(0,a.IsTextSetting)(r)&&(h.MPA[e][o]!==ElementValue(n)&&(h.MPA[e][o]=ElementValue(n),m=!0),ElementRemove(n)),(0,a.IsNumberSetting)(r)&&(h.MPA[e][o]!==Number(ElementValue(n))&&(h.MPA[e][o]=Number(ElementValue(n)),m=!0),ElementRemove(n))})))}class ue extends c.Module{get Title(){return c.ModuleTitle.Settings}Load(){function e(e){"Escape"!==e.key&&"Esc"!==e.key||!F||(null===R?re():"RESET_Settings"===R?V=0:(se(R),K=1,X=1),R=null,e.stopPropagation())}PreferenceRegisterExtensionSetting({Identifier:"MPA",ButtonText:(0,r.LocalizedText)("MPA Settings"),Image:i.ICONS.PAW,click:te,run:oe,exit:re,load:ne}),document.addEventListener("keypress",e,!0),document.addEventListener("keydown",e,!0)}Unload(){}Reload(){}}},"./src/modules/settingsOthers.ts":(e,t,o)=>{"use strict";o.r(t),o.d(t,{ObjectDifferences:()=>f,SettingsOtherModule:()=>p});var r=o("./src/util/messaging.ts"),n=o("./src/localization/localization.ts"),i=o("./src/util/constants.ts"),a=o("./src/util/sdk.ts"),l=o("./src/modules/_module.ts"),s=o("./src/modules/settings.ts"),u=o("./src/util/storage.ts"),c=o("./src/modules/virtualPet.ts"),d=o("./src/util/authority.ts"),m=o("./src/util/registerModules.ts");const h=[1700,765,90,90],v=[1700,800,90,90];function f(e,t){const o={};for(const r in e)if(r in t)if("object"!=typeof e[r]||"object"!=typeof t[r]||Array.isArray(e[r]))e[r]!==t[r]&&(o[r]={old:e[r],new:t[r]});else{const n=f(e[r],t[r]);Object.keys(n).length>0&&(o[r]=n)}else o[r]={old:e[r],new:void 0};for(const r in t)r in e||(o[r]={old:void 0,new:t[r]});return o}class p extends l.Module{get Title(){return l.ModuleTitle.SettingsOther}get SyncListeners(){return[{module:this.Title,message:"SettingPutRequest",action:function(e,t){var o,i,a,h,v,p,y,g,b,P,M,S;const A=Player.MPA[l.ModuleTitle.VirtualPet].enabled,C=f(Player.MPA,t.settings),w=[];(null===(o=null==C?void 0:C[l.ModuleTitle.VirtualPet])||void 0===o?void 0:o.levels)&&(delete C[l.ModuleTitle.VirtualPet].levels,0===Object.keys(C[l.ModuleTitle.VirtualPet]).length&&delete C[l.ModuleTitle.VirtualPet]),(0,c.LevelSync)(!1,!1,!1);const T=JSON.parse(JSON.stringify(null===(i=Player.MPA)||void 0===i?void 0:i[l.ModuleTitle.Authority])),k=C[l.ModuleTitle.Authority];if(k)if(delete C[l.ModuleTitle.Authority],(0,d.IsMemberNumberInAuthGroup)(null!==(a=e.MemberNumber)&&void 0!==a?a:-1,T[`others${l.ModuleTitle.Authority}`])){w.push((0,n.LocalizedText)(l.ModuleTitle.Authority));for(const e in k)void 0!==k[e].new&&void 0!==k[e].old&&(Player.MPA[l.ModuleTitle.Authority][e]=k[e].new)}else console.warn(`MPA: ${e.Nickname||e.Name} (${e.MemberNumber}) tried to illegally modify your ${l.ModuleTitle.Authority} settings!`);for(const t in C){if(!(0,d.IsMemberNumberInAuthGroup)(null!==(h=e.MemberNumber)&&void 0!==h?h:-1,null!==(v=T[`others${t}`])&&void 0!==v?v:"None")&&!(0,d.IsMemberNumberInAuthGroup)(null!==(p=e.MemberNumber)&&void 0!==p?p:-1,null!==(b=null===(g=null===(y=Player.MPA)||void 0===y?void 0:y[l.ModuleTitle.Authority])||void 0===g?void 0:g[`others${t}`])&&void 0!==b?b:"None")){console.warn(`MPA: ${e.Nickname||e.Name} (${e.MemberNumber}) tried to illegally modify your ${t} settings!`);continue}w.push((0,n.LocalizedText)(null!==(P=s.MENU_TITLES[t])&&void 0!==P?P:t));const o=C[t];for(const e in o)void 0!==o[e].new&&void 0!==o[e].old&&(Player.MPA[t][e]=o[e].new)}Player.MPA[l.ModuleTitle.Profile].hardcore&&(null===(S=null===(M=m.settings[l.ModuleTitle.Profile])||void 0===M?void 0:M.hardcore)||void 0===S||S.onSet(Player)),A!==Player.MPA[l.ModuleTitle.VirtualPet].enabled&&(Player.MPA[l.ModuleTitle.VirtualPet].levels.lastUpdated=Date.now()),0!==w.length&&(0,r.MPANotifyPlayer)((0,n.LocalizedText)("SourceCharacter just updated your SettingsArray settings.").replace("SourceCharacter",e.Nickname||e.Name).replace("SettingsArray",(0,r.ArrayToReadableString)(w))),(0,u.SaveStorage)(!0)}}]}Load(){super.Load();(0,a.HookFunction)(this.Title,"InformationSheetRun",12,((e,t)=>{var o;if((null===(o=window.bcx)||void 0===o?void 0:o.inBcxSubscreen())||window.LSCG_REMOTE_WINDOW_OPEN)return t(e);if(window.MPA.menuLoaded)return void(0,s.PreferenceMenuRun)();t(e);const r=InformationSheetSelection;if((null==r?void 0:r.MPA)&&!r.IsPlayer()){const e=ServerChatRoomGetAllowItem(Player,r);DrawButton(...window.bcx?v:h,"",e?"#ffffff":"#aaaaaa",i.ICONS.PAW,(0,n.LocalizedText)(e?"MPA":"MPA: No BC item permission"),!1)}})),(0,a.HookFunction)(this.Title,"InformationSheetClick",12,((e,t)=>{if(window.MPA.menuLoaded)return(0,s.PreferenceMenuClick)();const o=InformationSheetSelection;if(!MouseIn(...v)||!(null==o?void 0:o.MPA)||o.IsPlayer())return t(e);window.MPA.menuLoaded=!0,(0,s.SetSettingChar)(o)})),(0,a.HookFunction)(this.Title,"InformationSheetExit",12,((e,t)=>{if(!window.MPA.menuLoaded)return t(e);(0,s.ExitButtonPressed)()}))}Unload(){super.Unload()}}},"./src/modules/virtualPet.ts":(e,t,o)=>{"use strict";o.r(t),o.d(t,{CalculateCurrentValue:()=>I,GetCharacterCurrentStatValue:()=>O,IsBedMultiplier:()=>w,IsSleepingExpression:()=>C,LevelSync:()=>D,ModifyStat:()=>E,VirtualPetModule:()=>L});var r=o("./src/modules/_module.ts"),n=o("./src/util/sdk.ts"),i=o("./src/util/storage.ts"),a=o("./src/util/messaging.ts"),l=o("./src/modules/dataSync.ts"),s=o("./src/modules/profile.ts");const u=168,c=(e=Player)=>{var t,o;return null!==(o=null===(t=e.MPA)||void 0===t?void 0:t[r.ModuleTitle.VirtualPet])&&void 0!==o?o:{}},d=.4,m=["LSCG_Eat","ThrowItem"],h=["LSCG_FunnelPour","LSCG_Quaff"],v=["Sleep","Afk","Fork","Coding","Read"],f=["PetBed","Crib"],p=["LowCage","Kennel","Bed","MedicalBed"],y=["FuturisticCrate","DollBox"],g=["Pet","TakeCare","LSCG_Nuzzle","Caress","LSCG_Hug","Scratch"],b=["Kiss","MassageHands","Lick","Nibble","Cuddle","Grope"],P=["Spank","Slap","Bite","Pinch","Pull","ShockItem","SpankItem"],M={ItemArms:1,ItemBoots:.8,ItemBreast:1.5,ItemButt:1.5,ItemEars:2.5,ItemFeet:.8,ItemHands:1,ItemHead:3,ItemLegs:1,ItemMouth:2,ItemNeck:1.2,ItemNipples:1.5,ItemNose:1.7,ItemPelvis:1.3,ItemTorso:1,ItemVulva:2,ItemVulvaPiercings:2.5},S=.2;let A;const C=e=>{var t,o,r,n,i,a,l;return"Closed"===(null===(o=null===(t=e.Appearance.find((e=>"Eyes"===e.Asset.Group.Name)))||void 0===t?void 0:t.Property)||void 0===o?void 0:o.Expression)&&"Closed"===(null===(n=null===(r=e.Appearance.find((e=>"Eyes2"===e.Asset.Group.Name)))||void 0===r?void 0:r.Property)||void 0===n?void 0:n.Expression)&&v.includes(null!==(l=null===(a=null===(i=e.Appearance.find((e=>"Emoticon"===e.Asset.Group.Name)))||void 0===i?void 0:i.Property)||void 0===a?void 0:a.Expression)&&void 0!==l?l:"")},w=e=>{var t,o;const r=null!==(o=null===(t=InventoryGet(e,"ItemDevices"))||void 0===t?void 0:t.Asset.Name)&&void 0!==o?o:"";return f.includes(r)?10:p.includes(r)?5:y.includes(r)?2:1};let T=!1,k=1;function x(e=!0){!c().enabled||0===c().sleepHours||T===C(Player)&&k===w(Player)||(e&&D(),T=C(Player),k=w(Player))}function N(e){return 60*e*60*1e3}function I(e,t,o,r,n=!1,i=Player){const a=(r||Date.now())-o,l=Math.max(0,Math.min(e-a/N(t),1));if(n&&e>S&&l<S){const r=c(i).levels.lastOnline-o,n=Math.max(0,Math.min(e-r/N(t),1));return Math.min(S,n)}return l}function O(e,t){var o;const n=null===(o=null==e?void 0:e.MPA)||void 0===o?void 0:o[r.ModuleTitle.VirtualPet];if(!n)return-1;if("sleep"===t){const t=C(e)||1!==w(e)?n.levels.sleep+(Date.now()-n.levels.lastUpdated)/(60*n.sleepHours*60*1e3)*w(e)*(C(e)?5:1):I(n.levels.sleep,n.sleepHours,n.levels.lastUpdated);return Math.max(0,Math.min(1,t))}return I(n.levels[t],n[`${t}Hours`],n.levels.lastUpdated)}function D(e=!0,t=!0,o=!1){var n;if(!c().enabled)return c().levels.lastUpdated=Date.now(),void(c().levels.lastOnline=Date.now());const a=null!==(n=c().levels.lastUpdated)&&void 0!==n?n:Date.now(),s=c().offlineDrain?void 0:c().levels.lastOnline,u=c().foodHours;0!==u&&(c().levels.food=I(c().levels.food,u,a,s,o));const d=c().waterHours;0!==d&&(c().levels.water=I(c().levels.water,d,a,s,o));const m=c().sleepHours;if(0!==m)if(o&&!s||T||1!==k){const e=o?Date.now()-c().levels.lastOnline-(c().levels.lastOnline-a):Date.now()-a,t=c().levels.sleep+e/N(m)*k*(T?5:1);c().levels.sleep=Math.max(0,Math.min(1,t))}else c().levels.sleep=I(c().levels.sleep,m,a,s,o);const h=c().affectionHours;0!==h&&(c().levels.affection=I(c().levels.affection,h,a,s,o)),c().levels.lastUpdated=Date.now(),c().levels.lastOnline=Date.now(),e&&(0,i.SaveStorage)(!1),t&&(0,l.RecordSync)(r.ModuleTitle.VirtualPet,"levels")}function E(e,t,o=!0,n=!0,a){t<-1&&t>1||(D(!1,!1,!1),c().levels[e]+=t*(o&&t>0?function(e,t){let o=1;if((null==t?void 0:t.IsOwner())?o+=.5:(null==t?void 0:t.IsLoverOfPlayer())?o+=.35:(null==t?void 0:t.IsFamilyOfPlayer())&&(o+=.25),"food"!==e&&"water"!==e||Player.CanTalk()||(o-=.5),o+=.03*Player.Appearance.filter((e=>e.Asset.DynamicGroupName.startsWith("Item"))).length,"AllFours"===Player.PoseMapping.BodyFull&&(o+=.5),"affection"===e&&Player.MPA[r.ModuleTitle.VirtualPetConditions].enabled&&Player.MPA[r.ModuleTitle.VirtualPetConditions].foodNOW){const e=[];0!==c().foodHours&&e.push(O(Player,"food")),0!==c().waterHours&&e.push(O(Player,"water")),0!==e.length&&(o*=e.reduce(((e,t)=>e+t),0)/e.length/.75)}return Math.max(0,o)}(e,a):1),function(e){const t=c().levels[e];c().levels[e]=Math.min(Math.max(t,0),1)}(e),n&&(0,i.SaveStorage)(!1),(0,l.RecordSync)(r.ModuleTitle.VirtualPet,"levels"))}class L extends r.Module{get Title(){return r.ModuleTitle.VirtualPet}get Activities(){return[{Name:"BowlEat",Targets:[{group:"ItemMouth",label:"Eat From Bowl",actionSelf:"SourceCharacter eats from PronounPossessive bowl."}],Image:"Assets/Female3DCG/ItemDevices/Preview/PetBowl.png",Prerequisite:["UseMouth","HasBowl"],OnTrigger:()=>{c().enabled&&0!==c().foodHours&&E("food",d,!0)}},{Name:"BowlDrink",Targets:[{group:"ItemMouth",label:"Drink From Bowl",actionSelf:"SourceCharacter drinks from PronounPossessive bowl."}],Image:"Assets/Female3DCG/ItemDevices/Preview/PetBowl.png",Prerequisite:["UseMouth","HasBowl"],OnTrigger:()=>{c().enabled&&0!==c().waterHours&&E("water",d,!0)}},{Name:"BowlEat2",Targets:[{group:"ItemMouth",label:"Eat From Bowl",actionSelf:"SourceCharacter puts PronounPossessive head into PronounPossessive bowl in order to eat with the gag, making a mess."}],Image:"Assets/Female3DCG/ItemDevices/Preview/PetBowl.png",Prerequisite:["UseTongueNoMouth","HasBowl"],OnTrigger:()=>{c().enabled&&0!==c().foodHours&&E("food",d,!0)}},{Name:"BowlDrink2",Targets:[{group:"ItemMouth",label:"Drink From Bowl",actionSelf:"SourceCharacter puts PronounPossessive head into PronounPossessive bowl in order to drink with the gag, making a mess."}],Image:"Assets/Female3DCG/ItemDevices/Preview/PetBowl.png",Prerequisite:["UseTongueNoMouth","HasBowl"],OnTrigger:()=>{c().enabled&&0!==c().waterHours&&E("water",d,!0)}}]}get Settings(){return[{name:"enabled",type:"checkbox",active:e=>!(0,s.IsHardcoreOn)(e),value:!1,label:"Become a virtual pet! Requiring: food, water, sleep, and affection"},{name:"foodHours",type:"number",value:4,active:e=>!!c(e).enabled,label:"How many hours until you are completely out of food; 0 to disable",width:128,min:0,max:u,step:.1},{name:"waterHours",type:"number",value:4,active:e=>!!c(e).enabled,label:"How many hours until you are completely out of water; 0 to disable",width:128,min:0,max:u,step:.1},{name:"sleepHours",type:"number",value:8,active:e=>!!c(e).enabled,label:"How many hours until you are completely out of sleep; 0 to disable",width:128,min:0,max:u,step:.1},{name:"affectionHours",type:"number",value:4,active:e=>!!c(e).enabled,label:"How many hours until you are completely out of affection; 0 to disable",width:128,min:0,max:u,step:.1},{name:"offlineDrain",type:"checkbox",value:!0,active:e=>!!c(e).enabled,label:"Stats drain even when logged out of the club"},{name:"noHands",type:"checkbox",active:e=>!!c(e).enabled&&!(0,s.IsHardcoreOn)(e),value:!0,label:"Allow eating or drinking from items in your OWN hands"},{name:"masochist",type:"checkbox",active:e=>!!c(e).enabled,value:!1,label:"Masochist pet; Abuse raises affection"},{name:"levels",type:"record",value:{food:1,water:1,sleep:1,affection:1,lastUpdated:Date.now(),lastOnline:Date.now()}}]}Load(){super.Load(),x(!1),D(!0,!1,!0),A=setInterval((()=>{Player.MemberNumber&&(Player.MPA[this.Title].levels.lastOnline=Date.now(),(0,i.SaveStorage)(!1))}),1e4),(0,n.HookFunction)(this.Title,"ChatRoomMessage",0,((e,t)=>{var o,r;const n=e[0],i=(0,a.GetAttributeFromChatDictionary)(n,"ActivityName");if(!c().enabled||!c().noHands&&(0,a.GetAttributeFromChatDictionary)(n,"SourceCharacter")===Player.MemberNumber||"Activity"!==n.Type||(0,a.GetAttributeFromChatDictionary)(n,"TargetCharacter")!==Player.MemberNumber||"ItemMouth"!==(0,a.GetAttributeFromChatDictionary)(n,"FocusGroupName")||!i)return t(e);const l=ActivityFemale3DCG.find((e=>e.Name===i));return 0!==c().foodHours&&((null===(o=null==l?void 0:l.Prerequisite)||void 0===o?void 0:o.includes("Needs-EatItem"))||m.some((e=>(null==l?void 0:l.Name)===e)))&&E("food",.2,!0),0!==c().waterHours&&((null===(r=null==l?void 0:l.Prerequisite)||void 0===r?void 0:r.includes("Needs-SipItem"))||h.some((e=>(null==l?void 0:l.Name)===e)))&&E("water",.2,!0),t(e)})),(0,n.HookFunction)(this.Title,"CharacterRefresh",0,((e,t)=>(e[0].MemberNumber===Player.MemberNumber&&x(),t(e)))),(0,n.HookFunction)(this.Title,"ChatRoomMessage",0,((e,t)=>{var o,r;const n=e[0],i=(0,a.GetAttributeFromChatDictionary)(n,"ActivityName");if(!c().enabled||0===c().affectionHours||"Activity"!==n.Type||(0,a.GetAttributeFromChatDictionary)(n,"TargetCharacter")!==Player.MemberNumber||(0,a.GetAttributeFromChatDictionary)(n,"SourceCharacter")===Player.MemberNumber||!i)return t(e);const l=null!==(o=(0,a.GetAttributeFromChatDictionary)(n,"FocusGroupName"))&&void 0!==o?o:"",s=null!==(r=M[l])&&void 0!==r?r:1;return g.includes(i)?E("affection",.05*s):b.includes(i)?E("affection",.03*s):P.includes(i)&&E("affection",-.04*(c().masochist?-1:1)*s),t(e)}))}Unload(){super.Unload(),clearInterval(A)}}},"./src/modules/virtualPetConditions.ts":(e,t,o)=>{"use strict";o.r(t),o.d(t,{ConditionCheck:()=>p,VirtualPetConditionsModule:()=>x});var r=o("./src/util/general.ts"),n=o("./src/util/messaging.ts"),i=o("./src/util/sdk.ts"),a=o("./src/modules/_module.ts"),l=o("./src/modules/profile.ts"),s=o("./src/modules/virtualPet.ts");const u=(e=Player)=>{var t,o;return null!==(o=null===(t=e.MPA)||void 0===t?void 0:t[a.ModuleTitle.VirtualPet])&&void 0!==o?o:{}},c=(e=Player)=>{var t,o;return null!==(o=null===(t=e.MPA)||void 0===t?void 0:t[a.ModuleTitle.VirtualPetConditions])&&void 0!==o?o:{}};function d(e,t){var o;return!(!c().enabled||!c()[e])&&(!t||u().enabled&&0!==(null===(o=u())||void 0===o?void 0:o[`${t}Hours`]))}const m=[["SelfBondage",!0],["Willpower",!0],["Bondage",!1],["Evasion",!1],["LockPicking",!1]],h={food:-1,water:-1,sleep:-1,affection:-1};let v=[];let f=250;function p(){["food","water","affection","sleep"].forEach((e=>{if(u().enabled&&c().enabled&&0!==u()[`${e}Hours`]){const t=h[e],o=(0,s.GetCharacterCurrentStatValue)(Player,e);v.forEach((r=>{r.stat===e&&-1===t&&r.firstRun&&r.firstRun(),r.stat===e&&-1!==t&&t>o&&"rising"!==r.change&&o<=r.threshhold&&r.threshhold<t&&r.action(),r.stat===e&&-1!==t&&t<o&&"falling"!==r.change&&t<r.threshhold&&r.threshhold<=o&&r.action()})),h[e]=o}else h[e]=-1}))}const y="sleep",g=.25,b=0,P=0,M=1;let S=!1;const A=["SourceCharacter drools out of the corner of PronounPossessive lip as PronounSubject sleeps.","SourceCharacter mumbles quietly in PronounPossessive slumber.","SourceCharacter rests peacefully."];function C(){var e,t,o;CharacterSetFacialExpression(Player,"Emoticon","Sleep"),CharacterSetFacialExpression(Player,"Eyes","Closed"),CharacterSetFacialExpression(Player,"Fluids","DroolMedium"),Player.CanKneel()&&PoseSetActive(Player,"Kneel",!0),S=!0;const r=null===(o=null===(t=null===(e=null===Player||void 0===Player?void 0:Player.LSCG)||void 0===e?void 0:e.StateModule)||void 0===t?void 0:t.states)||void 0===o?void 0:o.find((e=>"asleep"===e.type));c().passoutLSCG&&r&&console.log("Calling LSCG passout"),(0,n.SendAction)("SourceCharacter passes out from exhaustion.",void 0,[{SourceCharacter:Player.MemberNumber}])}function w(){return c().enabled&&0!==u().sleepHours&&c().passout&&!c().passoutLSCG&&S}let T;function k(){u().enabled&&0!==u().affectionHours&&c().enabled&&m.forEach((([e,t])=>{const o=(0,s.GetCharacterCurrentStatValue)(Player,"affection"),r=Math.round((10*o/1-5)*(t?1:-1)*100)/100,n=SkillGetModifier(Player,e),i=0!==SkillGetModifierDuration(Player,e)?SkillGetModifierDuration(Player,e):15e3;r>0&&c().affectionSkillBuffs&&SkillSetModifier(Player,e,n+r,i,!1),r<0&&c().affectionSkillDebuffs&&SkillSetModifier(Player,e,n+r,i,!1)}))}class x extends a.Module{get Title(){return a.ModuleTitle.VirtualPetConditions}get Settings(){return[{name:"enabled",type:"checkbox",active:e=>!!u(e).enabled&&!(0,l.IsHardcoreOn)(e),value:!1,label:"Recive conditions based on current level of your virtual pet stats"},{name:"foodNOW",type:"checkbox",active:e=>!!u(e).enabled&&!!c(e).enabled&&!(0,l.IsHardcoreOn)(e),value:!0,label:"Food and water affects affection gain"},{name:"tint",type:"checkbox",active:e=>!!u(e).enabled&&!!c(e).enabled&&!(0,l.IsHardcoreOn)(e),value:!0,label:"Vision darkens as you get sleepier"},{name:"passout",type:"checkbox",active:e=>!!u(e).enabled&&!!c(e).enabled&&!(0,l.IsHardcoreOn)(e),value:!0,label:"Passout when exhausted"},{name:"affectionSkillBuffs",type:"checkbox",active:e=>!!u(e).enabled&&!!c(e).enabled&&!(0,l.IsHardcoreOn)(e),value:!0,label:"Affection will buff skills based on its level"},{name:"affectionSkillDebuffs",type:"checkbox",active:e=>!!u(e).enabled&&!!c(e).enabled&&!(0,l.IsHardcoreOn)(e),value:!0,label:"Affection will debuff skills based on its level"},{name:"hearingLoss",type:"checkbox",active:e=>!!u(e).enabled&&!!c(e).enabled&&!(0,l.IsHardcoreOn)(e),value:!0,label:"Hearing becomes harder the hungrier you are"},{name:"slowLeave",type:"checkbox",active:e=>!!u(e).enabled&&!!c(e).enabled&&!(0,l.IsHardcoreOn)(e),value:!0,label:"Takes longer to leave the room when hungry"}]}Load(){(0,i.HookFunction)(this.Title,"GameRun",0,((e,t)=>(f>=250&&p(),f++,t(e)))),(0,i.HookFunction)(this.Title,"Player.GetTints",0,((e,t)=>{if(!d("tint",y))return t(e);const o=((0,s.GetCharacterCurrentStatValue)(Player,y)-g)/(b-g)*(M-P)+P;return P<=o&&o<=M?t(e).concat({r:0,g:0,b:0,a:Math.sqrt(Math.round(1e3*o)/1e3)}):t(e)})),v=[{stat:"sleep",threshhold:0,change:"falling",action:function(){C()},firstRun:function(){0===(0,s.GetCharacterCurrentStatValue)(Player,"sleep")&&C()}},{stat:"sleep",threshhold:.1,change:"rising",action:function(){S&&(CharacterSetFacialExpression(Player,"Emoticon",null),CharacterSetFacialExpression(Player,"Eyes","Dazed"),CharacterSetFacialExpression(Player,"Eyebrows","Lowered"),S=!1,(0,n.SendAction)("SourceCharacter wakes up from PronounPossessive nap.",void 0,[{SourceCharacter:Player.MemberNumber}]))}}],(0,i.HookFunction)(this.Title,"Player.CanTalk",5,((e,t)=>!w()&&t(e))),(0,i.HookFunction)(this.Title,"Player.CanWalk",5,((e,t)=>!w()&&t(e))),(0,i.HookFunction)(this.Title,"Player.CanChangeOwnClothes",5,((e,t)=>!w()&&t(e))),(0,i.HookFunction)(this.Title,"Player.CanInteract",5,((e,t)=>!w()&&t(e))),(0,i.HookFunction)(this.Title,"ServerSend",5,((e,t)=>{if(!w())return t(e);const[o,i]=e;return"ChatRoomChat"!=o||"Chat"!=(null==i?void 0:i.Type)||(null==i?void 0:i.Content.startsWith("("))?t(e):((0,n.SendAction)((0,r.RandomElement)(A),void 0,[{SourceCharacter:Player.MemberNumber}]),null)})),(0,i.HookFunction)(this.Title,"Player.GetDeafLevel",5,((e,t)=>w()?4:t(e))),(0,i.HookFunction)(this.Title,"Player.GetBlindLevel",5,((e,t)=>{var o,r;return w()?"SensDepExtreme"===(null===(o=Player.GameplaySettings)||void 0===o?void 0:o.SensDepChatLog)||"SensDepTotal"===(null===(r=Player.GameplaySettings)||void 0===r?void 0:r.SensDepChatLog)?3:2:t(e)})),(0,i.HookFunction)(this.Title,"Player.GetDeafLevel",5,((e,t)=>{const o=d("hearingLoss","food")?Math.max(0,Math.floor(-10*((0,s.GetCharacterCurrentStatValue)(Player,"food")-.3001))):0;return Math.max(o,t(e))})),SkillModifierMax<10&&(SkillModifierMax=10),k(),T=setInterval(k,16e3),(0,i.HookFunction)(this.Title,"ChatRoomAttemptLeave",0,((e,t)=>{if(!d("slowLeave","food"))return t(e);const o=ChatRoomSlowtimer,r=(0,s.GetCharacterCurrentStatValue)(Player,"food");if(t(e),0===o&&ChatRoomSlowtimer>0&&r<=.3){ChatRoomSlowtimer=CurrentTime+ChatRoomSlowLeaveMinTime+1e3*(-25/.3*r+25)}})),(0,i.HookFunction)(this.Title,"Player.IsSlow",0,((e,t)=>!!(d("slowLeave","food")&&(0,s.GetCharacterCurrentStatValue)(Player,"food")<=.3)||t(e)))}Unload(){super.Unload(),v=[],clearInterval(T)}}},"./src/modules/virtualPetHUD.ts":(e,t,o)=>{"use strict";o.r(t),o.d(t,{VirtualPetHUDModule:()=>d});var r=o("./src/util/sdk.ts"),n=o("./src/util/authority.ts"),i=o("./src/modules/_module.ts"),a=o("./src/modules/virtualPet.ts");const l=()=>Player.MPA[i.ModuleTitle.VirtualPet],s=()=>Player.MPA[i.ModuleTitle.VirtualPetHUD],u={food:"#f2bb18",water:"#2a9fc3",sleep:"#8d2aee",affection:"#ff78f2"};function c(e,t,o,r){const n=u[r.stat];MainCanvas.beginPath(),MainCanvas.arc(e,t,o,0,2*Math.PI,!0),MainCanvas.lineWidth=o/8,MainCanvas.strokeStyle=n,MainCanvas.stroke(),MainCanvas.beginPath(),MainCanvas.arc(e,t,o,-Math.PI/2,2*Math.PI*-r.level-Math.PI/2,!0),MainCanvas.lineTo(e,t),MainCanvas.fillStyle=n,MainCanvas.fill(),s().exactStats&&(MainCanvas.fillStyle="#000000",MainCanvas.font=CommonGetFont(1.25*o),MainCanvas.fillText(Math.round(100*r.level).toString(),e,t+.125*o),MainCanvas.font=CommonGetFont(36))}class d extends i.Module{get Title(){return i.ModuleTitle.VirtualPetHUD}get Settings(){return[{name:"self",type:"checkbox",active:()=>!!l().enabled,value:!0,label:"Display your own virtual pet stats on the HUD"},{name:"exactStats",type:"checkbox",active:()=>!!l().enabled||"Off"!==s().others,value:!1,label:"Display the exact number percentage on the HUD"},{name:"position",type:"option",active:()=>!!l().enabled||"Off"!==s().others,options:["Left","Center","Right","Split"],value:"Left",label:"Where to display the HUD",loop:!0},{name:"others",type:"option",active:()=>!0,options:["Off","Public","Friends","Whitelist","Lovers","Owners","D/s Family","Clubowner"],value:"Friends",label:"Display the virtual pet stats of others on the HUD",loop:!1}]}Load(){(0,r.HookFunction)(this.Title,"DrawArousalMeter",1,((e,t)=>{var o;const[r,u,d,m]=e;if(!ActivityAllowed()||r.IsPlayer()&&(!s().self||!l().enabled)||!r.IsPlayer()&&"Off"===s().others||!r.IsPlayer()&&!(0,n.IsMemberNumberInAuthGroup)(r.MemberNumber,s().others))return t(e);const h=null===(o=null==r?void 0:r.MPA)||void 0===o?void 0:o[i.ModuleTitle.VirtualPet];if(!(null==h?void 0:h.enabled))return t(e);const v=[];return["food","water","sleep","affection"].forEach((e=>{0!==h[`${e}Hours`]&&v.push({stat:e,level:(0,a.GetCharacterCurrentStatValue)(r,e)})})),0!==v.length&&function(e,t,o,r){const n=s().position;if("Left"===n||"Right"===n)r.reverse(),r.forEach(((r,i)=>{c(e+("Left"===n?80:420)*o,t+(950-36*i)*o,16*o,r)}));else if("Center"===n){const n=r.length;r.forEach(((r,i)=>{c(e+(250-18*(n-1)+36*i)*o,t+950*o,16*o,r)}))}else if("Split"===n){const n=[];switch(r.length){case 1:n.push([r[0]]),n.push([]);break;case 2:n.push([r[0]]),n.push([r[1]]);break;case 3:n.push([r[1],r[0]]),n.push([r[2]]);break;case 4:n.push([r[1],r[0]]),n.push([r[3],r[2]])}n.forEach(((r,n)=>{r.forEach(((r,i)=>{c(e+(0==n?80:420)*o,t+(950-36*i)*o,16*o,r)}))}))}}(u,d,m,v),t(e)}))}Unload(){super.Unload()}}},"./src/util/activities.ts":(e,t,o)=>{"use strict";o.r(t),o.d(t,{CreateActivities:()=>s,CreateActivity:()=>l,RemoveActivities:()=>c,RemoveActivity:()=>u,activityImages:()=>n,activityPrerequisites:()=>a,activityTriggers:()=>i});var r=o("./src/localization/localization.ts");const n={},i={},a={HoldingClicker:(e,t,o)=>{var r,n,i,a,l;return null!==(l=null===(a=null===(i=null===(n=null===(r=InventoryGet(e,"ItemHandheld"))||void 0===r?void 0:r.Asset)||void 0===n?void 0:n.Name)||void 0===i?void 0:i.toLocaleLowerCase())||void 0===a?void 0:a.includes("remote"))&&void 0!==l&&l},HasBowl:(e,t,o)=>{var r,n;return"PetBowl"===(null===(n=null===(r=InventoryGet(e,"ItemDevices"))||void 0===r?void 0:r.Asset)||void 0===n?void 0:n.Name)},UseTongueNoMouth:(e,t,o)=>!e.CanTalk()&&!e.IsMouthBlocked()};function l(e){var t;const o={Name:`MPA_${e.Name}`,ActivityID:Math.max(...ActivityFemale3DCG.map((e=>{var t;return null!==(t=e.ActivityID)&&void 0!==t?t:-1})))+1,MaxProgress:null!==(t=e.MaxProgress)&&void 0!==t?t:50,Prerequisite:e.Prerequisite,Target:[]};e.Targets.forEach((e=>{var t;e.actionSelf&&(o.TargetSelf||(o.TargetSelf=[]),null===(t=o.TargetSelf)||void 0===t||t.push(e.group),null===ActivityDictionary||void 0===ActivityDictionary||ActivityDictionary.push([`Label-ChatSelf-${e.group}-${o.Name}`,(0,r.LocalizedText)(e.label)]),null===ActivityDictionary||void 0===ActivityDictionary||ActivityDictionary.push([`ChatSelf-${e.group}-${o.Name}`,(0,r.LocalizedText)(e.actionSelf)])),e.actionOthers&&(o.Target.push(e.group),null===ActivityDictionary||void 0===ActivityDictionary||ActivityDictionary.push([`Label-ChatOther-${e.group}-${o.Name}`,(0,r.LocalizedText)(e.label)]),null===ActivityDictionary||void 0===ActivityDictionary||ActivityDictionary.push([`ChatOther-${e.group}-${o.Name}`,(0,r.LocalizedText)(e.actionOthers)]))})),n[o.Name]=e.Image,e.OnTrigger&&(i[o.Name]=e.OnTrigger),ActivityFemale3DCG.push(o),ActivityFemale3DCGOrdering.push(o.Name)}function s(e){e.forEach((e=>{l(e)}))}function u(e){const t=`MPA_${e.Name}`;e.Targets.forEach((e=>{var o,r;e.actionSelf&&(ActivityDictionary=null!==(o=null===ActivityDictionary||void 0===ActivityDictionary?void 0:ActivityDictionary.filter((o=>!(o[0]===`Label-ChatSelf-${e.group}-${t}`||o[0]===`ChatSelf-${e.group}-${t}`))))&&void 0!==o?o:null),e.actionOthers&&(ActivityDictionary=null!==(r=null===ActivityDictionary||void 0===ActivityDictionary?void 0:ActivityDictionary.filter((o=>!(o[0]===`Label-ChatOther-${e.group}-${t}`||o[0]===`ChatOther-${e.group}-${t}`))))&&void 0!==r?r:null)})),delete n[t],delete i[t],ActivityFemale3DCG=ActivityFemale3DCG.filter((e=>e.Name!==t)),ActivityFemale3DCGOrdering=ActivityFemale3DCGOrdering.filter((e=>e!==t))}function c(e){e.forEach((e=>{u(e)}))}},"./src/util/authority.ts":(e,t,o)=>{"use strict";o.r(t),o.d(t,{AUTHORITY_GROUPS:()=>l,AUTHORITY_GROUP_OPTIONS:()=>i,AuthorityIsComparisonToCharacter:()=>c,HighestLevelAuthorityGroup:()=>u,IsMemberNumberInAuthGroup:()=>s});var r=o("./src/modules/_module.ts"),n=o("./src/util/messaging.ts");const i=["Public","Friends","Whitelist","Lovers","Owners","Clubowner","Self"],a=["None","Public","Friends","Whitelist","Lovers","Owners","D/s Family","Clubowner","Self"],l={Self:e=>{var t;return[null!==(t=e.MemberNumber)&&void 0!==t?t:-1]},Clubowner:e=>{var t,o;return(null===(t=null==e?void 0:e.Ownership)||void 0===t?void 0:t.MemberNumber)?[null===(o=null==e?void 0:e.Ownership)||void 0===o?void 0:o.MemberNumber]:[]},Owners:function(e){var t,o,n;const i=(null!==(n=null===(o=null===(t=e.MPA)||void 0===t?void 0:t[r.ModuleTitle.Authority])||void 0===o?void 0:o.owners)&&void 0!==n?n:"").split(",").map((e=>parseInt(e))).filter((e=>!isNaN(e)));return 0===i.length?[]:i},Lovers:e=>{var t,o;return null!==(o=null===(t=e.Lovership)||void 0===t?void 0:t.filter((e=>e.MemberNumber)).map((e=>e.MemberNumber)))&&void 0!==o?o:[]},WhiteList:e=>{var t;return null!==(t=e.WhiteList)&&void 0!==t?t:[]},FriendList:()=>{var e;return null!==(e=Player.FriendList)&&void 0!==e?e:[]}};function s(e,t,o=!1,r=Player){var i,a,s,u,c;if("None"===t)return!1;if(e===l.Self(r)[0])return"Self"===t||o;if("Public"===t)return!(r.BlackList.includes(e)||null!==(a=null===(i=null==r?void 0:r.GhostList)||void 0===i?void 0:i.includes(e))&&void 0!==a&&a);if("D/s Family"===t&&r.MemberNumber===Player.MemberNumber)return null!==(u=null===(s=(0,n.FindCharacterInRoom)(e))||void 0===s?void 0:s.IsFamilyOfPlayer())&&void 0!==u&&u;let d=new Set;switch(t){case"Friends":if(r.MemberNumber!==Player.MemberNumber&&Player.MemberNumber===e&&l.FriendList().includes(null!==(c=r.MemberNumber)&&void 0!==c?c:-1))return!0;r.MemberNumber===Player.MemberNumber&&(d=new Set([...d,...l.FriendList()]));case"Whitelist":d=new Set([...d,...l.WhiteList(r)]);case"Lovers":d=new Set([...d,...l.Lovers(r)]);case"Owners":d=new Set([...d,...l.Owners(r)]);case"Clubowner":d=new Set([...d,...l.Clubowner(r)])}return d.has(e)}function u(e,t=Player){var o,r,n,i,a,s;return t.MemberNumber===e?"Self":(null===(o=null==t?void 0:t.Ownership)||void 0===o?void 0:o.MemberNumber)===e?"Clubowner":l.Owners(t).includes(e)?"Owners":l.Lovers(t).includes(e)?"Lovers":l.WhiteList(t).includes(e)?"Whitelist":t.MemberNumber===Player.MemberNumber&&(null===(r=Player.FriendList)||void 0===r?void 0:r.includes(e))||t.MemberNumber!==Player.MemberNumber&&e===Player.MemberNumber&&(null===(n=Player.FriendList)||void 0===n?void 0:n.includes(null!==(i=t.MemberNumber)&&void 0!==i?i:-1))?"Friends":t.BlackList.includes(e)||null!==(s=null===(a=null==t?void 0:t.GhostList)||void 0===a?void 0:a.includes(e))&&void 0!==s&&s?"None":"Public"}function c(e,t=">=",o,r=Player){const n=u(o,r),i=a.indexOf(e),l=a.indexOf(n);if(-1===i||-1===l)return!1;switch(t){case">":return l>i;case"<":return l<i;case">=":return l>=i;case"<=":return l<=i;case"==":return l==i;case"!=":return l!=i;default:throw new Error("Invalid comparison operator")}}},"./src/util/constants.ts":(e,t,o)=>{"use strict";o.r(t),o.d(t,{ICONS:()=>a,MPA_REPO:()=>i,MPA_VERSION:()=>n});var r=o("./package.json");const n=r.version,i=r.repository.url,a=Object.freeze({PAW:"data:image/png;base64,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"})},"./src/util/general.ts":(e,t,o)=>{"use strict";function r(e){return 0==e.length?null:e[Math.floor(Math.random()*e.length)]}o.r(t),o.d(t,{RandomElement:()=>r})},"./src/util/messaging.ts":(e,t,o)=>{"use strict";o.r(t),o.d(t,{AddDataSyncListener:()=>v,AddDataSyncListeners:()=>f,ArrayToReadableString:()=>b,ContentIsMPAMesage:()=>n,FindCharacterInRoom:()=>d,GetAttributeFromChatDictionary:()=>g,GetEntryFromChatDictionary:()=>y,GetMPAMessageFromChat:()=>i,MPANotifyPlayer:()=>c,NotifyPlayer:()=>u,RemoveDataSyncListeners:()=>p,RemoveOOCContentFromMessage:()=>m,SendAction:()=>l,SendEmote:()=>s,SendMPAMessage:()=>a,hookedMessages:()=>h});var r=o("./src/localization/localization.ts");function n(e){var t;return"Hidden"===e.Type&&"MPA"===e.Content&&1===(null===(t=null==e?void 0:e.Dictionary)||void 0===t?void 0:t.length)}function i(e){return n(e)?e.Dictionary[0]:null}function a(e,t){ServerSend("ChatRoomChat",{Type:"Hidden",Content:"MPA",Dictionary:[e],Target:t})}function l(e,t=void 0,o=[]){ServerSend("ChatRoomChat",{Content:"MayaScript",Type:"Activity",Dictionary:[{Tag:"MISSING ACTIVITY DESCRIPTION FOR KEYWORD MayaScript",Text:(0,r.LocalizedText)(e)},...o],Target:null==t?void 0:t.MemberNumber})}function s(e,t=void 0){ServerSend("ChatRoomChat",{Content:`${e}`,Type:"Emote",Target:null==t?void 0:t.MemberNumber})}function u(e,t){ChatRoomSendLocal(`<p style='background-color:#00c2ff;margin-bottom:0.25em;margin-top:0'>${e}</p>`,t)}function c(e,t){u(`${(0,r.LocalizedText)("MPA")}: ${e}`,t)}function d(e,{MemberNumber:t=!0,NickName:o=!0,Name:r=!0}={}){var n;"string"!=typeof e&&(e=e.toString()),e=e.toLocaleLowerCase();for(const i of ChatRoomCharacter)if(t&&(null==i?void 0:i.MemberNumber)===Number(e)||o&&(null===(n=null==i?void 0:i.Nickname)||void 0===n?void 0:n.toLocaleLowerCase())===e||r&&i.Name.toLocaleLowerCase()===e)return i;return null}function m(e){return SpeechGetOOCRanges(e).reverse().forEach((t=>{e=e.substring(0,t.start)+e.substring(t.start+t.length)})),e}const h=[];function v(e){h.push({module:e.module,message:e.message,action:e.action})}function f(e){e.forEach((e=>{h.push({module:e.module,message:e.message,action:e.action})}))}function p(e){for(let t=h.length-1;0<=t;t--)h[t].module===e&&h.splice(t,1)}function y(e,t){if(e.Dictionary)try{return e.Dictionary.filter((e=>!!e[t]))[0]}catch(e){}}function g(e,t){var o;return null===(o=y(e,t))||void 0===o?void 0:o[t]}function b(e){const t=e.length;return 0===t?"":1===t?e[0]:2===t?`${e[0]} and ${e[1]}`:`${e.slice(0,-1).join(", ")}, and ${e[t-1]}`}},"./src/util/registerModules.ts":(e,t,o)=>{"use strict";o.r(t),o.d(t,{RegisterModules:()=>y,modules:()=>f,settings:()=>p});var r=o("./src/util/storage.ts"),n=o("./src/modules/dataSync.ts"),i=o("./src/modules/settings.ts"),a=o("./src/modules/activities.ts"),l=o("./src/modules/clicker.ts"),s=o("./src/modules/virtualPet.ts"),u=o("./src/modules/virtualPetHUD.ts"),c=o("./src/modules/virtualPetConditions.ts"),d=o("./src/modules/profile.ts"),m=o("./src/modules/settingsOthers.ts"),h=o("./src/modules/authority.ts");let v=!1;const f=[new n.DataSyncModule,new i.SettingsModule,new a.ActivitiesModule,new l.ClickerModule,new s.VirtualPetModule,new u.VirtualPetHUDModule,new c.VirtualPetConditionsModule,new d.ProfileModule,new m.SettingsOtherModule,new h.AuthorityModule],p={};async function y(){v||(f.forEach((e=>{const t=e.Settings,o={};t.forEach((e=>{o[e.name]=e})),0!==Object.keys(o).length&&(p[e.Title]=o)})),await(0,r.LoadStorage)(),f.forEach((e=>{e.Load()})),v=!0)}},"./src/util/sdk.ts":(e,t,o)=>{"use strict";o.r(t),o.d(t,{AwaitPlayer:()=>c,HookFunction:()=>s,RemoveHooks:()=>u,modAPI:()=>l});var r=o("./node_modules/bondage-club-mod-sdk/dist/bcmodsdk.js"),n=o.n(r),i=o("./src/util/constants.ts");const a=[],l=n().registerMod({name:"MPA",version:i.MPA_VERSION,fullName:"Maya's Petplay Additions",repository:i.MPA_REPO},{allowReplace:!1});function s(e,t,o,r){const n=l.hookFunction(t,o,r);return a.push({functionName:t,priority:o,hook:r,module:e,removeHook:n}),n}function u(e){for(let t=a.length-1;0<=t;t--)a[t].module===e&&(a[t].removeHook(),a.splice(t,1))}async function c(){if(!Player.MemberNumber||!Player.ExtensionSettings)return new Promise((e=>{const t=l.hookFunction("LoginResponse",0,((o,r)=>{r(o),t(),e()}))}))}},"./src/util/settingTypes.ts":(e,t,o)=>{"use strict";function r(e){return"function"==typeof e.active&&"string"==typeof e.label}function n(e){return r(e)&&"checkbox"===e.type&&"boolean"==typeof e.value}function i(e){return r(e)&&"option"===e.type&&"string"==typeof e.value&&Array.isArray(e.options)&&"boolean"==typeof e.loop}function a(e){return r(e)&&"text"===e.type&&"string"==typeof e.value&&("number"==typeof e.width||null===e.width)&&("number"==typeof e.maxChars||null===e.maxChars)}function l(e){return r(e)&&"number"===e.type&&"number"==typeof e.value&&("number"==typeof e.width||null===e.width)&&"number"==typeof e.min&&"number"==typeof e.max&&("number"==typeof e.step||null===e.step)}o.r(t),o.d(t,{IsCheckboxSetting:()=>n,IsDisplaySetting:()=>r,IsNumberSetting:()=>l,IsOptionSetting:()=>i,IsTextSetting:()=>a})},"./src/util/storage.ts":(e,t,o)=>{"use strict";o.r(t),o.d(t,{ExportSettingsToClipboard:()=>v,ImportSettingsFromClipboard:()=>f,LoadStorage:()=>d,ResetStorage:()=>h,SaveStorage:()=>m});var r=o("./src/localization/localization.ts"),n=o("./src/util/registerModules.ts"),i=o("./src/util/sdk.ts"),a=o("./src/modules/settings.ts"),l=o("./src/modules/dataSync.ts"),s=o("./src/modules/_module.ts"),u=o("./src/util/constants.ts"),c=o("./src/modules/virtualPet.ts");async function d(){var e,t,o,a;await(0,i.AwaitPlayer)();const l=null!==(a=JSON.parse(null!==(o=LZString.decompressFromBase64(null!==(t=null===(e=Player.ExtensionSettings)||void 0===e?void 0:e.MPA)&&void 0!==t?t:""))&&void 0!==o?o:"{}"))&&void 0!==a?a:{};Object.entries(n.settings).forEach((e=>{const[t,o]=e;for(const[e,r]of Object.entries(o))t in l||(l[t]={}),e in l[t]||(l[t][e]=r.value)})),function(e){var t;e.version!==u.MPA_VERSION&&(ServerAccountBeep({MemberNumber:null!==(t=Player.MemberNumber)&&void 0!==t?t:-1,MemberName:(0,r.LocalizedText)("MPA"),ChatRoomSpace:"X",ChatRoomName:(0,r.LocalizedText)("MPA Updated"),Private:!1,BeepType:"",Message:"MPA has been updated."}),e.version=u.MPA_VERSION,m(!1))}(l),Player.MPA=l}function m(e=!0){Player.ExtensionSettings.MPA=LZString.compressToBase64(JSON.stringify(Player.MPA)),ServerPlayerExtensionSettingsSync("MPA"),e&&(0,l.SettingSync)(!1)}async function h(){delete Player.ExtensionSettings.MPA,Player.ExtensionSettings.MPA=LZString.compressToBase64(JSON.stringify({version:u.MPA_VERSION})),await d(),m(),(0,a.UpdateElementValues)()}async function v(){return navigator.clipboard.writeText(LZString.compressToBase64(JSON.stringify(Player.MPA)))}async function f(){return new Promise(((e,t)=>{navigator.clipboard.readText().then((o=>{var r;try{const e=JSON.parse(null!==(r=LZString.decompressFromBase64(null!=o?o:""))&&void 0!==r?r:"{}"),t=JSON.parse(JSON.stringify(Player.MPA));t[s.ModuleTitle.VirtualPet].levels.lastUpdated=Date.now(),t[s.ModuleTitle.VirtualPet].levels.lastOnline=Date.now();for(const o in e)void 0!==e[o]&&(t[o]=e[o]);t[s.ModuleTitle.VirtualPet].levels.lastUpdated=Date.now()-(t[s.ModuleTitle.VirtualPet].levels.lastOnline-t[s.ModuleTitle.VirtualPet].levels.lastUpdated),t[s.ModuleTitle.VirtualPet].levels.lastOnline=Date.now(),Player.MPA=t,(0,c.LevelSync)(!1,!1,!1),m(!0)}catch(e){return console.warn(e),t()}return e()}),(()=>t()))}))}},"./package.json":e=>{"use strict";e.exports=JSON.parse('{"name":"mpa","description":"","version":"0.4.3","author":"Maya","license":"MIT","repository":{"type":"git","url":"https://github.com/MayaTheFoxy/MPA"},"scripts":{"serve":"npx webpack serve --progress","stable":"npx webpack --env stable=true","dev":"npx webpack --env stable=false","lint":"eslint ./src","lint-fix":"eslint ./src --fix"},"dependencies":{"bondage-club-mod-sdk":"^1.2.0"},"devDependencies":{"@eslint/js":"^9.9.0","@stylistic/eslint-plugin":"^2.6.2","bc-stubs":"^v108.0.0","eslint":"^9.9.0","globals":"^15.9.0","lz-string":"^1.5.0","terser-webpack-plugin":"^5.3.10","ts-loader":"^9.5.1","typescript":"^5.5.4","typescript-eslint":"^8.1.0","webpack":"^5.93.0","webpack-cli":"^5.1.4","webpack-dev-server":"^5.0.4"}}')},"./src/localization/RU.json":e=>{"use strict";e.exports=JSON.parse('{"Maya\'s Petplay Additions":"Дополнения для петплея от Maya","MPA Settings":"","Clicker":"Кликер","Enable auditory clicker":"","Phrases that trigger the click; Separate phrases with a comma":"Фразы, которые совершают клик; Разделяйте фразы с помощью запятой","Allow your own chat, emotes, & actions to trigger the clicker":"Разрешить вашим собственным сообщения в чате, эмоциям или действиям совершать клик","Who will be able to trigger the clicker":"Кто сможет вызывать срабатывание кликера","Public":"Публично","Friends":"Друзья","Whitelist":"Белый список","Lovers":"Любовники","Owners":"Владельцы","Clubowner":"Клубный владелец","Self":"Самостоятельно","Virtual Pet":"Виртуальный питомец","Become a virtual pet! Requiring: food, water, sleep, and affection":"Станьте виртуальным питомцем! Ваши потребности: еда, вода, сон и ласка","How many hours until you are completely out of food; 0 to disable":"Через сколько часов у вас полностью закончится еда; 0 для отключения","How many hours until you are completely out of water; 0 to disable":"Через сколько часов у вас полностью закончится вода; 0 для отключения","How many hours until you are completely out of sleep; 0 to disable":"Через сколько часов у вас полностью закончится сон; 0 для отключения","How many hours until you are completely out of affection; 0 to disable":"Через сколько часов у вас полностью закончится ласка; 0 для отключения","Pause stats from draining when logged out of the club":"Приостановить снижение показателей при выходе из клуба","Allow eating or drinking from items in your OWN hands":"Разрешить есть или пить из предметов в ваших СОБСТВЕННЫХ руках","Click Once":"Щелкнуть один раз","SourceCharacter presses the button PronounPossessive clicker.":"SourceCharacter нажимает на кнопку PronounPossessive кликера.","Click Twice":"Щелкнуть дважды","SourceCharacter presses the button PronounPossessive clicker twice.":"SourceCharacter нажимает на кнопку PronounPossessive кликера дважды.","Click Thrice":"Щелкнуть трижды","SourceCharacter presses the button PronounPossessive clicker three times.":"SourceCharacter нажимает на кнопку PronounPossessive кликера трижды."}')},"./src/localization/template.json":e=>{"use strict";e.exports=JSON.parse('{"Maya\'s Petplay Additions":"","MPA":"","MPA Settings":"","MPA: No BC item permission":"","MPA Updated":"","Wiki":"","Open the MPA wiki in a new tab":"","RESET":"","Reset all your settings back to default":"","Import":"","Import the settings copied to your clipboard":"","Export":"","Export your current settings to the clipboard":"","Confirm":"","Cancel":"","WARNING: Are you sure you want to reset your MPA settings and data back to default?":"","This action can not be undone!":"","Export and save your settings BEFORE confirming if you are unsure.":"","Public":"","Friends":"","Whitelist":"","Lovers":"","Owners":"","Clubowner":"","Self":"","None":"","Authority":"","Owner member numbers; Seperated by a ,":"","Allow TargetCharacter to change TargetPronounPossessive Authority settings":"","Allow others to change TargetCharacter\'s Authority settings":"","Allow TargetCharacter to change TargetPronounPossessive Profile settings":"","Allow others to change TargetCharacter\'s Profile settings":"","Allow TargetCharacter to change TargetPronounPossessive Clicker settings":"","Allow others to change TargetCharacter\'s Clicker settings":"","Allow TargetCharacter to change TargetPronounPossessive Virtual Pet settings":"","Allow others to change TargetCharacter\'s Virtual Pet settings":"","Allow TargetCharacter to change TargetPronounPossessive Virtual Pet Conditions settings":"","Allow others to change TargetCharacter\'s Virtual Pet Conditions settings":"","SourceCharacter just updated your SettingsArray settings.":"","Profile":"","Use a preset profile or make your own":"","Phrases you speak when unable to be understood":"","Enable hardcore mode; Will set certain settings and prevent changing them back":"","Clicker":"","Enable auditory clicker":"","Phrases that trigger the click; Separate phrases with a comma":"","Allow your own chat, emotes, & actions to trigger the clicker":"","Who will be able to trigger the clicker":"","Allow BCX Listen to my voice rule to trigger the clicker; Requires BCX":"","Virtual Pet":"","Become a virtual pet! Requiring: food, water, sleep, and affection":"","How many hours until you are completely out of food; 0 to disable":"","How many hours until you are completely out of water; 0 to disable":"","How many hours until you are completely out of sleep; 0 to disable":"","How many hours until you are completely out of affection; 0 to disable":"","Pause stats from draining when logged out of the club":"","Allow eating or drinking from items in your OWN hands":"","Stats drain even when logged out of the club":"","Masochist pet; Abuse raises affection":"","Virtual Pet HUD":"","Display your own virtual pet stats on the HUD":"","Display the exact number percentage on the HUD":"","Where to display the HUD":"","Display the virtual pet stats of others on the HUD":"","Click Once":"","SourceCharacter presses the button on PronounPossessive clicker.":"","Click Twice":"","SourceCharacter presses the button on PronounPossessive clicker twice.":"","Click Thrice":"","SourceCharacter presses the button on PronounPossessive clicker three times.":"","Eat From Bowl":"","Drink From Bowl":"","SourceCharacter eats from PronounPossessive bowl.":"","SourceCharacter drinks from PronounPossessive bowl.":"","SourceCharacter puts PronounPossessive head into PronounPossessive bowl in order to eat with the gag, making a mess.":"","SourceCharacter puts PronounPossessive head into PronounPossessive bowl in order to drink with the gag, making a mess.":"","Virtual Pet Conditions":"","SourceCharacter passes out from exhaustion.":"","SourceCharacter wakes up from PronounPossessive nap.":"","Recive conditions based on current level of your virtual pet stats":"","Food and water affects affection gain":"","Vision darkens as you get sleepier":"","Passout when exhausted":"","Use LSCG passout instead of MPA; Requires LSCG":"","Affection will buff skills based on its level":"","Affection will debuff skills based on its level":"","Hearing becomes harder the hungrier you are":"","Takes longer to leave the room when hungry":""}')}},t={};function o(r){var n=t[r];if(void 0!==n)return n.exports;var i=t[r]={exports:{}};return e[r](i,i.exports,o),i.exports}o.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return o.d(t,{a:t}),t},o.d=(e,t)=>{for(var r in t)o.o(t,r)&&!o.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),o.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var r={};(()=>{"use strict";o.r(r);var e=o("./src/util/registerModules.ts"),t=o("./src/commands/buildAllCommands.ts"),n=o("./src/util/constants.ts");console.log("Loading Maya's Petplay Additions"),(0,t.BuildAllCommands)(),(0,e.RegisterModules)(),window.MPA={version:n.MPA_VERSION,menuLoaded:!1}})()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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SCxPQUFPQSxFQUFheG9CLFFBR3JCLElBQUk0SixFQUFTeWUsRUFBeUJFLEdBQVksQ0FHakR2b0IsUUFBUyxDQUFDLEdBT1gsT0FIQXlvQixFQUFvQkYsR0FBVTNlLEVBQVFBLEVBQU81SixRQUFTc29CLEdBRy9DMWUsRUFBTzVKLE9BQ2YsQ0NyQkFzb0IsRUFBb0J6dUIsRUFBSytQLElBQ3hCLElBQUk4ZSxFQUFTOWUsR0FBVUEsRUFBTytlLFdBQzdCLElBQU8vZSxFQUFpQixRQUN4QixJQUFNLEVBRVAsT0FEQTBlLEVBQW9CbHJCLEVBQUVzckIsRUFBUSxDQUFFbnVCLEVBQUdtdUIsSUFDNUJBLENBQU0sRUNMZEosRUFBb0JsckIsRUFBSSxDQUFDNEMsRUFBUzRvQixLQUNqQyxJQUFJLElBQUlwWSxLQUFPb1ksRUFDWE4sRUFBb0JqdkIsRUFBRXV2QixFQUFZcFksS0FBUzhYLEVBQW9CanZCLEVBQUUyRyxFQUFTd1EsSUFDNUVsVCxPQUFPeUMsZUFBZUMsRUFBU3dRLEVBQUssQ0FBRXFZLFlBQVksRUFBTS90QixJQUFLOHRCLEVBQVdwWSxJQUUxRSxFQ05EOFgsRUFBb0JqdkIsRUFBSSxDQUFDeXZCLEVBQUtDLElBQVV6ckIsT0FBTzByQixVQUFVQyxlQUFlanRCLEtBQUs4c0IsRUFBS0MsR0NDbEZULEVBQW9CdHVCLEVBQUtnRyxJQUNILG9CQUFYa3BCLFFBQTBCQSxPQUFPQyxhQUMxQzdyQixPQUFPeUMsZUFBZUMsRUFBU2twQixPQUFPQyxZQUFhLENBQUVscEIsTUFBTyxXQUU3RDNDLE9BQU95QyxlQUFlQyxFQUFTLGFBQWMsQ0FBRUMsT0FBTyxHQUFPLHVKQ0s5RHhHLFFBQVFxbEIsSUFBSSxxQ0FFWixJQUFBcGQscUJBQ0EsSUFBQTRrQixtQkFDQXpwQixPQUFPb0ksSUFBTSxDQUNUMUcsUUFBUyxFQUFBMG1CLFlBQ1RoVCxZQUFZIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbXBhLy4vbm9kZV9tb2R1bGVzL2JvbmRhZ2UtY2x1Yi1tb2Qtc2RrL2Rpc3QvYmNtb2RzZGsuanMiLCJ3ZWJwYWNrOi8vbXBhLy4vc3JjL2NvbW1hbmRzL2JlZC50cyIsIndlYnBhY2s6Ly9tcGEvLi9zcmMvY29tbWFuZHMvYnVpbGRBbGxDb21tYW5kcy50cyIsIndlYnBhY2s6Ly9tcGEvLi9zcmMvbG9jYWxpemF0aW9uL2xvY2FsaXphdGlvbi50cyIsIndlYnBhY2s6Ly9tcGEvLi9zcmMvbW9kdWxlcy9fbW9kdWxlLnRzIiwid2VicGFjazovL21wYS8uL3NyYy9tb2R1bGVzL2FjdGl2aXRpZXMudHMiLCJ3ZWJwYWNrOi8vbXBhLy4vc3JjL21vZHVsZXMvYXV0aG9yaXR5LnRzIiwid2VicGFjazovL21wYS8uL3NyYy9tb2R1bGVzL2NsaWNrZXIudHMiLCJ3ZWJwYWNrOi8vbXBhLy4vc3JjL21vZHVsZXMvZGF0YVN5bmMudHMiLCJ3ZWJwYWNrOi8vbXBhLy4vc3JjL21vZHVsZXMvcHJvZmlsZS50cyIsIndlYnBhY2s6Ly9tcGEvLi9zcmMvbW9kdWxlcy9zZXR0aW5ncy50cyIsIndlYnBhY2s6Ly9tcGEvLi9zcmMvbW9kdWxlcy9zZXR0aW5nc090aGVycy50cyIsIndlYnBhY2s6Ly9tcGEvLi9zcmMvbW9kdWxlcy92aXJ0dWFsUGV0LnRzIiwid2VicGFjazovL21wYS8uL3NyYy9tb2R1bGVzL3ZpcnR1YWxQZXRDb25kaXRpb25zLnRzIiwid2VicGFjazovL21wYS8uL3NyYy9tb2R1bGVzL3ZpcnR1YWxQZXRIVUQudHMiLCJ3ZWJwYWNrOi8vbXBhLy4vc3JjL3V0aWwvYWN0aXZpdGllcy50cyIsIndlYnBhY2s6Ly9tcGEvLi9zcmMvdXRpbC9hdXRob3JpdHkudHMiLCJ3ZWJwYWNrOi8vbXBhLy4vc3JjL3V0aWwvY29uc3RhbnRzLnRzIiwid2VicGFjazovL21wYS8uL3NyYy91dGlsL2dlbmVyYWwudHMiLCJ3ZWJwYWNrOi8vbXBhLy4vc3JjL3V0aWwvbWVzc2FnaW5nLnRzIiwid2VicGFjazovL21wYS8uL3NyYy91dGlsL3JlZ2lzdGVyTW9kdWxlcy50cyIsIndlYnBhY2s6Ly9tcGEvLi9zcmMvdXRpbC9zZGsudHMiLCJ3ZWJwYWNrOi8vbXBhLy4vc3JjL3V0aWwvc2V0dGluZ1R5cGVzLnRzIiwid2VicGFjazovL21wYS8uL3NyYy91dGlsL3N0b3JhZ2UudHMiLCJ3ZWJwYWNrOi8vbXBhL3dlYnBhY2svYm9vdHN0cmFwIiwid2VicGFjazovL21wYS93ZWJwYWNrL3J1bnRpbWUvY29tcGF0IGdldCBkZWZhdWx0IGV4cG9ydCIsIndlYnBhY2s6Ly9tcGEvd2VicGFjay9ydW50aW1lL2RlZmluZSBwcm9wZXJ0eSBnZXR0ZXJzIiwid2VicGFjazovL21wYS93ZWJwYWNrL3J1bnRpbWUvaGFzT3duUHJvcGVydHkgc2hvcnRoYW5kIiwid2VicGFjazovL21wYS93ZWJwYWNrL3J1bnRpbWUvbWFrZSBuYW1lc3BhY2Ugb2JqZWN0Iiwid2VicGFjazovL21wYS8uL3NyYy9pbmRleC50cyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBCb25kYWdlIENsdWIgTW9kIERldmVsb3BtZW50IEtpdCAoMS4yLjApXG4vLyBGb3IgbW9yZSBpbmZvIHNlZTogaHR0cHM6Ly9naXRodWIuY29tL0pvbXNoaXI5OC9ib25kYWdlLWNsdWItbW9kLXNka1xuLyoqIEB0eXBlIHtNb2RTREtHbG9iYWxBUEl9ICovXG52YXIgYmNNb2RTZGs9ZnVuY3Rpb24oKXtcInVzZSBzdHJpY3RcIjtjb25zdCBvPVwiMS4yLjBcIjtmdW5jdGlvbiBlKG8pe2FsZXJ0KFwiTW9kIEVSUk9SOlxcblwiK28pO2NvbnN0IGU9bmV3IEVycm9yKG8pO3Rocm93IGNvbnNvbGUuZXJyb3IoZSksZX1jb25zdCB0PW5ldyBUZXh0RW5jb2RlcjtmdW5jdGlvbiBuKG8pe3JldHVybiEhbyYmXCJvYmplY3RcIj09dHlwZW9mIG8mJiFBcnJheS5pc0FycmF5KG8pfWZ1bmN0aW9uIHIobyl7Y29uc3QgZT1uZXcgU2V0O3JldHVybiBvLmZpbHRlcigobz0+IWUuaGFzKG8pJiZlLmFkZChvKSkpfWNvbnN0IGk9bmV3IE1hcCxhPW5ldyBTZXQ7ZnVuY3Rpb24gYyhvKXthLmhhcyhvKXx8KGEuYWRkKG8pLGNvbnNvbGUud2FybihvKSl9ZnVuY3Rpb24gcyhvKXtjb25zdCBlPVtdLHQ9bmV3IE1hcCxuPW5ldyBTZXQ7Zm9yKGNvbnN0IHIgb2YgZi52YWx1ZXMoKSl7Y29uc3QgaT1yLnBhdGNoaW5nLmdldChvLm5hbWUpO2lmKGkpe2UucHVzaCguLi5pLmhvb2tzKTtmb3IoY29uc3RbZSxhXW9mIGkucGF0Y2hlcy5lbnRyaWVzKCkpdC5oYXMoZSkmJnQuZ2V0KGUpIT09YSYmYyhgTW9kU0RLOiBNb2QgJyR7ci5uYW1lfScgaXMgcGF0Y2hpbmcgZnVuY3Rpb24gJHtvLm5hbWV9IHdpdGggc2FtZSBwYXR0ZXJuIHRoYXQgaXMgYWxyZWFkeSBhcHBsaWVkIGJ5IGRpZmZlcmVudCBtb2QsIGJ1dCB3aXRoIGRpZmZlcmVudCBwYXR0ZXJuOlxcblBhdHRlcm46XFxuJHtlfVxcblBhdGNoMTpcXG4ke3QuZ2V0KGUpfHxcIlwifVxcblBhdGNoMjpcXG4ke2F9YCksdC5zZXQoZSxhKSxuLmFkZChyLm5hbWUpfX1lLnNvcnQoKChvLGUpPT5lLnByaW9yaXR5LW8ucHJpb3JpdHkpKTtjb25zdCByPWZ1bmN0aW9uKG8sZSl7aWYoMD09PWUuc2l6ZSlyZXR1cm4gbztsZXQgdD1vLnRvU3RyaW5nKCkucmVwbGFjZUFsbChcIlxcclxcblwiLFwiXFxuXCIpO2Zvcihjb25zdFtuLHJdb2YgZS5lbnRyaWVzKCkpdC5pbmNsdWRlcyhuKXx8YyhgTW9kU0RLOiBQYXRjaGluZyAke28ubmFtZX06IFBhdGNoICR7bn0gbm90IGFwcGxpZWRgKSx0PXQucmVwbGFjZUFsbChuLHIpO3JldHVybigwLGV2YWwpKGAoJHt0fSlgKX0oby5vcmlnaW5hbCx0KTtsZXQgaT1mdW5jdGlvbihlKXt2YXIgdCxpO2NvbnN0IGE9bnVsbD09PShpPSh0PW0uZXJyb3JSZXBvcnRlckhvb2tzKS5ob29rQ2hhaW5FeGl0KXx8dm9pZCAwPT09aT92b2lkIDA6aS5jYWxsKHQsby5uYW1lLG4pLGM9ci5hcHBseSh0aGlzLGUpO3JldHVybiBudWxsPT1hfHxhKCksY307Zm9yKGxldCB0PWUubGVuZ3RoLTE7dD49MDt0LS0pe2NvbnN0IG49ZVt0XSxyPWk7aT1mdW5jdGlvbihlKXt2YXIgdCxpO2NvbnN0IGE9bnVsbD09PShpPSh0PW0uZXJyb3JSZXBvcnRlckhvb2tzKS5ob29rRW50ZXIpfHx2b2lkIDA9PT1pP3ZvaWQgMDppLmNhbGwodCxvLm5hbWUsbi5tb2QpLGM9bi5ob29rLmFwcGx5KHRoaXMsW2Usbz0+e2lmKDEhPT1hcmd1bWVudHMubGVuZ3RofHwhQXJyYXkuaXNBcnJheShlKSl0aHJvdyBuZXcgRXJyb3IoYE1vZCAke24ubW9kfSBmYWlsZWQgdG8gY2FsbCBuZXh0IGhvb2s6IEV4cGVjdGVkIGFyZ3MgdG8gYmUgYXJyYXksIGdvdCAke3R5cGVvZiBvfWApO3JldHVybiByLmNhbGwodGhpcyxvKX1dKTtyZXR1cm4gbnVsbD09YXx8YSgpLGN9fXJldHVybntob29rczplLHBhdGNoZXM6dCxwYXRjaGVzU291cmNlczpuLGVudGVyOmksZmluYWw6cn19ZnVuY3Rpb24gbChvLGU9ITEpe2xldCByPWkuZ2V0KG8pO2lmKHIpZSYmKHIucHJlY29tcHV0ZWQ9cyhyKSk7ZWxzZXtsZXQgZT13aW5kb3c7Y29uc3QgYT1vLnNwbGl0KFwiLlwiKTtmb3IobGV0IHQ9MDt0PGEubGVuZ3RoLTE7dCsrKWlmKGU9ZVthW3RdXSwhbihlKSl0aHJvdyBuZXcgRXJyb3IoYE1vZFNESzogRnVuY3Rpb24gJHtvfSB0byBiZSBwYXRjaGVkIG5vdCBmb3VuZDsgJHthLnNsaWNlKDAsdCsxKS5qb2luKFwiLlwiKX0gaXMgbm90IG9iamVjdGApO2NvbnN0IGM9ZVthW2EubGVuZ3RoLTFdXTtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiBjKXRocm93IG5ldyBFcnJvcihgTW9kU0RLOiBGdW5jdGlvbiAke299IHRvIGJlIHBhdGNoZWQgbm90IGZvdW5kYCk7Y29uc3QgbD1mdW5jdGlvbihvKXtsZXQgZT0tMTtmb3IoY29uc3QgbiBvZiB0LmVuY29kZShvKSl7bGV0IG89MjU1JihlXm4pO2ZvcihsZXQgZT0wO2U8ODtlKyspbz0xJm8/LTMwNjY3NDkxMl5vPj4+MTpvPj4+MTtlPWU+Pj44Xm99cmV0dXJuKCgtMV5lKT4+PjApLnRvU3RyaW5nKDE2KS5wYWRTdGFydCg4LFwiMFwiKS50b1VwcGVyQ2FzZSgpfShjLnRvU3RyaW5nKCkucmVwbGFjZUFsbChcIlxcclxcblwiLFwiXFxuXCIpKSxkPXtuYW1lOm8sb3JpZ2luYWw6YyxvcmlnaW5hbEhhc2g6bH07cj1PYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sZCkse3ByZWNvbXB1dGVkOnMoZCkscm91dGVyOigpPT57fSxjb250ZXh0OmUsY29udGV4dFByb3BlcnR5OmFbYS5sZW5ndGgtMV19KSxyLnJvdXRlcj1mdW5jdGlvbihvKXtyZXR1cm4gZnVuY3Rpb24oLi4uZSl7cmV0dXJuIG8ucHJlY29tcHV0ZWQuZW50ZXIuYXBwbHkodGhpcyxbZV0pfX0ociksaS5zZXQobyxyKSxlW3IuY29udGV4dFByb3BlcnR5XT1yLnJvdXRlcn1yZXR1cm4gcn1mdW5jdGlvbiBkKCl7Zm9yKGNvbnN0IG8gb2YgaS52YWx1ZXMoKSlvLnByZWNvbXB1dGVkPXMobyl9ZnVuY3Rpb24gcCgpe2NvbnN0IG89bmV3IE1hcDtmb3IoY29uc3RbZSx0XW9mIGkpby5zZXQoZSx7bmFtZTplLG9yaWdpbmFsOnQub3JpZ2luYWwsb3JpZ2luYWxIYXNoOnQub3JpZ2luYWxIYXNoLHNka0VudHJ5cG9pbnQ6dC5yb3V0ZXIsY3VycmVudEVudHJ5cG9pbnQ6dC5jb250ZXh0W3QuY29udGV4dFByb3BlcnR5XSxob29rZWRCeU1vZHM6cih0LnByZWNvbXB1dGVkLmhvb2tzLm1hcCgobz0+by5tb2QpKSkscGF0Y2hlZEJ5TW9kczpBcnJheS5mcm9tKHQucHJlY29tcHV0ZWQucGF0Y2hlc1NvdXJjZXMpfSk7cmV0dXJuIG99Y29uc3QgZj1uZXcgTWFwO2Z1bmN0aW9uIHUobyl7Zi5nZXQoby5uYW1lKSE9PW8mJmUoYEZhaWxlZCB0byB1bmxvYWQgbW9kICcke28ubmFtZX0nOiBOb3QgcmVnaXN0ZXJlZGApLGYuZGVsZXRlKG8ubmFtZSksby5sb2FkZWQ9ITEsZCgpfWZ1bmN0aW9uIGcobyx0KXtvJiZcIm9iamVjdFwiPT10eXBlb2Ygb3x8ZShcIkZhaWxlZCB0byByZWdpc3RlciBtb2Q6IEV4cGVjdGVkIGluZm8gb2JqZWN0LCBnb3QgXCIrdHlwZW9mIG8pLFwic3RyaW5nXCI9PXR5cGVvZiBvLm5hbWUmJm8ubmFtZXx8ZShcIkZhaWxlZCB0byByZWdpc3RlciBtb2Q6IEV4cGVjdGVkIG5hbWUgdG8gYmUgbm9uLWVtcHR5IHN0cmluZywgZ290IFwiK3R5cGVvZiBvLm5hbWUpO2xldCByPWAnJHtvLm5hbWV9J2A7XCJzdHJpbmdcIj09dHlwZW9mIG8uZnVsbE5hbWUmJm8uZnVsbE5hbWV8fGUoYEZhaWxlZCB0byByZWdpc3RlciBtb2QgJHtyfTogRXhwZWN0ZWQgZnVsbE5hbWUgdG8gYmUgbm9uLWVtcHR5IHN0cmluZywgZ290ICR7dHlwZW9mIG8uZnVsbE5hbWV9YCkscj1gJyR7by5mdWxsTmFtZX0gKCR7by5uYW1lfSknYCxcInN0cmluZ1wiIT10eXBlb2Ygby52ZXJzaW9uJiZlKGBGYWlsZWQgdG8gcmVnaXN0ZXIgbW9kICR7cn06IEV4cGVjdGVkIHZlcnNpb24gdG8gYmUgc3RyaW5nLCBnb3QgJHt0eXBlb2Ygby52ZXJzaW9ufWApLG8ucmVwb3NpdG9yeXx8KG8ucmVwb3NpdG9yeT12b2lkIDApLHZvaWQgMCE9PW8ucmVwb3NpdG9yeSYmXCJzdHJpbmdcIiE9dHlwZW9mIG8ucmVwb3NpdG9yeSYmZShgRmFpbGVkIHRvIHJlZ2lzdGVyIG1vZCAke3J9OiBFeHBlY3RlZCByZXBvc2l0b3J5IHRvIGJlIHVuZGVmaW5lZCBvciBzdHJpbmcsIGdvdCAke3R5cGVvZiBvLnZlcnNpb259YCksbnVsbD09dCYmKHQ9e30pLHQmJlwib2JqZWN0XCI9PXR5cGVvZiB0fHxlKGBGYWlsZWQgdG8gcmVnaXN0ZXIgbW9kICR7cn06IEV4cGVjdGVkIG9wdGlvbnMgdG8gYmUgdW5kZWZpbmVkIG9yIG9iamVjdCwgZ290ICR7dHlwZW9mIHR9YCk7Y29uc3QgaT0hMD09PXQuYWxsb3dSZXBsYWNlLGE9Zi5nZXQoby5uYW1lKTthJiYoYS5hbGxvd1JlcGxhY2UmJml8fGUoYFJlZnVzaW5nIHRvIGxvYWQgbW9kICR7cn06IGl0IGlzIGFscmVhZHkgbG9hZGVkIGFuZCBkb2Vzbid0IGFsbG93IGJlaW5nIHJlcGxhY2VkLlxcbldhcyB0aGUgbW9kIGxvYWRlZCBtdWx0aXBsZSB0aW1lcz9gKSx1KGEpKTtjb25zdCBjPW89PntsZXQgZT1nLnBhdGNoaW5nLmdldChvLm5hbWUpO3JldHVybiBlfHwoZT17aG9va3M6W10scGF0Y2hlczpuZXcgTWFwfSxnLnBhdGNoaW5nLnNldChvLm5hbWUsZSkpLGV9LHM9KG8sdCk9PiguLi5uKT0+e3ZhciBpLGE7Y29uc3QgYz1udWxsPT09KGE9KGk9bS5lcnJvclJlcG9ydGVySG9va3MpLmFwaUVuZHBvaW50RW50ZXIpfHx2b2lkIDA9PT1hP3ZvaWQgMDphLmNhbGwoaSxvLGcubmFtZSk7Zy5sb2FkZWR8fGUoYE1vZCAke3J9IGF0dGVtcHRlZCB0byBjYWxsIFNESyBmdW5jdGlvbiBhZnRlciBiZWluZyB1bmxvYWRlZGApO2NvbnN0IHM9dCguLi5uKTtyZXR1cm4gbnVsbD09Y3x8YygpLHN9LHA9e3VubG9hZDpzKFwidW5sb2FkXCIsKCgpPT51KGcpKSksaG9va0Z1bmN0aW9uOnMoXCJob29rRnVuY3Rpb25cIiwoKG8sdCxuKT0+e1wic3RyaW5nXCI9PXR5cGVvZiBvJiZvfHxlKGBNb2QgJHtyfSBmYWlsZWQgdG8gcGF0Y2ggYSBmdW5jdGlvbjogRXhwZWN0ZWQgZnVuY3Rpb24gbmFtZSBzdHJpbmcsIGdvdCAke3R5cGVvZiBvfWApO2NvbnN0IGk9bChvKSxhPWMoaSk7XCJudW1iZXJcIiE9dHlwZW9mIHQmJmUoYE1vZCAke3J9IGZhaWxlZCB0byBob29rIGZ1bmN0aW9uICcke299JzogRXhwZWN0ZWQgcHJpb3JpdHkgbnVtYmVyLCBnb3QgJHt0eXBlb2YgdH1gKSxcImZ1bmN0aW9uXCIhPXR5cGVvZiBuJiZlKGBNb2QgJHtyfSBmYWlsZWQgdG8gaG9vayBmdW5jdGlvbiAnJHtvfSc6IEV4cGVjdGVkIGhvb2sgZnVuY3Rpb24sIGdvdCAke3R5cGVvZiBufWApO2NvbnN0IHM9e21vZDpnLm5hbWUscHJpb3JpdHk6dCxob29rOm59O3JldHVybiBhLmhvb2tzLnB1c2gocyksZCgpLCgpPT57Y29uc3Qgbz1hLmhvb2tzLmluZGV4T2Yocyk7bz49MCYmKGEuaG9va3Muc3BsaWNlKG8sMSksZCgpKX19KSkscGF0Y2hGdW5jdGlvbjpzKFwicGF0Y2hGdW5jdGlvblwiLCgobyx0KT0+e1wic3RyaW5nXCI9PXR5cGVvZiBvJiZvfHxlKGBNb2QgJHtyfSBmYWlsZWQgdG8gcGF0Y2ggYSBmdW5jdGlvbjogRXhwZWN0ZWQgZnVuY3Rpb24gbmFtZSBzdHJpbmcsIGdvdCAke3R5cGVvZiBvfWApO2NvbnN0IGk9bChvKSxhPWMoaSk7bih0KXx8ZShgTW9kICR7cn0gZmFpbGVkIHRvIHBhdGNoIGZ1bmN0aW9uICcke299JzogRXhwZWN0ZWQgcGF0Y2hlcyBvYmplY3QsIGdvdCAke3R5cGVvZiB0fWApO2Zvcihjb25zdFtuLGldb2YgT2JqZWN0LmVudHJpZXModCkpXCJzdHJpbmdcIj09dHlwZW9mIGk/YS5wYXRjaGVzLnNldChuLGkpOm51bGw9PT1pP2EucGF0Y2hlcy5kZWxldGUobik6ZShgTW9kICR7cn0gZmFpbGVkIHRvIHBhdGNoIGZ1bmN0aW9uICcke299JzogSW52YWxpZCBmb3JtYXQgb2YgcGF0Y2ggJyR7bn0nYCk7ZCgpfSkpLHJlbW92ZVBhdGNoZXM6cyhcInJlbW92ZVBhdGNoZXNcIiwobz0+e1wic3RyaW5nXCI9PXR5cGVvZiBvJiZvfHxlKGBNb2QgJHtyfSBmYWlsZWQgdG8gcGF0Y2ggYSBmdW5jdGlvbjogRXhwZWN0ZWQgZnVuY3Rpb24gbmFtZSBzdHJpbmcsIGdvdCAke3R5cGVvZiBvfWApO2NvbnN0IHQ9bChvKTtjKHQpLnBhdGNoZXMuY2xlYXIoKSxkKCl9KSksY2FsbE9yaWdpbmFsOnMoXCJjYWxsT3JpZ2luYWxcIiwoKG8sdCxuKT0+e1wic3RyaW5nXCI9PXR5cGVvZiBvJiZvfHxlKGBNb2QgJHtyfSBmYWlsZWQgdG8gY2FsbCBhIGZ1bmN0aW9uOiBFeHBlY3RlZCBmdW5jdGlvbiBuYW1lIHN0cmluZywgZ290ICR7dHlwZW9mIG99YCk7Y29uc3QgaT1sKG8pO3JldHVybiBBcnJheS5pc0FycmF5KHQpfHxlKGBNb2QgJHtyfSBmYWlsZWQgdG8gY2FsbCBhIGZ1bmN0aW9uOiBFeHBlY3RlZCBhcmdzIGFycmF5LCBnb3QgJHt0eXBlb2YgdH1gKSxpLm9yaWdpbmFsLmFwcGx5KG51bGwhPW4/bjpnbG9iYWxUaGlzLHQpfSkpLGdldE9yaWdpbmFsSGFzaDpzKFwiZ2V0T3JpZ2luYWxIYXNoXCIsKG89PntcInN0cmluZ1wiPT10eXBlb2YgbyYmb3x8ZShgTW9kICR7cn0gZmFpbGVkIHRvIGdldCBoYXNoOiBFeHBlY3RlZCBmdW5jdGlvbiBuYW1lIHN0cmluZywgZ290ICR7dHlwZW9mIG99YCk7cmV0dXJuIGwobykub3JpZ2luYWxIYXNofSkpfSxnPXtuYW1lOm8ubmFtZSxmdWxsTmFtZTpvLmZ1bGxOYW1lLHZlcnNpb246by52ZXJzaW9uLHJlcG9zaXRvcnk6by5yZXBvc2l0b3J5LGFsbG93UmVwbGFjZTppLGFwaTpwLGxvYWRlZDohMCxwYXRjaGluZzpuZXcgTWFwfTtyZXR1cm4gZi5zZXQoby5uYW1lLGcpLE9iamVjdC5mcmVlemUocCl9ZnVuY3Rpb24gaCgpe2NvbnN0IG89W107Zm9yKGNvbnN0IGUgb2YgZi52YWx1ZXMoKSlvLnB1c2goe25hbWU6ZS5uYW1lLGZ1bGxOYW1lOmUuZnVsbE5hbWUsdmVyc2lvbjplLnZlcnNpb24scmVwb3NpdG9yeTplLnJlcG9zaXRvcnl9KTtyZXR1cm4gb31sZXQgbTtjb25zdCB5PXZvaWQgMD09PXdpbmRvdy5iY01vZFNkaz93aW5kb3cuYmNNb2RTZGs9ZnVuY3Rpb24oKXtjb25zdCBlPXt2ZXJzaW9uOm8sYXBpVmVyc2lvbjoxLHJlZ2lzdGVyTW9kOmcsZ2V0TW9kc0luZm86aCxnZXRQYXRjaGluZ0luZm86cCxlcnJvclJlcG9ydGVySG9va3M6T2JqZWN0LnNlYWwoe2FwaUVuZHBvaW50RW50ZXI6bnVsbCxob29rRW50ZXI6bnVsbCxob29rQ2hhaW5FeGl0Om51bGx9KX07cmV0dXJuIG09ZSxPYmplY3QuZnJlZXplKGUpfSgpOihuKHdpbmRvdy5iY01vZFNkayl8fGUoXCJGYWlsZWQgdG8gaW5pdCBNb2QgU0RLOiBOYW1lIGFscmVhZHkgaW4gdXNlXCIpLDEhPT13aW5kb3cuYmNNb2RTZGsuYXBpVmVyc2lvbiYmZShgRmFpbGVkIHRvIGluaXQgTW9kIFNESzogRGlmZmVyZW50IHZlcnNpb24gYWxyZWFkeSBsb2FkZWQgKCcxLjIuMCcgdnMgJyR7d2luZG93LmJjTW9kU2RrLnZlcnNpb259JylgKSx3aW5kb3cuYmNNb2RTZGsudmVyc2lvbiE9PW8mJmFsZXJ0KGBNb2QgU0RLIHdhcm5pbmc6IExvYWRpbmcgZGlmZmVyZW50IGJ1dCBjb21wYXRpYmxlIHZlcnNpb25zICgnMS4yLjAnIHZzICcke3dpbmRvdy5iY01vZFNkay52ZXJzaW9ufScpXFxuT25lIG9mIG1vZHMgeW91IGFyZSB1c2luZyBpcyB1c2luZyBhbiBvbGQgdmVyc2lvbiBvZiBTREsuIEl0IHdpbGwgd29yayBmb3Igbm93IGJ1dCBwbGVhc2UgaW5mb3JtIGF1dGhvciB0byB1cGRhdGVgKSx3aW5kb3cuYmNNb2RTZGspO3JldHVyblwidW5kZWZpbmVkXCIhPXR5cGVvZiBleHBvcnRzJiYoT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksZXhwb3J0cy5kZWZhdWx0PXkpLHl9KCk7XG4iLCJpbXBvcnQgeyBOb3RpZnlQbGF5ZXIsIFNlbmRBY3Rpb24gfSBmcm9tIFwiLi4vdXRpbC9tZXNzYWdpbmdcIjtcblxuZXhwb3J0IGZ1bmN0aW9uIEJlZCgpOiB2b2lkXG57XG4gICAgQ29tbWFuZENvbWJpbmUoW3tcbiAgICAgICAgVGFnOiBcImJlZFwiLFxuICAgICAgICBEZXNjcmlwdGlvbjogXCJDcmF3bCBpbnRvIGJlZCB3aXRob3V0IG5lZWRpbmcgaGFuZHNcIixcbiAgICAgICAgQWN0aW9uOiAoKSA9PlxuICAgICAgICB7XG4gICAgICAgICAgICBpZiAoSW52ZW50b3J5R2V0KFBsYXllciwgXCJJdGVtRGV2aWNlc1wiKSAhPT0gbnVsbClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBOb3RpZnlQbGF5ZXIoXCJVbmFibGUgdG8gY3Jhd2wgaW50byBiZWRcIiwgMjAwMDApO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IGhhaXJDb2xvciA9IEludmVudG9yeUdldChQbGF5ZXIsIFwiSGFpckZyb250XCIpPy5Db2xvciBhcyBJdGVtQ29sb3I7XG4gICAgICAgICAgICBJbnZlbnRvcnlXZWFyKFBsYXllciwgXCJQZXRCZWRcIiwgXCJJdGVtRGV2aWNlc1wiLCBbaGFpckNvbG9yWzBdLCBcIkRlZmF1bHRcIiwgaGFpckNvbG9yW2hhaXJDb2xvci5sZW5ndGggLSAxXV0pO1xuICAgICAgICAgICAgQ2hhdFJvb21DaGFyYWN0ZXJJdGVtVXBkYXRlKFBsYXllciwgXCJJdGVtRGV2aWNlc1wiKTtcbiAgICAgICAgICAgIFNlbmRBY3Rpb24oXG4gICAgICAgICAgICAgICAgXCJTb3VyY2VDaGFyYWN0ZXIgY3Jhd2xzIGludG8gUHJvbm91blBvc3Nlc3NpdmUgYmVkLlwiLFxuICAgICAgICAgICAgICAgIHVuZGVmaW5lZCxcbiAgICAgICAgICAgICAgICBbeyBTb3VyY2VDaGFyYWN0ZXI6IFBsYXllci5NZW1iZXJOdW1iZXIgfSBhcyBTb3VyY2VDaGFyYWN0ZXJEaWN0aW9uYXJ5RW50cnldXG4gICAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgfSwge1xuICAgICAgICBUYWc6IFwiYmxhbmtldFwiLFxuICAgICAgICBEZXNjcmlwdGlvbjogXCJQdWxsIHRoZSBibGFua2V0IG92ZXIgeW91cnNlbGZcIixcbiAgICAgICAgQWN0aW9uOiAoKSA9PlxuICAgICAgICB7XG4gICAgICAgICAgICAvLyBibGFua3lcbiAgICAgICAgICAgIGNvbnN0IGJlZCA9IEludmVudG9yeUdldChQbGF5ZXIsIFwiSXRlbURldmljZXNcIik7XG4gICAgICAgICAgICBpZiAoYmVkPy5Bc3NldC5OYW1lICE9PSBcIlBldEJlZFwiKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIE5vdGlmeVBsYXllcihcIlVuYWJsZSB0byBwdWxsIHRoZSBibGFua2V0IG92ZXIgeW91cnNlbGYuXCIsIDIwMDAwKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICghKGJlZC5Qcm9wZXJ0eT8uVHlwZVJlY29yZD8udHlwZWQgPT09IDAgfHwgYmVkLlByb3BlcnR5Py5UeXBlUmVjb3JkPy50eXBlZCA9PT0gMSkpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgTm90aWZ5UGxheWVyKFwiVW5hYmxlIHRvIHB1bGwgdGhlIGJsYW5rZXQgb3ZlciB5b3Vyc2VsZi5cIiwgMjAwMDApO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJlZC5Qcm9wZXJ0eS5UeXBlUmVjb3JkLnR5cGVkID0gTnVtYmVyKCFiZWQuUHJvcGVydHkuVHlwZVJlY29yZC50eXBlZCk7XG4gICAgICAgICAgICBDaGF0Um9vbUNoYXJhY3RlclVwZGF0ZShQbGF5ZXIpO1xuICAgICAgICAgICAgaWYgKGJlZC5Qcm9wZXJ0eS5UeXBlUmVjb3JkLnR5cGVkID09PSAxKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIFNlbmRBY3Rpb24oXG4gICAgICAgICAgICAgICAgICAgIFwiU291cmNlQ2hhcmFjdGVyIHB1bGxzIGEgYmxhbmtldCBvdmVyIFByb25vdW5PYmplY3QuXCIsXG4gICAgICAgICAgICAgICAgICAgIHVuZGVmaW5lZCxcbiAgICAgICAgICAgICAgICAgICAgW3sgU291cmNlQ2hhcmFjdGVyOiBQbGF5ZXIuTWVtYmVyTnVtYmVyIH0gYXMgU291cmNlQ2hhcmFjdGVyRGljdGlvbmFyeUVudHJ5XVxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgU2VuZEFjdGlvbihcbiAgICAgICAgICAgICAgICAgICAgXCJTb3VyY2VDaGFyYWN0ZXIgcmVtb3ZlcyB0aGUgYmxhbmtldCBmcm9tIG9uIHRvcCBvZiBQcm9ub3VuT2JqZWN0LlwiLFxuICAgICAgICAgICAgICAgICAgICB1bmRlZmluZWQsXG4gICAgICAgICAgICAgICAgICAgIFt7IFNvdXJjZUNoYXJhY3RlcjogUGxheWVyLk1lbWJlck51bWJlciB9IGFzIFNvdXJjZUNoYXJhY3RlckRpY3Rpb25hcnlFbnRyeV1cbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfV0pO1xufVxuIiwiaW1wb3J0IHsgQmVkIH0gZnJvbSBcIi4vYmVkXCI7XG4vLyBpbXBvcnQgeyBMb2dDaGF0IH0gZnJvbSBcIi4vbG9nXCI7XG5cbmV4cG9ydCBmdW5jdGlvbiBCdWlsZEFsbENvbW1hbmRzKCk6IHZvaWRcbntcbiAgICBCZWQoKTtcbiAgICAvLyBMb2dDaGF0KCk7XG59XG4iLCIvLyBJZiB5b3Ugd2FudCB0byBsb2NhbGl6ZSB0aGlzIGFkZG9uIHRvIHlvdXIgbGFuZ3VhZ2UgZm9yIHlvdXJzZWxmIGFuZCBvdGhlcnMsIGhlcmUgaXMgaG93XG4vLyAxLiBDcmVhdGUgYSBuZXcgZmlsZSBpbiB0aGUgbG9jYWxpemF0aW9uIGRpcmVjdG9yeSBuYW1lZCBbbGFuZ3VhZ2VdLmpzb25cbi8vIDIuIENvcHkgYW5kIHBhc3RlIHRoZSBjb250ZW50cyBvZiB0ZW1wbGF0ZS5qc29uIGludG8geW91ciBuZXcgW2xhbmd1YWdlXS5qc29uIGZpbGUuXG4vLyAzLiBSZXBsYWNlIHRoZSByaWdodChlbXB0eSkgc2lkZSBvZiB0aGUgdGV4dCB3aXRoIHRoZSB0cmFuc2xhdGlvbiBmcm9tIHRoZSBFbmdsaXNoIG9uIHRoZSBsZWZ0LlxuLy8gM2IuIERvIG5vdCB0cmFuc2xhdGUgd29yZHMgbGlrZSBTb3VyY2VDaGFyYWN0ZXIgYW5kIFNldHRpbmdzQXJyYXksIGxlYXZlIHRob3NlIGFzIHRoZXkgd2lsbCBiZSBmaWxsZWQgaW4gYnkgdGhlIGNvZGVcbi8vIDQuIEltcG9ydCB0aGUganNvbiBmb2xsb3dpbmcgdGhlIGV4YW1wbGUgYmVsb3csIG1ha2Ugc3VyZSB0aGF0IHRoZSBuYW1lIHlvdSBpbXBvcnQgdGhlIGZpbGUgaXNcbi8vICAgIHRoZSBzYW1lIHRoYXQgZGVmaW5lZCBieSBUcmFuc2xhdGlvbkxhbmd1YWdlLiBFeDogRW5nbGlzaCAtPiBFTlxuLy8gICAgSWYgeW91IGFyZSB1bnN1cmUgb2YgaG93IHRvIGRvIHRoaXMgYnV0IHN0aWxsIHdhbnQgdG8gY29udHJpYnV0ZSwgcmVhY2ggb3V0IGFuZCBJIHdpbGwgYXR0ZW1wdCB0byBoZWxwLlxuXG5pbXBvcnQgdGVtcGxhdGUgZnJvbSBcIi4vdGVtcGxhdGUuanNvblwiO1xuaW1wb3J0IFJVIGZyb20gXCIuL1JVLmpzb25cIjtcblxuLy8gRXZlcnl0aGluZyBpcyBkZWZhdWx0ZWQgdG8gRW5nbGlzaFxuY29uc3QgdHJhbnNsYXRpb25zID1cbntcbiAgICB0ZW1wbGF0ZTogdGVtcGxhdGUsXG4gICAgUlU6IFJVXG59O1xuXG5leHBvcnQgZnVuY3Rpb24gTG9jYWxpemVkVGV4dCh0ZXh0OiBzdHJpbmcpOiBzdHJpbmdcbntcbiAgICBjb25zdCB0cmFuc2xhdGVkVGV4dCA9IHRyYW5zbGF0aW9ucz8uW1RyYW5zbGF0aW9uTGFuZ3VhZ2VdPy5bdGV4dF07XG4gICAgaWYgKCEhdHJhbnNsYXRlZFRleHQgJiYgdHJhbnNsYXRlZFRleHQgIT09IFwiXCIpXG4gICAge1xuICAgICAgICByZXR1cm4gdHJhbnNsYXRlZFRleHQ7XG4gICAgfVxuICAgIHJldHVybiB0ZXh0O1xufVxuIiwiaW1wb3J0IHsgUmVtb3ZlSG9va3MgfSBmcm9tIFwiLi4vdXRpbC9zZGtcIjtcbmltcG9ydCB7IENyZWF0ZUFjdGl2aXRpZXMsIFJlbW92ZUFjdGl2aXRpZXMgfSBmcm9tIFwiLi4vdXRpbC9hY3Rpdml0aWVzXCI7XG5pbXBvcnQgeyBBZGREYXRhU3luY0xpc3RlbmVycywgSG9va2VkTWVzc2FnZSwgUmVtb3ZlRGF0YVN5bmNMaXN0ZW5lcnMgfSBmcm9tIFwiLi4vdXRpbC9tZXNzYWdpbmdcIjtcblxuZXhwb3J0IGVudW0gTW9kdWxlVGl0bGVcbntcbiAgICBVbmtub3duID0gXCJVbmtub3duXCIsXG4gICAgQXV0aG9yaXR5ID0gXCJBdXRob3JpdHlcIixcbiAgICBBY3Rpdml0aWVzID0gXCJBY3Rpdml0aWVzXCIsXG4gICAgQ2xpY2tlciA9IFwiQ2xpY2tlclwiLFxuICAgIFNldHRpbmdzID0gXCJTZXR0aW5nc1wiLFxuICAgIFZpcnR1YWxQZXQgPSBcIlZpcnR1YWxQZXRcIixcbiAgICBWaXJ0dWFsUGV0SFVEID0gXCJWaXJ0dWFsUGV0SHVkXCIsXG4gICAgVmlydHVhbFBldENvbmRpdGlvbnMgPSBcIlZpcnR1YWxQZXRDb25kaXRpb25zXCIsXG4gICAgRGF0YVN5bmMgPSBcIkRhdGFTeW5jXCIsXG4gICAgUHJvZmlsZSA9IFwiUHJvZmlsZVwiLFxuICAgIFNldHRpbmdzT3RoZXIgPSBcIlNldHRpbmdzT3RoZXJcIlxufVxuXG5leHBvcnQgYWJzdHJhY3QgY2xhc3MgTW9kdWxlXG57XG4gICAgZ2V0IFRpdGxlKCk6IE1vZHVsZVRpdGxlXG4gICAge1xuICAgICAgICByZXR1cm4gTW9kdWxlVGl0bGUuVW5rbm93bjtcbiAgICB9XG5cbiAgICBnZXQgQWN0aXZpdGllcygpOiBDdXN0b21BY3Rpdml0eVtdXG4gICAge1xuICAgICAgICByZXR1cm4gW107XG4gICAgfVxuXG4gICAgZ2V0IFNldHRpbmdzKCk6IFNldHRpbmdbXVxuICAgIHtcbiAgICAgICAgcmV0dXJuIFtdO1xuICAgIH1cblxuICAgIGdldCBTeW5jTGlzdGVuZXJzKCk6IEhvb2tlZE1lc3NhZ2VbXVxuICAgIHtcbiAgICAgICAgcmV0dXJuIFtdO1xuICAgIH1cblxuICAgIExvYWQoKTogdm9pZFxuICAgIHtcbiAgICAgICAgQ3JlYXRlQWN0aXZpdGllcyh0aGlzLkFjdGl2aXRpZXMpO1xuICAgICAgICBBZGREYXRhU3luY0xpc3RlbmVycyh0aGlzLlN5bmNMaXN0ZW5lcnMpO1xuICAgIH1cblxuICAgIFVubG9hZCgpOiB2b2lkXG4gICAge1xuICAgICAgICBSZW1vdmVIb29rcyh0aGlzLlRpdGxlKTtcbiAgICAgICAgUmVtb3ZlQWN0aXZpdGllcyh0aGlzLkFjdGl2aXRpZXMpO1xuICAgICAgICBSZW1vdmVEYXRhU3luY0xpc3RlbmVycyh0aGlzLlRpdGxlKTtcbiAgICB9XG5cbiAgICBSZWxvYWQoKTogdm9pZFxuICAgIHtcbiAgICAgICAgdGhpcy5VbmxvYWQoKTtcbiAgICAgICAgdGhpcy5Mb2FkKCk7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgYWN0aXZpdHlJbWFnZXMsIGFjdGl2aXR5UHJlcmVxdWlzaXRlcywgYWN0aXZpdHlUcmlnZ2VycyB9IGZyb20gXCIuLi91dGlsL2FjdGl2aXRpZXNcIjtcbmltcG9ydCB7IEhvb2tGdW5jdGlvbiB9IGZyb20gXCIuLi91dGlsL3Nka1wiO1xuaW1wb3J0IHsgTW9kdWxlLCBNb2R1bGVUaXRsZSB9IGZyb20gXCIuL19tb2R1bGVcIjtcblxuZXhwb3J0IGNsYXNzIEFjdGl2aXRpZXNNb2R1bGUgZXh0ZW5kcyBNb2R1bGVcbntcbiAgICBnZXQgVGl0bGUoKTogTW9kdWxlVGl0bGVcbiAgICB7XG4gICAgICAgIHJldHVybiBNb2R1bGVUaXRsZS5BY3Rpdml0aWVzO1xuICAgIH1cblxuICAgIExvYWQoKTogdm9pZFxuICAgIHtcbiAgICAgICAgLy8gUHJlcmVxdWlzaXRlIGhhbmRsaW5nXG4gICAgICAgIEhvb2tGdW5jdGlvbih0aGlzLlRpdGxlLCBcIkFjdGl2aXR5Q2hlY2tQcmVyZXF1aXNpdGVcIiwgMSwgKGFyZ3MsIG5leHQpID0+XG4gICAgICAgIHtcbiAgICAgICAgICAgIGNvbnN0IFtwcmVyZXEsIGFjdGluZywgYWN0ZWQsIGdyb3VwXSA9IGFyZ3M7XG4gICAgICAgICAgICBpZiAoT2JqZWN0LmtleXMoYWN0aXZpdHlQcmVyZXF1aXNpdGVzKS5pbmNsdWRlcyhwcmVyZXEpKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHJldHVybiBhY3Rpdml0eVByZXJlcXVpc2l0ZXNbcHJlcmVxXShhY3RpbmcsIGFjdGVkLCBncm91cCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gbmV4dChhcmdzKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gQWN0aXZpdHkgb250cmlnZ2Vyc1xuICAgICAgICBIb29rRnVuY3Rpb24odGhpcy5UaXRsZSwgXCJTZXJ2ZXJTZW5kXCIsIDEsIChhcmdzLCBuZXh0KSA9PlxuICAgICAgICB7XG4gICAgICAgICAgICBjb25zdCBkYXRhID0gYXJnc1sxXSBhcyBTZXJ2ZXJDaGF0Um9vbU1lc3NhZ2U7XG4gICAgICAgICAgICBpZiAoYXJnc1swXSAhPT0gXCJDaGF0Um9vbUNoYXRcIiB8fCBkYXRhPy5UeXBlICE9PSBcIkFjdGl2aXR5XCIpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5leHQoYXJncyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBAdHMtaWdub3JlIC0gVFMgbm90IGZpbmRpbmcgdHlwZSBhdXRvbWF0aWNhbGx5LCBpdCBleGlzdHNcbiAgICAgICAgICAgIGNvbnN0IGFjdGl2aXR5TmFtZSA9IGRhdGE/LkRpY3Rpb25hcnk/LmZpbmQoKHgpID0+IHguQWN0aXZpdHlOYW1lKT8uQWN0aXZpdHlOYW1lIGFzIHN0cmluZyB8IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIGlmIChhY3Rpdml0eU5hbWU/LnN0YXJ0c1dpdGgoXCJNUEFfXCIpKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGRhdGE/LkRpY3Rpb25hcnk/LnB1c2goe1xuICAgICAgICAgICAgICAgICAgICBUYWc6IFwiTUlTU0lORyBBQ1RJVklUWSBERVNDUklQVElPTiBGT1IgS0VZV09SRCBcIiArIGRhdGEuQ29udGVudCxcbiAgICAgICAgICAgICAgICAgICAgVGV4dDogQWN0aXZpdHlEaWN0aW9uYXJ5VGV4dChkYXRhLkNvbnRlbnQpXG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICBpZiAoT2JqZWN0LmtleXMoYWN0aXZpdHlUcmlnZ2VycykuaW5jbHVkZXMoYWN0aXZpdHlOYW1lKSlcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHRhcmdldE51bWJlciA9IChkYXRhPy5EaWN0aW9uYXJ5Py5maW5kKCh4KSA9PiAoeCBhcyBUYXJnZXRDaGFyYWN0ZXJEaWN0aW9uYXJ5RW50cnkpLlRhcmdldENoYXJhY3RlcikgYXMgVGFyZ2V0Q2hhcmFjdGVyRGljdGlvbmFyeUVudHJ5KT8uVGFyZ2V0Q2hhcmFjdGVyID8/IC0xO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB0YXJnZXQgPSBDaGF0Um9vbUNoYXJhY3Rlcj8uZmluZCgoYykgPT4gYy5NZW1iZXJOdW1iZXIgPT09IHRhcmdldE51bWJlcik7XG4gICAgICAgICAgICAgICAgICAgIGFjdGl2aXR5VHJpZ2dlcnNbYWN0aXZpdHlOYW1lXSh0YXJnZXQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIG5leHQoYXJncyk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIERyYXcgY3VzdG9tIGltYWdlcyBmb3IgYWN0aXZpdGllc1xuICAgICAgICBIb29rRnVuY3Rpb24odGhpcy5UaXRsZSwgXCJEcmF3SW1hZ2VSZXNpemVcIiwgMSwgKGFyZ3MsIG5leHQpID0+XG4gICAgICAgIHtcbiAgICAgICAgICAgIGNvbnN0IGltYWdlUGF0aCA9IGFyZ3NbMF0udG9TdHJpbmcoKTtcbiAgICAgICAgICAgIGNvbnN0IGFjdGl2aXR5TmFtZSA9IGltYWdlUGF0aC5zdWJzdHJpbmcoaW1hZ2VQYXRoLmluZGV4T2YoXCJNUEFfXCIpLCBpbWFnZVBhdGguaW5kZXhPZihcIi5wbmdcIikpO1xuICAgICAgICAgICAgaWYgKE9iamVjdC5rZXlzKGFjdGl2aXR5SW1hZ2VzKS5pbmNsdWRlcyhhY3Rpdml0eU5hbWUpKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGFyZ3NbMF0gPSBhY3Rpdml0eUltYWdlc1thY3Rpdml0eU5hbWVdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIG5leHQoYXJncyk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIFVubG9hZCgpOiB2b2lkXG4gICAge1xuICAgICAgICBzdXBlci5VbmxvYWQoKTtcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBBVVRIT1JJVFlfR1JPVVBfT1BUSU9OUyB9IGZyb20gXCIuLi91dGlsL2F1dGhvcml0eVwiO1xuaW1wb3J0IHsgTW9kdWxlLCBNb2R1bGVUaXRsZSB9IGZyb20gXCIuL19tb2R1bGVcIjtcblxuY29uc3QgUGxheWVyUDogKEM/OiBDaGFyYWN0ZXIpID0+IE1QQVJlY29yZCA9IChDOiBDaGFyYWN0ZXIgPSBQbGF5ZXIpID0+XG57XG4gICAgcmV0dXJuIEMuTVBBPy5bTW9kdWxlVGl0bGUuQXV0aG9yaXR5XSA/PyB7fTtcbn07XG5cbmV4cG9ydCBmdW5jdGlvbiBJc0hhcmRjb3JlT24oQzogQ2hhcmFjdGVyKTogYm9vbGVhblxue1xuICAgIHJldHVybiAoQy5NUEE/LltNb2R1bGVUaXRsZS5BdXRob3JpdHldLmhhcmRjb3JlIGFzIGJvb2xlYW4gfCB1bmRlZmluZWQpID8/IGZhbHNlO1xufTtcblxudHlwZSBTZWxmQWNjZXNzID0gYHNlbGYke2tleW9mIHR5cGVvZiBNb2R1bGVUaXRsZX1gO1xudHlwZSBPdGhlcnNBY2Nlc3MgPSBgb3RoZXJzJHtrZXlvZiB0eXBlb2YgTW9kdWxlVGl0bGV9YDtcblxuZXhwb3J0IGNsYXNzIEF1dGhvcml0eU1vZHVsZSBleHRlbmRzIE1vZHVsZVxue1xuICAgIGdldCBUaXRsZSgpOiBNb2R1bGVUaXRsZVxuICAgIHtcbiAgICAgICAgcmV0dXJuIE1vZHVsZVRpdGxlLkF1dGhvcml0eTtcbiAgICB9XG5cbiAgICBnZXQgU2V0dGluZ3MoKTogU2V0dGluZ1tdXG4gICAge1xuICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIG5hbWU6IFwib3duZXJzXCIsXG4gICAgICAgICAgICAgICAgdHlwZTogXCJ0ZXh0XCIsXG4gICAgICAgICAgICAgICAgYWN0aXZlOiAoKSA9PiB0cnVlLFxuICAgICAgICAgICAgICAgIHZhbHVlOiBcIlwiLFxuICAgICAgICAgICAgICAgIGxhYmVsOiBcIk93bmVyIG1lbWJlciBudW1iZXJzOyBTZXBlcmF0ZWQgYnkgYSAsXCIsXG4gICAgICAgICAgICAgICAgbWF4Q2hhcnM6IDEwMjQsXG4gICAgICAgICAgICAgICAgd2lkdGg6IDQwMFxuICAgICAgICAgICAgfSBhcyBUZXh0U2V0dGluZywge1xuICAgICAgICAgICAgICAgIG5hbWU6IFwic2VsZkF1dGhvcml0eVwiIGFzIFNlbGZBY2Nlc3MsXG4gICAgICAgICAgICAgICAgdHlwZTogXCJjaGVja2JveFwiLFxuICAgICAgICAgICAgICAgIGFjdGl2ZTogKCkgPT4gdHJ1ZSxcbiAgICAgICAgICAgICAgICB2YWx1ZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICBsYWJlbDogXCJBbGxvdyBUYXJnZXRDaGFyYWN0ZXIgdG8gY2hhbmdlIFRhcmdldFByb25vdW5Qb3NzZXNzaXZlIEF1dGhvcml0eSBzZXR0aW5nc1wiXG4gICAgICAgICAgICB9IGFzIENoZWNrYm94U2V0dGluZywge1xuICAgICAgICAgICAgICAgIG5hbWU6IFwib3RoZXJzQXV0aG9yaXR5XCIgYXMgT3RoZXJzQWNjZXNzLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwib3B0aW9uXCIsXG4gICAgICAgICAgICAgICAgYWN0aXZlOiAoKSA9PiB0cnVlLFxuICAgICAgICAgICAgICAgIG9wdGlvbnM6IEFVVEhPUklUWV9HUk9VUF9PUFRJT05TLFxuICAgICAgICAgICAgICAgIHZhbHVlOiBcIkNsdWJvd25lclwiLFxuICAgICAgICAgICAgICAgIGxhYmVsOiBcIkFsbG93IG90aGVycyB0byBjaGFuZ2UgVGFyZ2V0Q2hhcmFjdGVyJ3MgQXV0aG9yaXR5IHNldHRpbmdzXCIsXG4gICAgICAgICAgICAgICAgbG9vcDogZmFsc2VcbiAgICAgICAgICAgIH0gYXMgT3B0aW9uU2V0dGluZywge1xuICAgICAgICAgICAgICAgIG5hbWU6IFwic2VsZlByb2ZpbGVcIiBhcyBTZWxmQWNjZXNzLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwiY2hlY2tib3hcIixcbiAgICAgICAgICAgICAgICBhY3RpdmU6IChDKSA9PiBQbGF5ZXJQKEMpLm90aGVyc1Byb2ZpbGUgIT09IFwiU2VsZlwiLFxuICAgICAgICAgICAgICAgIHZhbHVlOiB0cnVlLFxuICAgICAgICAgICAgICAgIGxhYmVsOiBcIkFsbG93IFRhcmdldENoYXJhY3RlciB0byBjaGFuZ2UgVGFyZ2V0UHJvbm91blBvc3Nlc3NpdmUgUHJvZmlsZSBzZXR0aW5nc1wiXG4gICAgICAgICAgICB9IGFzIENoZWNrYm94U2V0dGluZywge1xuICAgICAgICAgICAgICAgIG5hbWU6IFwib3RoZXJzUHJvZmlsZVwiIGFzIE90aGVyc0FjY2VzcyxcbiAgICAgICAgICAgICAgICB0eXBlOiBcIm9wdGlvblwiLFxuICAgICAgICAgICAgICAgIGFjdGl2ZTogKCkgPT4gdHJ1ZSxcbiAgICAgICAgICAgICAgICBvcHRpb25zOiBBVVRIT1JJVFlfR1JPVVBfT1BUSU9OUyxcbiAgICAgICAgICAgICAgICB2YWx1ZTogXCJDbHVib3duZXJcIixcbiAgICAgICAgICAgICAgICBsYWJlbDogXCJBbGxvdyBvdGhlcnMgdG8gY2hhbmdlIFRhcmdldENoYXJhY3RlcidzIFByb2ZpbGUgc2V0dGluZ3NcIixcbiAgICAgICAgICAgICAgICBsb29wOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBvblNldChDKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgUGxheWVyUChDKS5zZWxmUHJvZmlsZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBhcyBPcHRpb25TZXR0aW5nLCB7XG4gICAgICAgICAgICAgICAgbmFtZTogXCJzZWxmQ2xpY2tlclwiIGFzIFNlbGZBY2Nlc3MsXG4gICAgICAgICAgICAgICAgdHlwZTogXCJjaGVja2JveFwiLFxuICAgICAgICAgICAgICAgIGFjdGl2ZTogKCkgPT4gdHJ1ZSxcbiAgICAgICAgICAgICAgICB2YWx1ZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICBsYWJlbDogXCJBbGxvdyBUYXJnZXRDaGFyYWN0ZXIgdG8gY2hhbmdlIFRhcmdldFByb25vdW5Qb3NzZXNzaXZlIENsaWNrZXIgc2V0dGluZ3NcIlxuICAgICAgICAgICAgfSBhcyBDaGVja2JveFNldHRpbmcsIHtcbiAgICAgICAgICAgICAgICBuYW1lOiBcIm90aGVyc0NsaWNrZXJcIiBhcyBPdGhlcnNBY2Nlc3MsXG4gICAgICAgICAgICAgICAgdHlwZTogXCJvcHRpb25cIixcbiAgICAgICAgICAgICAgICBhY3RpdmU6ICgpID0+IHRydWUsXG4gICAgICAgICAgICAgICAgb3B0aW9uczogQVVUSE9SSVRZX0dST1VQX09QVElPTlMsXG4gICAgICAgICAgICAgICAgdmFsdWU6IFwiQ2x1Ym93bmVyXCIsXG4gICAgICAgICAgICAgICAgbGFiZWw6IFwiQWxsb3cgb3RoZXJzIHRvIGNoYW5nZSBUYXJnZXRDaGFyYWN0ZXIncyBDbGlja2VyIHNldHRpbmdzXCIsXG4gICAgICAgICAgICAgICAgbG9vcDogZmFsc2VcbiAgICAgICAgICAgIH0gYXMgT3B0aW9uU2V0dGluZywge1xuICAgICAgICAgICAgICAgIG5hbWU6IFwic2VsZlZpcnR1YWxQZXRcIiBhcyBTZWxmQWNjZXNzLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwiY2hlY2tib3hcIixcbiAgICAgICAgICAgICAgICBhY3RpdmU6ICgpID0+IHRydWUsXG4gICAgICAgICAgICAgICAgdmFsdWU6IHRydWUsXG4gICAgICAgICAgICAgICAgbGFiZWw6IFwiQWxsb3cgVGFyZ2V0Q2hhcmFjdGVyIHRvIGNoYW5nZSBUYXJnZXRQcm9ub3VuUG9zc2Vzc2l2ZSBWaXJ0dWFsIFBldCBzZXR0aW5nc1wiXG4gICAgICAgICAgICB9IGFzIENoZWNrYm94U2V0dGluZywge1xuICAgICAgICAgICAgICAgIG5hbWU6IFwib3RoZXJzVmlydHVhbFBldFwiIGFzIE90aGVyc0FjY2VzcyxcbiAgICAgICAgICAgICAgICB0eXBlOiBcIm9wdGlvblwiLFxuICAgICAgICAgICAgICAgIGFjdGl2ZTogKCkgPT4gdHJ1ZSxcbiAgICAgICAgICAgICAgICBvcHRpb25zOiBBVVRIT1JJVFlfR1JPVVBfT1BUSU9OUyxcbiAgICAgICAgICAgICAgICB2YWx1ZTogXCJDbHVib3duZXJcIixcbiAgICAgICAgICAgICAgICBsYWJlbDogXCJBbGxvdyBvdGhlcnMgdG8gY2hhbmdlIFRhcmdldENoYXJhY3RlcidzIFZpcnR1YWwgUGV0IHNldHRpbmdzXCIsXG4gICAgICAgICAgICAgICAgbG9vcDogZmFsc2VcbiAgICAgICAgICAgIH0gYXMgT3B0aW9uU2V0dGluZywge1xuICAgICAgICAgICAgICAgIG5hbWU6IFwic2VsZlZpcnR1YWxQZXRDb25kaXRpb25zXCIgYXMgU2VsZkFjY2VzcyxcbiAgICAgICAgICAgICAgICB0eXBlOiBcImNoZWNrYm94XCIsXG4gICAgICAgICAgICAgICAgYWN0aXZlOiAoKSA9PiB0cnVlLFxuICAgICAgICAgICAgICAgIHZhbHVlOiB0cnVlLFxuICAgICAgICAgICAgICAgIGxhYmVsOiBcIkFsbG93IFRhcmdldENoYXJhY3RlciB0byBjaGFuZ2UgVGFyZ2V0UHJvbm91blBvc3Nlc3NpdmUgVmlydHVhbCBQZXQgQ29uZGl0aW9ucyBzZXR0aW5nc1wiXG4gICAgICAgICAgICB9IGFzIENoZWNrYm94U2V0dGluZywge1xuICAgICAgICAgICAgICAgIG5hbWU6IFwib3RoZXJzVmlydHVhbFBldENvbmRpdGlvbnNcIiBhcyBPdGhlcnNBY2Nlc3MsXG4gICAgICAgICAgICAgICAgdHlwZTogXCJvcHRpb25cIixcbiAgICAgICAgICAgICAgICBhY3RpdmU6ICgpID0+IHRydWUsXG4gICAgICAgICAgICAgICAgb3B0aW9uczogQVVUSE9SSVRZX0dST1VQX09QVElPTlMsXG4gICAgICAgICAgICAgICAgdmFsdWU6IFwiQ2x1Ym93bmVyXCIsXG4gICAgICAgICAgICAgICAgbGFiZWw6IFwiQWxsb3cgb3RoZXJzIHRvIGNoYW5nZSBUYXJnZXRDaGFyYWN0ZXIncyBWaXJ0dWFsIFBldCBDb25kaXRpb25zIHNldHRpbmdzXCIsXG4gICAgICAgICAgICAgICAgbG9vcDogZmFsc2VcbiAgICAgICAgICAgIH0gYXMgT3B0aW9uU2V0dGluZ1xuICAgICAgICBdO1xuICAgIH1cbn1cbiIsImltcG9ydCB7IEhvb2tGdW5jdGlvbiB9IGZyb20gXCIuLi91dGlsL3Nka1wiO1xuaW1wb3J0IHsgR2V0QXR0cmlidXRlRnJvbUNoYXREaWN0aW9uYXJ5LCBSZW1vdmVPT0NDb250ZW50RnJvbU1lc3NhZ2UgfSBmcm9tIFwiLi4vdXRpbC9tZXNzYWdpbmdcIjtcbmltcG9ydCB7IEF1dGhvcml0eUdyb3VwLCBJc01lbWJlck51bWJlckluQXV0aEdyb3VwIH0gZnJvbSBcIi4uL3V0aWwvYXV0aG9yaXR5XCI7XG5pbXBvcnQgeyBNb2R1bGUsIE1vZHVsZVRpdGxlIH0gZnJvbSBcIi4vX21vZHVsZVwiO1xuaW1wb3J0IHsgSXNIYXJkY29yZU9uIH0gZnJvbSBcIi4vcHJvZmlsZVwiO1xuXG4vLyBDbGlja2VyIHNvdW5kcyB0byBwbGF5XG4vLyBBbiBhcnJheSBvZiBhdWRpbyBmaWxlcywgMSBjbGljayBpbiBpbmRleCAwLCBuKzEgY2xpY2tzIGluIGluZGV4IG5cbmNvbnN0IEFMTF9DTElDS1M6IEhUTUxBdWRpb0VsZW1lbnRbXSA9XG5bXG4gICAgbmV3IEF1ZGlvKFwiaHR0cHM6Ly9tZWRpYS5zb3VuZGdhc20ubmV0L3NvdW5kcy9kZjMzMzE2YmVjN2JjMDM5MDI4NjBkMjFmYjRiODgyNzQ2NmYyYmFkLm00YVwiKSxcbiAgICBuZXcgQXVkaW8oXCJodHRwczovL21lZGlhLnNvdW5kZ2FzbS5uZXQvc291bmRzL2ZhNDliMTBkYWQzZTEyMDJkZTA5Njg1OWIzMzlkY2ZjNWVhYjkwYTUubTRhXCIpLFxuICAgIG5ldyBBdWRpbyhcImh0dHBzOi8vbWVkaWEuc291bmRnYXNtLm5ldC9zb3VuZHMvYjI1MTc3YTZhOTJkNWE3NGQwNDdhOWQ3N2E4MDdmMmQxZWQyOGM3MS5tNGFcIilcbl07XG5cbi8qKlxuICogR2V0IHRoZSBDbGlja2VyIHNldHRpbmdzIG9mIHRoZSBQbGF5ZXJcbiAqL1xuY29uc3QgUGxheWVyQzogKEM/OiBDaGFyYWN0ZXIpID0+IE1QQVJlY29yZCA9IChDOiBDaGFyYWN0ZXIgPSBQbGF5ZXIpID0+XG57XG4gICAgcmV0dXJuIEMuTVBBPy5bTW9kdWxlVGl0bGUuQ2xpY2tlcl0gPz8ge307XG59O1xuXG4vKipcbiAqIEdldCB0aGUgdG90YWwgbnVtYmVyIG9mIGNsaWNrcyBpbiBhIHN0cmluZ1xuICovXG5mdW5jdGlvbiBDbGlja0NvdW50KHN0cjogc3RyaW5nID0gXCJcIik6IG51bWJlclxue1xuICAgIGxldCB0b3RhbENsaWNrcyA9IDA7XG4gICAgKFBsYXllckMoKS50cmlnZ2VycyBhcyBzdHJpbmcpXG4gICAgICAgIC5zcGxpdChcIixcIilcbiAgICAgICAgLm1hcCgoc3RyOiBzdHJpbmcpID0+IHN0ci50cmltKCkpXG4gICAgICAgIC5maWx0ZXIoKHN0cikgPT4gc3RyICE9PSBcIlwiKVxuICAgICAgICAuZm9yRWFjaCgodHJpZ2dlcikgPT5cbiAgICAgICAge1xuICAgICAgICAgICAgdG90YWxDbGlja3MgKz0gc3RyLnRvTG9jYWxlTG93ZXJDYXNlKCkubWF0Y2gobmV3IFJlZ0V4cCh0cmlnZ2VyLnRvTG9jYWxlTG93ZXJDYXNlKCksIFwiZ1wiKSk/Lmxlbmd0aCA/PyAwO1xuICAgICAgICB9KTtcbiAgICByZXR1cm4gdG90YWxDbGlja3M7XG59XG5cbi8qKlxuICogUGxheSBjbGlja3MgdG8gdGhlIHVzZXJcbiAqL1xuZnVuY3Rpb24gUGxheUNsaWNrZXJTb3VuZChudW1iZXJPZkNsaWNrczogbnVtYmVyID0gMCk6IHZvaWRcbntcbiAgICBpZiAoXG4gICAgICAgIGlzTmFOKG51bWJlck9mQ2xpY2tzKVxuICAgICAgICB8fCBudW1iZXJPZkNsaWNrcyA8PSAwXG4gICAgICAgIHx8ICFQbGF5ZXJDKCkuZW5hYmxlZFxuICAgIClcbiAgICB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBBTExfQ0xJQ0tTW01hdGgubWluKG51bWJlck9mQ2xpY2tzIC0gMSwgQUxMX0NMSUNLUy5sZW5ndGggLSAxKV0ucGxheSgpO1xufVxuXG5sZXQgYmN4SG9va2VkID0gZmFsc2U7XG5mdW5jdGlvbiBIb29rQkNYQ2xpY2tlcigpOiB2b2lkXG57XG4gICAgaWYgKHdpbmRvdy5iY3ggJiYgIWJjeEhvb2tlZClcbiAgICB7XG4gICAgICAgIHdpbmRvdy5iY3guZ2V0TW9kQXBpKFwiTVBBXCIpLm9uPy4oXCJiY3hMb2NhbE1lc3NhZ2VcIiwgKGRhdGE6IGFueSkgPT5cbiAgICAgICAge1xuICAgICAgICAgICAgY29uc3QgbWVzc2FnZSA9IGRhdGE/Lm1lc3NhZ2UgYXMgc3RyaW5nIHwgdW5kZWZpbmVkO1xuICAgICAgICAgICAgY29uc3QgcHJlZml4ID0gXCJbVm9pY2VdIFwiO1xuICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgIFBsYXllckMoKS5lbmFibGVkXG4gICAgICAgICAgICAgICAgJiYgUGxheWVyQygpLmJjeFZvaWNlXG4gICAgICAgICAgICAgICAgJiYgbWVzc2FnZT8uc3RhcnRzV2l0aChwcmVmaXgpXG4gICAgICAgICAgICApXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgUGxheUNsaWNrZXJTb3VuZChDbGlja0NvdW50KG1lc3NhZ2Uuc3Vic3RyaW5nKHByZWZpeC5sZW5ndGgpKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBiY3hIb29rZWQgPSB0cnVlO1xuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIENsaWNrZXJNb2R1bGUgZXh0ZW5kcyBNb2R1bGVcbntcbiAgICAvLyBCQ1ggaG9vayBvbmx5IGxvYWRzIG9uY2UsIHVua25vd24gaWYgY2FuIHVuaG9vayBmb3IgVW5sb2FkKClcbiAgICBoYXNCZWVuTG9hZGVkID0gZmFsc2U7XG5cbiAgICBnZXQgVGl0bGUoKTogTW9kdWxlVGl0bGVcbiAgICB7XG4gICAgICAgIHJldHVybiBNb2R1bGVUaXRsZS5DbGlja2VyO1xuICAgIH1cblxuICAgIGdldCBBY3Rpdml0aWVzKCk6IEN1c3RvbUFjdGl2aXR5W11cbiAgICB7XG4gICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgTmFtZTogXCJDbGlja2VyMVwiLFxuICAgICAgICAgICAgICAgIE1heFByb2dyZXNzOiA1MCxcbiAgICAgICAgICAgICAgICBQcmVyZXF1aXNpdGU6IFtcIlVzZUhhbmRzXCIsIFwiSG9sZGluZ0NsaWNrZXJcIl0sXG4gICAgICAgICAgICAgICAgVGFyZ2V0czogW3tcbiAgICAgICAgICAgICAgICAgICAgZ3JvdXA6IFwiSXRlbUhhbmRzXCIsXG4gICAgICAgICAgICAgICAgICAgIGxhYmVsOiBcIkNsaWNrIE9uY2VcIixcbiAgICAgICAgICAgICAgICAgICAgYWN0aW9uU2VsZjogXCJTb3VyY2VDaGFyYWN0ZXIgcHJlc3NlcyB0aGUgYnV0dG9uIG9uIFByb25vdW5Qb3NzZXNzaXZlIGNsaWNrZXIuXCJcbiAgICAgICAgICAgICAgICB9XSxcbiAgICAgICAgICAgICAgICBJbWFnZTogXCJJY29ucy9BdWRpb09uLnBuZ1wiXG4gICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAgTmFtZTogXCJDbGlja2VyMlwiLFxuICAgICAgICAgICAgICAgIE1heFByb2dyZXNzOiA1MCxcbiAgICAgICAgICAgICAgICBQcmVyZXF1aXNpdGU6IFtcIlVzZUhhbmRzXCIsIFwiSG9sZGluZ0NsaWNrZXJcIl0sXG4gICAgICAgICAgICAgICAgVGFyZ2V0czogW3tcbiAgICAgICAgICAgICAgICAgICAgZ3JvdXA6IFwiSXRlbUhhbmRzXCIsXG4gICAgICAgICAgICAgICAgICAgIGxhYmVsOiBcIkNsaWNrIFR3aWNlXCIsXG4gICAgICAgICAgICAgICAgICAgIGFjdGlvblNlbGY6IFwiU291cmNlQ2hhcmFjdGVyIHByZXNzZXMgdGhlIGJ1dHRvbiBvbiBQcm9ub3VuUG9zc2Vzc2l2ZSBjbGlja2VyIHR3aWNlLlwiXG4gICAgICAgICAgICAgICAgfV0sXG4gICAgICAgICAgICAgICAgSW1hZ2U6IFwiSWNvbnMvQXVkaW9Pbi5wbmdcIlxuICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgIE5hbWU6IFwiQ2xpY2tlcjNcIixcbiAgICAgICAgICAgICAgICBNYXhQcm9ncmVzczogNTAsXG4gICAgICAgICAgICAgICAgUHJlcmVxdWlzaXRlOiBbXCJVc2VIYW5kc1wiLCBcIkhvbGRpbmdDbGlja2VyXCJdLFxuICAgICAgICAgICAgICAgIFRhcmdldHM6IFt7XG4gICAgICAgICAgICAgICAgICAgIGdyb3VwOiBcIkl0ZW1IYW5kc1wiLFxuICAgICAgICAgICAgICAgICAgICBsYWJlbDogXCJDbGljayBUaHJpY2VcIixcbiAgICAgICAgICAgICAgICAgICAgYWN0aW9uU2VsZjogXCJTb3VyY2VDaGFyYWN0ZXIgcHJlc3NlcyB0aGUgYnV0dG9uIG9uIFByb25vdW5Qb3NzZXNzaXZlIGNsaWNrZXIgdGhyZWUgdGltZXMuXCJcbiAgICAgICAgICAgICAgICB9XSxcbiAgICAgICAgICAgICAgICBJbWFnZTogXCJJY29ucy9BdWRpb09uLnBuZ1wiXG4gICAgICAgICAgICB9XG4gICAgICAgIF07XG4gICAgfVxuXG4gICAgZ2V0IFNldHRpbmdzKCk6IFNldHRpbmdbXVxuICAgIHtcbiAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBuYW1lOiBcImVuYWJsZWRcIixcbiAgICAgICAgICAgICAgICB0eXBlOiBcImNoZWNrYm94XCIsXG4gICAgICAgICAgICAgICAgYWN0aXZlOiAoQykgPT4gIUlzSGFyZGNvcmVPbihDKSxcbiAgICAgICAgICAgICAgICB2YWx1ZTogZmFsc2UsXG4gICAgICAgICAgICAgICAgbGFiZWw6IFwiRW5hYmxlIGF1ZGl0b3J5IGNsaWNrZXJcIlxuICAgICAgICAgICAgfSBhcyBDaGVja2JveFNldHRpbmcsIHtcbiAgICAgICAgICAgICAgICBuYW1lOiBcInRyaWdnZXJzXCIsXG4gICAgICAgICAgICAgICAgdHlwZTogXCJ0ZXh0XCIsXG4gICAgICAgICAgICAgICAgYWN0aXZlOiAoQykgPT4gISFQbGF5ZXJDKEMpLmVuYWJsZWQsXG4gICAgICAgICAgICAgICAgdmFsdWU6IFwifmNsaWNrflwiLFxuICAgICAgICAgICAgICAgIGxhYmVsOiBcIlBocmFzZXMgdGhhdCB0cmlnZ2VyIHRoZSBjbGljazsgU2VwYXJhdGUgcGhyYXNlcyB3aXRoIGEgY29tbWFcIixcbiAgICAgICAgICAgICAgICB3aWR0aDogMzg0LFxuICAgICAgICAgICAgICAgIG1heENoYXJzOiBudWxsXG4gICAgICAgICAgICB9IGFzIFRleHRTZXR0aW5nLCB7XG4gICAgICAgICAgICAgICAgbmFtZTogXCJzZWxmQXV0aGVkXCIsXG4gICAgICAgICAgICAgICAgdHlwZTogXCJjaGVja2JveFwiLFxuICAgICAgICAgICAgICAgIGFjdGl2ZTogKEMpID0+ICEhUGxheWVyQyhDKS5lbmFibGVkICYmIFBsYXllckMoQykuYXV0aGVkR3JvdXAgIT09IFwiU2VsZlwiLFxuICAgICAgICAgICAgICAgIHZhbHVlOiB0cnVlLFxuICAgICAgICAgICAgICAgIGxhYmVsOiBcIkFsbG93IHlvdXIgb3duIGNoYXQsIGVtb3RlcywgJiBhY3Rpb25zIHRvIHRyaWdnZXIgdGhlIGNsaWNrZXJcIlxuICAgICAgICAgICAgfSBhcyBDaGVja2JveFNldHRpbmcsIHtcbiAgICAgICAgICAgICAgICBuYW1lOiBcImF1dGhlZEdyb3VwXCIsXG4gICAgICAgICAgICAgICAgdHlwZTogXCJvcHRpb25cIixcbiAgICAgICAgICAgICAgICBhY3RpdmU6IChDKSA9PiAhIVBsYXllckMoQykuZW5hYmxlZCxcbiAgICAgICAgICAgICAgICB2YWx1ZTogXCJGcmllbmRzXCIgYXMgQXV0aG9yaXR5R3JvdXAsXG4gICAgICAgICAgICAgICAgb3B0aW9uczogW1wiUHVibGljXCIsIFwiRnJpZW5kc1wiLCBcIldoaXRlbGlzdFwiLCBcIkxvdmVyc1wiLCBcIk93bmVyc1wiLCBcIkNsdWJvd25lclwiLCBcIlNlbGZcIl0sXG4gICAgICAgICAgICAgICAgbGFiZWw6IFwiV2hvIHdpbGwgYmUgYWJsZSB0byB0cmlnZ2VyIHRoZSBjbGlja2VyXCIsXG4gICAgICAgICAgICAgICAgbG9vcDogZmFsc2UsXG4gICAgICAgICAgICAgICAgb25TZXQoQylcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChQbGF5ZXJDKEMpLmF1dGhlZEdyb3VwID09PSBcIlNlbGZcIilcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgUGxheWVyQyhDKS5zZWxmQXV0aGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gYXMgT3B0aW9uU2V0dGluZywge1xuICAgICAgICAgICAgICAgIG5hbWU6IFwiYmN4Vm9pY2VcIixcbiAgICAgICAgICAgICAgICB0eXBlOiBcImNoZWNrYm94XCIsXG4gICAgICAgICAgICAgICAgYWN0aXZlOiAoQykgPT4gISFQbGF5ZXJDKEMpLmVuYWJsZWQgJiYgd2luZG93LmJjeCAmJiAhSXNIYXJkY29yZU9uKEMpLFxuICAgICAgICAgICAgICAgIHZhbHVlOiB0cnVlLFxuICAgICAgICAgICAgICAgIGxhYmVsOiBcIkFsbG93IEJDWCBMaXN0ZW4gdG8gbXkgdm9pY2UgcnVsZSB0byB0cmlnZ2VyIHRoZSBjbGlja2VyOyBSZXF1aXJlcyBCQ1hcIlxuICAgICAgICAgICAgfSBhcyBDaGVja2JveFNldHRpbmdcbiAgICAgICAgXTtcbiAgICB9XG5cbiAgICBMb2FkKCk6IHZvaWRcbiAgICB7XG4gICAgICAgIHN1cGVyLkxvYWQoKTtcblxuICAgICAgICAvLyBDaGF0LCB3aGlzcGVyLCBlbW90ZSwgYW5kIGFjdGlvbiB0cmlnZ2Vyc1xuICAgICAgICBIb29rRnVuY3Rpb24oTW9kdWxlVGl0bGUuQ2xpY2tlciwgXCJDaGF0Um9vbU1lc3NhZ2VcIiwgMCwgKGFyZ3MsIG5leHQpID0+XG4gICAgICAgIHtcbiAgICAgICAgICAgIGNvbnN0IGRhdGEgPSBhcmdzWzBdO1xuICAgICAgICAgICAgLy8gSWYgY2xpY2tlciBpcyBub3QgZW5hYmxlZCBvciBpbnZhbGlkIGRhdGEsIHNraXBcbiAgICAgICAgICAgIC8vIE1lc3NhZ2Ugc2VuZGVyIG5vdCBhdXRoZWQsIHNraXBcbiAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAhUGxheWVyQygpLmVuYWJsZWRcbiAgICAgICAgICAgICAgICB8fCAhYXJnc1swXT8uVHlwZVxuICAgICAgICAgICAgICAgIHx8ICFhcmdzWzBdPy5Db250ZW50XG4gICAgICAgICAgICAgICAgfHwgIWFyZ3NbMF0/LlNlbmRlclxuICAgICAgICAgICAgICAgIHx8ICFJc01lbWJlck51bWJlckluQXV0aEdyb3VwKGRhdGEuU2VuZGVyISwgUGxheWVyQygpLmF1dGhlZEdyb3VwIGFzIEF1dGhvcml0eUdyb3VwLCBQbGF5ZXJDKCkuc2VsZkF1dGhlZCBhcyBib29sZWFuKSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV4dChhcmdzKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgbGV0IGNsaWNrczogbnVtYmVyID0gMDtcbiAgICAgICAgICAgIC8vIENvdW50IHRoZSBjbGlja3MgaW4gYW4gZW1vdGUgb3IgY2hhdFxuICAgICAgICAgICAgaWYgKGRhdGEuVHlwZSA9PSBcIkNoYXRcIiB8fCBkYXRhLlR5cGUgPT0gXCJFbW90ZVwiIHx8IGRhdGEuVHlwZSA9PSBcIldoaXNwZXJcIilcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBjbGlja3MgPSBDbGlja0NvdW50KFJlbW92ZU9PQ0NvbnRlbnRGcm9tTWVzc2FnZShkYXRhLkNvbnRlbnQpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIENvdW50IHRoZSBjbGlja3MgaW4gYW4gYWN0aW9uLCAoc3VwcG9ydCBjdXN0b20gYWN0aW9ucylcbiAgICAgICAgICAgIGlmIChkYXRhLlR5cGUgPT0gXCJBY3Rpb25cIilcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAvLyBCZWVwc1xuICAgICAgICAgICAgICAgIGlmIChkYXRhLkNvbnRlbnQgPT0gXCJCZWVwXCIpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBjbGlja3MgPSBDbGlja0NvdW50KChkYXRhPy5EaWN0aW9uYXJ5Py5maWx0ZXIoKHgpID0+ICh4IGFzIFRleHREaWN0aW9uYXJ5RW50cnkpLlRhZyA9PSBcIkJlZXBcIilbMF0gYXMgVGV4dERpY3Rpb25hcnlFbnRyeSk/LlRleHQgPz8gXCJcIik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIE1CQ0ggYWN0aW9uc1xuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGRhdGEuRGljdGlvbmFyeT8ucmVkdWNlKChhY2MsIGN1cnIpID0+IGFjYyB8fCAoKGN1cnIgYXMgYW55KS5UYWcgPT09IFwiTUlTU0lORyBURVhUIElOIFxcXCJJbnRlcmZhY2UuY3N2XFxcIjogXCIgJiYgKGN1cnIgYXMgYW55KS5UZXh0ID09PSBcIlxcdTIwMGNcIiksIGZhbHNlKSlcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGNsaWNrcyA9IENsaWNrQ291bnQoZGF0YS5Db250ZW50KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gQkNYIGFjdGlvbnNcbiAgICAgICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBjbGlja3MgPSBDbGlja0NvdW50KChkYXRhPy5EaWN0aW9uYXJ5Py5maWx0ZXIoKHgpID0+ICh4IGFzIFRleHREaWN0aW9uYXJ5RW50cnkpLlRhZyA9PSBgTUlTU0lORyBURVhUIElOIFwiSW50ZXJmYWNlLmNzdlwiOiAke2RhdGE/LkNvbnRlbnR9YClbMF0gYXMgVGV4dERpY3Rpb25hcnlFbnRyeSk/LlRleHQgPz8gXCJcIik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBQbGF5IHRoZSBjbGlja3MgaWYgbmVlZGVkXG4gICAgICAgICAgICBQbGF5Q2xpY2tlclNvdW5kKGNsaWNrcyk7XG4gICAgICAgICAgICByZXR1cm4gbmV4dChhcmdzKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gSGFuZCBjbGlja2VyIGFjdGl2aXR5IHRyaWdnZXJcbiAgICAgICAgSG9va0Z1bmN0aW9uKE1vZHVsZVRpdGxlLkNsaWNrZXIsIFwiQ2hhdFJvb21NZXNzYWdlXCIsIDAsIChhcmdzLCBuZXh0KSA9PlxuICAgICAgICB7XG4gICAgICAgICAgICBuZXh0KGFyZ3MpO1xuICAgICAgICAgICAgY29uc3QgZGF0YSA9IGFyZ3NbMF07XG4gICAgICAgICAgICAvLyBGb3Igc29tZSByZWFzb24gX2EuZmluZCBpcyBub3QgZGVmaW5lZFxuICAgICAgICAgICAgLy8gSSBkb24ndCBrbm93IHdoeSwgb3Igd2h5IG5vdFxuICAgICAgICAgICAgLy8gQnVnIGlzIFNjaHLDtmRpbmdlcidzIGJ1ZywgaXQgb25seSBleGlzdHMgd2hlbiBJIGRvbid0IG9ic2VydmUgaXRcbiAgICAgICAgICAgIC8vIExvZ2dpbmcgdGhlIGRhdGEgb2JqZWN0IGFuZCB0aGUgYnVnIHZhbmlzaGVzLi4uXG4gICAgICAgICAgICAvLyBFZGl0OiBNYWRlIGZyYW1ld29yayB0byBoYW5kbGUgZmluZGluZyBhdHRyaWJ1dGVzIGZyb20gQ2hhdE1lc3NhZ2VEaWN0aW9uYXJ5LiBObyBpc3N1ZXMuLi4uLiBzbyBmYXIuLi5cbiAgICAgICAgICAgIGNvbnN0IGFjdGl2aXR5TmFtZSA9IEdldEF0dHJpYnV0ZUZyb21DaGF0RGljdGlvbmFyeShkYXRhLCBcIkFjdGl2aXR5TmFtZVwiKSBhcyBzdHJpbmc7XG4gICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgUGxheWVyQygpLmVuYWJsZWRcbiAgICAgICAgICAgICAgICAmJiBkYXRhLlR5cGUgPT09IFwiQWN0aXZpdHlcIlxuICAgICAgICAgICAgICAgICYmIGFjdGl2aXR5TmFtZT8uc3RhcnRzV2l0aChcIk1QQV9DbGlja2VyXCIpXG4gICAgICAgICAgICAgICAgJiYgSXNNZW1iZXJOdW1iZXJJbkF1dGhHcm91cChkYXRhLlNlbmRlciEsIFBsYXllckMoKS5hdXRoZWRHcm91cCBhcyBBdXRob3JpdHlHcm91cCwgUGxheWVyQygpLnNlbGZBdXRoZWQgYXMgYm9vbGVhbilcbiAgICAgICAgICAgIClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBQbGF5Q2xpY2tlclNvdW5kKE51bWJlcihhY3Rpdml0eU5hbWUuc2xpY2UoLTEpKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIEhvb2sgaW50byBCQ1ggbGlzdGVuIHRvIHZvaWNlLCBtYXkgbm90IGJlIGxvYWRlZCByaWdodCBhd2F5LCB3YWl0IDE1IHNlY29uZHNcbiAgICAgICAgaWYgKCF0aGlzLmhhc0JlZW5Mb2FkZWQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIEhvb2tCQ1hDbGlja2VyKCk7XG4gICAgICAgICAgICBjb25zdCBpbnZlcnZhbCA9IHNldEludGVydmFsKCgpID0+XG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgaWYgKGJjeEhvb2tlZClcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwoaW52ZXJ2YWwpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBIb29rQkNYQ2xpY2tlcigpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sIDYwMDAwKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmhhc0JlZW5Mb2FkZWQgPSB0cnVlO1xuICAgIH1cblxuICAgIFVubG9hZCgpOiB2b2lkXG4gICAge1xuICAgICAgICBzdXBlci5VbmxvYWQoKTtcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBIb29rRnVuY3Rpb24gfSBmcm9tIFwiLi4vdXRpbC9zZGtcIjtcbmltcG9ydCB7IE1vZHVsZSwgTW9kdWxlVGl0bGUgfSBmcm9tIFwiLi9fbW9kdWxlXCI7XG5pbXBvcnQgeyBGaW5kQ2hhcmFjdGVySW5Sb29tLCBHZXRNUEFNZXNzYWdlRnJvbUNoYXQsIEhvb2tlZE1lc3NhZ2UsIGhvb2tlZE1lc3NhZ2VzLCBNUEFNZXNzYWdlQ29udGVudCwgU2VuZE1QQU1lc3NhZ2UgfSBmcm9tIFwiLi4vdXRpbC9tZXNzYWdpbmdcIjtcblxuLyoqXG4gKiBTeW5jIGFsbCBvZiB5b3VyIGN1cnJlbnQgc2V0dGluZ3Mgd2l0aCBldmVyeW9uZSBlbHNlXG4gKiBAcGFyYW0gcmVwbHkgLSBJZiB3ZSB3YW50IG90aGVycyB0byBzaGFyZSB0aGVpciBzZXR0aW5ncyBiYWNrXG4gKiBAcGFyYW0gdGFyZ2V0IC0gU2hhcmUgb25seSB0byB0aGlzIG9uZSBNZW1iZXJOdW1iZXJcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIFNldHRpbmdTeW5jKHJlcGx5OiBib29sZWFuID0gZmFsc2UsIHRhcmdldD86IG51bWJlcik6IHZvaWRcbntcbiAgICBTZW5kTVBBTWVzc2FnZSh7XG4gICAgICAgIG1lc3NhZ2U6IFwiU2V0dGluZ1N5bmNcIixcbiAgICAgICAgc2V0dGluZ3M6IFBsYXllci5NUEEsXG4gICAgICAgIHJlcGx5OiByZXBseVxuICAgIH0sIHRhcmdldCk7XG59XG5cbi8qKlxuICogU3luYyBhbGwgb2YgeW91ciBjdXJyZW50IHNldHRpbmdzIG9mIGEgZ2l2ZW4gY2F0ZWdvcnkgd2l0aCBvdGhlcnNcbiAqIEBwYXJhbSBjYXRlZ29yeSAtIFdoaWNoIE1vZHVsZVRpdGxlIGNhdGVnb3J5IHRvIHNoYXJlXG4gKiBAcGFyYW0gdGFyZ2V0IC0gU2hhcmUgb25seSB0byB0aGlzIG9uZSBNZW1iZXJOdW1iZXJcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIENhdGVnb3J5U3luYyhjYXRlZ29yeTogTW9kdWxlVGl0bGUsIHRhcmdldD86IG51bWJlcik6IHZvaWRcbntcbiAgICBTZW5kTVBBTWVzc2FnZSh7XG4gICAgICAgIG1lc3NhZ2U6IFwiQ2F0ZWdvcnlTeW5jXCIsXG4gICAgICAgIGNhdGVnb3J5OiBjYXRlZ29yeSxcbiAgICAgICAgdmFsdWU6IFBsYXllci5NUEFbY2F0ZWdvcnldXG4gICAgfSwgdGFyZ2V0KTtcbn1cblxuLyoqXG4gKiBTeW5jIG9ubHkgYSBzaW5nbGUgcmVjb3JkIGZyb20gYSBnaXZlbiBjYXRlZ29yeSB3aXRoIG90aGVyc1xuICogQHBhcmFtIGNhdGVnb3J5IC0gV2hpY2ggTW9kdWxlVGl0bGUgY2F0ZWdvcnkgdG8gc2hhcmVcbiAqIEBwYXJhbSByZWNvcmQgLSBSZWNvcmQgd2l0aGluIE1vZHVsZVRpdGxlIHlvdSB3YW50IHRvIHNoYXJlXG4gKiBAcGFyYW0gdGFyZ2V0IC0gU2hhcmUgb25seSB0byB0aGlzIG9uZSBNZW1iZXJOdW1iZXJcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIFJlY29yZFN5bmMoY2F0ZWdvcnk6IE1vZHVsZVRpdGxlLCByZWNvcmQ6IHN0cmluZywgdGFyZ2V0PzogbnVtYmVyKTogdm9pZFxue1xuICAgIFNlbmRNUEFNZXNzYWdlKHtcbiAgICAgICAgbWVzc2FnZTogXCJSZWNvcmRTeW5jXCIsXG4gICAgICAgIGNhdGVnb3J5OiBjYXRlZ29yeSxcbiAgICAgICAgcmVjb3JkOiByZWNvcmQsXG4gICAgICAgIHZhbHVlOiBQbGF5ZXIuTVBBW2NhdGVnb3J5XVtyZWNvcmRdXG4gICAgfSwgdGFyZ2V0KTtcbn1cblxuZXhwb3J0IGNsYXNzIERhdGFTeW5jTW9kdWxlIGV4dGVuZHMgTW9kdWxlXG57XG4gICAgZ2V0IFRpdGxlKCk6IE1vZHVsZVRpdGxlXG4gICAge1xuICAgICAgICByZXR1cm4gTW9kdWxlVGl0bGUuRGF0YVN5bmM7XG4gICAgfVxuXG4gICAgZ2V0IFN5bmNMaXN0ZW5lcnMoKTogSG9va2VkTWVzc2FnZVtdXG4gICAge1xuICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIG1vZHVsZTogTW9kdWxlVGl0bGUuRGF0YVN5bmMsXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogXCJTZXR0aW5nU3luY1wiLFxuICAgICAgICAgICAgICAgIGFjdGlvbjogZnVuY3Rpb24gKHNlbmRlcjogQ2hhcmFjdGVyLCBjb250ZW50OiBNUEFNZXNzYWdlQ29udGVudCk6IHZvaWRcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHNlbmRlci5NUEEgPSBjb250ZW50LnNldHRpbmdzO1xuICAgICAgICAgICAgICAgICAgICBpZiAoY29udGVudC5yZXBseSlcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgU2V0dGluZ1N5bmMoZmFsc2UsIHNlbmRlci5NZW1iZXJOdW1iZXIpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgIG1vZHVsZTogTW9kdWxlVGl0bGUuRGF0YVN5bmMsXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogXCJDYXRlZ29yeVN5bmNcIixcbiAgICAgICAgICAgICAgICBhY3Rpb246IGZ1bmN0aW9uIChzZW5kZXI6IENoYXJhY3RlciwgY29udGVudDogTVBBTWVzc2FnZUNvbnRlbnQpOiB2b2lkXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIXNlbmRlci5NUEEpXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIFNldHRpbmdTeW5jKGZhbHNlLCBzZW5kZXIuTWVtYmVyTnVtYmVyKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbmRlci5NUEFbY29udGVudC5jYXRlZ29yeV0gPSBjb250ZW50LnZhbHVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgIG1vZHVsZTogTW9kdWxlVGl0bGUuRGF0YVN5bmMsXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogXCJSZWNvcmRTeW5jXCIsXG4gICAgICAgICAgICAgICAgYWN0aW9uOiBmdW5jdGlvbiAoc2VuZGVyOiBDaGFyYWN0ZXIsIGNvbnRlbnQ6IE1QQU1lc3NhZ2VDb250ZW50KTogdm9pZFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFzZW5kZXI/Lk1QQT8uW2NvbnRlbnQuY2F0ZWdvcnldKVxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBTZXR0aW5nU3luYyhmYWxzZSwgc2VuZGVyLk1lbWJlck51bWJlcik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZW5kZXIuTVBBW2NvbnRlbnQuY2F0ZWdvcnldW2NvbnRlbnQucmVjb3JkXSA9IGNvbnRlbnQudmFsdWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIF07XG4gICAgfVxuXG4gICAgTG9hZCgpOiB2b2lkXG4gICAge1xuICAgICAgICBzdXBlci5Mb2FkKCk7XG5cbiAgICAgICAgLy8gTVBBIGxvYWRlZCBpbiBhIGNoYXRyb29tLCBTeW5jIHdpdGggb3RoZXJzIGluIHRoZSByb29tXG4gICAgICAgIGlmIChDaGF0Um9vbUNoYXJhY3Rlci5sZW5ndGggIT09IDApXG4gICAgICAgIHtcbiAgICAgICAgICAgIFNldHRpbmdTeW5jKHRydWUpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gV2hlbiBqb2luaW5nIGEgcm9vbSwgc3luYyBNUEEgc2V0dGluZ3Mgd2l0aCBldmVyeW9uZSBlbHNlXG4gICAgICAgIEhvb2tGdW5jdGlvbihNb2R1bGVUaXRsZS5EYXRhU3luYywgXCJDaGF0Um9vbVN5bmNcIiwgMCwgKGFyZ3MsIG5leHQpID0+XG4gICAgICAgIHtcbiAgICAgICAgICAgIG5leHQoYXJncyk7XG4gICAgICAgICAgICBTZXR0aW5nU3luYyh0cnVlKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gU3luYyByZXF1ZXN0LCBoYW5kbGUgYW5kIHJlcGx5IGlmIG5lZWRlZFxuICAgICAgICBIb29rRnVuY3Rpb24oTW9kdWxlVGl0bGUuRGF0YVN5bmMsIFwiQ2hhdFJvb21NZXNzYWdlXCIsIDAsIChhcmdzLCBuZXh0KSA9PlxuICAgICAgICB7XG4gICAgICAgICAgICBjb25zdCBkYXRhID0gYXJnc1swXTtcbiAgICAgICAgICAgIGNvbnN0IGNvbnRlbnQgPSBHZXRNUEFNZXNzYWdlRnJvbUNoYXQoZGF0YSk7XG4gICAgICAgICAgICBpZiAoIWNvbnRlbnQpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5leHQoYXJncyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBzZW5kZXIgPSBGaW5kQ2hhcmFjdGVySW5Sb29tKGRhdGEuU2VuZGVyID8/IFwiXCIsIHsgTWVtYmVyTnVtYmVyOiB0cnVlLCBOYW1lOiBmYWxzZSwgTmlja05hbWU6IGZhbHNlIH0pO1xuICAgICAgICAgICAgaWYgKCFzZW5kZXIpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5leHQoYXJncyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIEhhbmRsZSB0aGUgZGF0YSBsaXN0ZW5lcnNcbiAgICAgICAgICAgIGhvb2tlZE1lc3NhZ2VzLmZvckVhY2goKGhvb2spID0+XG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgaWYgKGNvbnRlbnQubWVzc2FnZSA9PT0gaG9vay5tZXNzYWdlKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgaG9vay5hY3Rpb24oc2VuZGVyLCBjb250ZW50KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgVW5sb2FkKCk6IHZvaWRcbiAgICB7XG4gICAgICAgIHN1cGVyLlVubG9hZCgpO1xuICAgIH1cbn1cbiIsImltcG9ydCB7IEhvb2tGdW5jdGlvbiB9IGZyb20gXCIuLi91dGlsL3Nka1wiO1xuaW1wb3J0IHsgTW9kdWxlLCBNb2R1bGVUaXRsZSB9IGZyb20gXCIuL19tb2R1bGVcIjtcbi8vIGltcG9ydCB7IFVwZGF0ZUVsZW1lbnRWYWx1ZXMgfSBmcm9tIFwiLi9zZXR0aW5nc1wiO1xuXG5jb25zdCBQbGF5ZXJQOiAoQz86IENoYXJhY3RlcikgPT4gTVBBUmVjb3JkID0gKEM6IENoYXJhY3RlciA9IFBsYXllcikgPT5cbntcbiAgICByZXR1cm4gQy5NUEE/LltNb2R1bGVUaXRsZS5Qcm9maWxlXSA/PyB7fTtcbn07XG5cbmV4cG9ydCBmdW5jdGlvbiBJc0hhcmRjb3JlT24oQzogQ2hhcmFjdGVyKTogYm9vbGVhblxue1xuICAgIHJldHVybiAoQy5NUEE/LltNb2R1bGVUaXRsZS5Qcm9maWxlXS5oYXJkY29yZSBhcyBib29sZWFuIHwgdW5kZWZpbmVkKSA/PyBmYWxzZTtcbn07XG5cbmZ1bmN0aW9uIEdldFJlY29yZCh0aXRsZTogTW9kdWxlVGl0bGUsIEM6IENoYXJhY3RlciA9IFBsYXllcik6IE1QQVJlY29yZFxue1xuICAgIHJldHVybiBDLk1QQT8uW3RpdGxlXSA/PyB7fTtcbn1cblxuLy8gTWFrZSBzdXJlIG5vdCBpbiBCQ1ggYmFubmVkIHdvcmRzIC8gcGhyYXNlc1xuZXhwb3J0IGNvbnN0IEdBUkJMRV9QSFJBU0VTID0gT2JqZWN0LmZyZWV6ZSh7XG4gICAgSHVtYW46IFwiSG1tZ21cIixcbiAgICBDdXN0b206IFwiXCIsXG4gICAgQnVubnk6IFwiUG9uXCIsXG4gICAgQ2F0OiBcIk1ld1wiLFxuICAgIENvdzogXCJNb29cIixcbiAgICBEb2c6IFwiQXJmXCIsXG4gICAgRm94OiBcIkNoaXJwXCIsXG4gICAgTW91c2U6IFwiU3FlYWtcIixcbiAgICBQb255OiBcIk5laWdoXCIsXG4gICAgV29sZjogXCJHcnJyXCJcbn0pO1xuXG5leHBvcnQgY29uc3QgUEVUX0hFQVJJTkcgPSBPYmplY3QuZnJlZXplKHtcbiAgICBBbGw6IFtcIm93bmVyXCIsIFwicGV0XCIsIFwibWFzdGVyXCIsIFwibWlzdHJlc3NcIiwgXCJtaXNzXCIsIFwic2lyXCIsIFwicGF3XCIsIFwic2l0XCIsIFwiY29tZVwiLCBcImRvd25cIiwgXCJ1cFwiLFxuICAgICAgICBcInN0YXlcIiwgXCJ3YXRlclwiLCBcImZvb2RcIiwgXCJraWJibGVcIiwgXCJlYXRcIiwgXCJ0cmVhdFwiLCBcImRyaW5rXCIsIFwidG95XCIsIFwicGxheVwiLCBcImxlYXNoXCIsIFwid2Fsa1wiLFxuICAgICAgICBcIndhbGtpZXNcIiwgXCJiZWRcIiwgXCJzbGVlcFwiLCBcImN1dGllXCIsIFwiYWRvcmFibGVcIiwgXCJ0b3lcIiwgXCJwbGF5XCIsIFwia2liYmxlXCIsIFwiZ29vZFwiLCBcImJhZFwiLFxuICAgICAgICBcImxhcFwiLCBcInNwZWFrXCIsIFwiaHVzaFwiLCBcInF1aWV0XCIsIFwiaHVzaFwiLCBcImFsbCBmb3Vyc1wiLCBcImFsbC1mb3Vyc1wiXSxcbiAgICBIdW1hbjogW10sXG4gICAgQ3VzdG9tOiBbXSxcbiAgICBCdW5ueTogW1wiYnVuXCIsIFwiYnVubnlcIiwgXCJjYXJyb3RcIiwgXCJob3BcIiwgXCJqdW1wXCIsIFwiaHVtcFwiLCBcImVhclwiLCBcImVhcnNcIl0sXG4gICAgQ2F0OiBbXCJjYXRcIiwgXCJraXR0eVwiLCBcImtpdHRlblwiLCBcImNhdG5pcFwiLCBcImtuZWFkXCIsIFwic2NyYXRjaFwiLCBcInlhcm5cIiwgXCJtaWxrXCJdLFxuICAgIENvdzogW1wibWlsa1wiLCBcIm1pbGtpbmdcIiwgXCJ1dHRlclwiLCBcImJyZWFzdFwiLCBcImdyYXNzXCIsIFwibW9vXCJdLFxuICAgIERvZzogW1wiY2FnZVwiLCBcImtlbm5lbFwiLCBcInB1cFwiLCBcInB1cHB5XCIsIFwiZG9nXCIsIFwiZG9nZ3lcIiwgXCJib25lXCIsIFwiZmV0Y2hcIiwgXCJoZWVsXCIsIFwicm9sbFwiLCBcIm92ZXJcIiwgXCJiYXJrXCJdLFxuICAgIEZveDogW1widHJhcFwiLCBcImJ1blwiLCBcImJ1bm55XCIsIFwiYm9uZVwiLCBcImZveFwiLCBcImZveHlcIl0sXG4gICAgTW91c2U6IFtcIm1vdXNlXCIsIFwiZWFyXCIsIFwiZWFyc1wiLCBcInRyYXBcIiwgXCJ3aXJlXCIsIFwid2hlZWxcIiwgXCJjaGVlc2VcIiwgXCJuaWJibGVcIiwgXCJjYXRcIiwgXCJraXR0eVwiLCBcImtpdHRlblwiXSxcbiAgICBQb255OiBbXCJwb255XCIsIFwibWFyZVwiLCBcInN0YWxsaW9uXCIsIFwiYnJpZGxlXCIsIFwiaG9vZlwiLCBcImhvb3Zlc1wiLCBcInRyb3RcIiwgXCJzdGFsbFwiLCBcImhheVwiLCBcIndvYWhcIixcbiAgICAgICAgXCJzdG9tcFwiLCBcImNhbG1cIiwgXCJlYXN5XCIsIFwic2xvd1wiLCBcImNhcnRcIiwgXCJiYXlcIiwgXCJydW5cIiwgXCJyYWNlXCJdLFxuICAgIFdvbGY6IFtcImJvbmVcIiwgXCJ3b2xmXCIsIFwiZG9nXCIsIFwicHVwXCIsIFwicHVwcHlcIiwgXCJoZWVsXCJdXG59KTtcblxuZXhwb3J0IGNsYXNzIFByb2ZpbGVNb2R1bGUgZXh0ZW5kcyBNb2R1bGVcbntcbiAgICBnZXQgVGl0bGUoKTogTW9kdWxlVGl0bGVcbiAgICB7XG4gICAgICAgIHJldHVybiBNb2R1bGVUaXRsZS5Qcm9maWxlO1xuICAgIH1cblxuICAgIGdldCBTZXR0aW5ncygpOiBTZXR0aW5nW11cbiAgICB7XG4gICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgbmFtZTogXCJ0eXBlXCIsXG4gICAgICAgICAgICAgICAgdHlwZTogXCJvcHRpb25cIixcbiAgICAgICAgICAgICAgICBhY3RpdmU6ICgpID0+IHRydWUsXG4gICAgICAgICAgICAgICAgb3B0aW9uczogT2JqZWN0LmtleXMoR0FSQkxFX1BIUkFTRVMpLFxuICAgICAgICAgICAgICAgIHZhbHVlOiBcIkh1bWFuXCIsXG4gICAgICAgICAgICAgICAgbGFiZWw6IFwiVXNlIGEgcHJlc2V0IHByb2ZpbGUgb3IgbWFrZSB5b3VyIG93blwiLFxuICAgICAgICAgICAgICAgIGxvb3A6IHRydWVcbiAgICAgICAgICAgICAgICAvLyBvblNldChDKVxuICAgICAgICAgICAgICAgIC8vIHtcbiAgICAgICAgICAgICAgICAvLyAgICAgUGxheWVyUChDKS5nYXJibGVQaHJhc2VzID0gR0FSQkxFX1BIUkFTRVNbUGxheWVyUChDKS50eXBlXTtcbiAgICAgICAgICAgICAgICAvLyAgICAgVXBkYXRlRWxlbWVudFZhbHVlcygpO1xuICAgICAgICAgICAgICAgIC8vIH1cbiAgICAgICAgICAgIH0gYXMgT3B0aW9uU2V0dGluZywge1xuICAgICAgICAgICAgICAgIG5hbWU6IFwicGV0SGVhcmluZ1wiLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwiY2hlY2tib3hcIixcbiAgICAgICAgICAgICAgICBhY3RpdmU6ICgpID0+IHRydWUsXG4gICAgICAgICAgICAgICAgdmFsdWU6IGZhbHNlLFxuICAgICAgICAgICAgICAgIGxhYmVsOiBcIldoaWxlIGRlYWZlbmVkIGNlcnRhaW4gcGV0IGtleXdvcmRzIGNhbiBiZSBwaWNrZWQgdXBcIlxuICAgICAgICAgICAgfSBhcyBDaGVja2JveFNldHRpbmcsIC8qIHtcbiAgICAgICAgICAgICAgICBuYW1lOiBcImdhcmJsZVBocmFzZXNcIixcbiAgICAgICAgICAgICAgICB0eXBlOiBcInRleHRcIixcbiAgICAgICAgICAgICAgICBhY3RpdmU6IChDKSA9PiBQbGF5ZXJQKEMpLnR5cGUgPT09IFwiQ3VzdG9tXCIsXG4gICAgICAgICAgICAgICAgdmFsdWU6IEdBUkJMRV9QSFJBU0VTLkh1bWFuLFxuICAgICAgICAgICAgICAgIGxhYmVsOiBcIlBocmFzZXMgeW91IHNwZWFrIHdoZW4gdW5hYmxlIHRvIGJlIHVuZGVyc3Rvb2RcIixcbiAgICAgICAgICAgICAgICBtYXhDaGFyczogMTAyNCxcbiAgICAgICAgICAgICAgICB3aWR0aDogNDAwXG4gICAgICAgICAgICB9IGFzIFRleHRTZXR0aW5nLCAqL3tcbiAgICAgICAgICAgICAgICBuYW1lOiBcImhhcmRjb3JlXCIsXG4gICAgICAgICAgICAgICAgdHlwZTogXCJjaGVja2JveFwiLFxuICAgICAgICAgICAgICAgIGFjdGl2ZTogKCkgPT4gdHJ1ZSxcbiAgICAgICAgICAgICAgICB2YWx1ZTogZmFsc2UsXG4gICAgICAgICAgICAgICAgbGFiZWw6IFwiRW5hYmxlIGhhcmRjb3JlIG1vZGU7IFdpbGwgc2V0IGNlcnRhaW4gc2V0dGluZ3MgYW5kIHByZXZlbnQgY2hhbmdpbmcgdGhlbSBiYWNrXCIsXG4gICAgICAgICAgICAgICAgb25TZXQoQylcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIEdldFJlY29yZChNb2R1bGVUaXRsZS5DbGlja2VyLCBDKS5lbmFibGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgR2V0UmVjb3JkKE1vZHVsZVRpdGxlLkNsaWNrZXIsIEMpLmJjeFZvaWNlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgR2V0UmVjb3JkKE1vZHVsZVRpdGxlLlZpcnR1YWxQZXQsIEMpLmVuYWJsZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBHZXRSZWNvcmQoTW9kdWxlVGl0bGUuVmlydHVhbFBldCwgQykubm9IYW5kcyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICBHZXRSZWNvcmQoTW9kdWxlVGl0bGUuVmlydHVhbFBldENvbmRpdGlvbnMsIEMpLmVuYWJsZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBHZXRSZWNvcmQoTW9kdWxlVGl0bGUuVmlydHVhbFBldENvbmRpdGlvbnMsIEMpLmZvb2ROT1cgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBHZXRSZWNvcmQoTW9kdWxlVGl0bGUuVmlydHVhbFBldENvbmRpdGlvbnMsIEMpLnRpbnQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBHZXRSZWNvcmQoTW9kdWxlVGl0bGUuVmlydHVhbFBldENvbmRpdGlvbnMsIEMpLnBhc3NvdXQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBHZXRSZWNvcmQoTW9kdWxlVGl0bGUuVmlydHVhbFBldENvbmRpdGlvbnMsIEMpLmFmZmVjdGlvblNraWxsQnVmZnMgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgR2V0UmVjb3JkKE1vZHVsZVRpdGxlLlZpcnR1YWxQZXRDb25kaXRpb25zLCBDKS5hZmZlY3Rpb25Ta2lsbERlYnVmZnMgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBHZXRSZWNvcmQoTW9kdWxlVGl0bGUuVmlydHVhbFBldENvbmRpdGlvbnMsIEMpLmhlYXJpbmdMb3NzID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgR2V0UmVjb3JkKE1vZHVsZVRpdGxlLlZpcnR1YWxQZXRDb25kaXRpb25zLCBDKS5zbG93TGVhdmUgPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gYXMgQ2hlY2tib3hTZXR0aW5nXG4gICAgICAgIF07XG4gICAgfVxuXG4gICAgTG9hZCgpOiB2b2lkXG4gICAge1xuICAgICAgICBzdXBlci5Mb2FkKCk7XG5cbiAgICAgICAgSG9va0Z1bmN0aW9uKHRoaXMuVGl0bGUsIFwiU3BlZWNoVHJhbnNmb3JtR2FnR2FyYmxlXCIsIDUsIChbdGV4dCwgaW50ZW5zaXR5LCBpZ25vcmVPT0MsIC4uLmFyZ3NdLCBuZXh0KSA9PlxuICAgICAgICB7XG4gICAgICAgICAgICAvLyBNQlMgYWRkcyBDaGFyYWN0ZXIgcGFyYW1ldGVyIHRvIHRoaXMsIGNhbiB1c2UgYXMgYW4gZXh0cmEgY2hlY2sgZm9yIHdoZW4gdG8gYXBwbHlcbiAgICAgICAgICAgIGNvbnN0IEMgPSAoYXJncyBhcyBbQz86IENoYXJhY3RlciwgLi4uYXJnczogdW5rbm93bltdXSlbMF07XG5cbiAgICAgICAgICAgIC8vIEFyZSB3ZSBnYWdnaW5nIG9yIGRlYWZlbmluZz9cbiAgICAgICAgICAgIC8vIE5vdCBkZWFmZW5pbmcgc28gc2tpcFxuICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgIEM/LklzR2FnZ2VkKClcbiAgICAgICAgICAgICAgICB8fCAhUGxheWVyLklzRGVhZigpXG4gICAgICAgICAgICAgICAgfHwgUGxheWVyUCgpLnBldEhlYXJpbmcgPT09IGZhbHNlXG4gICAgICAgICAgICApXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5leHQoW3RleHQsIGludGVuc2l0eSwgaWdub3JlT09DLCAuLi5hcmdzXSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIFNwbGl0IHRoZSBpbnB1dCB0ZXh0IGludG8gZGlmZmVyZW50IHN1YnN0cmluZ3MgZXhsdWRpbmcgdGhlIHdvcmRzIHlvdSB3YW50IHRvIGtlZXBcbiAgICAgICAgICAgIC8vIFN0ZXAgMTogR2V0IHRoZSB3b3JkcyB5b3Ugd2FudCB0byBrZWVwIGlmIGFueVxuICAgICAgICAgICAgY29uc3QgcGhyYXNlc1RvS2VlcCA9IFBFVF9IRUFSSU5HLkFsbC5jb25jYXQoUEVUX0hFQVJJTkdbUGxheWVyUCgpPy50eXBlXSk7XG4gICAgICAgICAgICAvLyBBZGQgdGhlIFBsYXllcidzIG5hbWUgYXMgYSB3b3JkIHRoZXkgY2FuIGhlYXJcbiAgICAgICAgICAgIHBocmFzZXNUb0tlZXAucHVzaCgoUGxheWVyLk5pY2tuYW1lIHx8IFBsYXllci5OYW1lKS50b0xvY2FsZUxvd2VyQ2FzZSgpKTtcbiAgICAgICAgICAgIC8vIEFkZCB0aGUgUGxheWVyJ3MgZ2VuZGVyIGFzIGluIHRoZSBleGFtcGxlLCBcIkdvb2QgZ2lybFwiXG4gICAgICAgICAgICBwaHJhc2VzVG9LZWVwLnB1c2goUGxheWVyLkdldFByb25vdW5zKCkgPT09IFwiU2hlSGVyXCIgPyBcImdpcmxcIiA6IFwiYm95XCIpO1xuXG4gICAgICAgICAgICAvLyBTdGVwIDI6IEZpbmQgdGhlIG1hdGNoZXMgaWYgdGhleSBleGlzdCBpbiB0aGUgb3JnaW5hbCBtZXNzYWdlXG4gICAgICAgICAgICAvLyBDaGVjayBsb3dlciBjYXNlIGN1eiB0aGUgcGhyYXNlIHdlIGxvb2tpbmcgZm9yIGluIGxvd2VyIGNhc2UsIGRvZXMgbm90IG1hdHRlciBmb3IgZmluYWwgcmVzdWx0LCBvbmx5IHdhbnQgcG9zaXRpb25cbiAgICAgICAgICAgIGNvbnN0IG1lc3NhZ2UgPSB0ZXh0LnRvTG9jYWxlTG93ZXJDYXNlKCk7XG4gICAgICAgICAgICBjb25zdCBmb3VuZFBocmFzZXM6IHsgc3RhcnQ6IG51bWJlcjsgbGVuOiBudW1iZXIgfVtdID0gW107XG4gICAgICAgICAgICBwaHJhc2VzVG9LZWVwLmZvckVhY2goKHBocmFzZSkgPT5cbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBjb25zdCByZWdFeHAgPSBuZXcgUmVnRXhwKGBcXFxcYiR7cGhyYXNlfVxcXFxiYCwgXCJnXCIpO1xuICAgICAgICAgICAgICAgIGNvbnN0IHJlZ2V4TWF0Y2hlcyA9IFsuLi5tZXNzYWdlLm1hdGNoQWxsKHJlZ0V4cCldO1xuICAgICAgICAgICAgICAgIHJlZ2V4TWF0Y2hlcy5mb3JFYWNoKChtYXRjaCkgPT5cbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGZvdW5kUGhyYXNlcy5wdXNoKHsgc3RhcnQ6IG1hdGNoLmluZGV4LCBsZW46IHBocmFzZS5sZW5ndGggfSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgLy8gTm8gbWF0Y2hlcyBmb3VuZCBzbyBjYW4gc2tpcCBhbmQgZWFybHkgcmV0dXJuXG4gICAgICAgICAgICBpZiAoZm91bmRQaHJhc2VzLmxlbmd0aCA9PT0gMClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV4dChbdGV4dCwgaW50ZW5zaXR5LCBpZ25vcmVPT0MsIC4uLmFyZ3NdKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gU29ydCBzbyB0aGF0IGl0IGlzIGNvbnN0cnVjdGVkIGluIHRoZSBjb3JyZWN0IG9yZGVyIHdoZW4gcHV0IGJhY2sgdG9nZXRoZXI7IGxvd2VyIHN0YXJ0aW5nIGluZGV4ZXMgZmlyc3RcbiAgICAgICAgICAgIGZvdW5kUGhyYXNlcy5zb3J0KChhLCBiKSA9PiBhLnN0YXJ0IC0gYi5zdGFydCk7XG4gICAgICAgICAgICAvLyBSZW1vdmUgYW55IHBocmFzZXMgdGhhdCBhcmUgZm91bmQgd2l0aGluIE9PQyBzcGVlY2ggcmFuZ2U7XG4gICAgICAgICAgICBjb25zdCBvb2NSYW5nZXMgPSBTcGVlY2hHZXRPT0NSYW5nZXModGV4dCk7XG4gICAgICAgICAgICBvb2NSYW5nZXMuZm9yRWFjaCgocmFuZ2UpID0+XG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IGZvdW5kUGhyYXNlcy5sZW5ndGggLSAxOyBpID49IDA7IGktLSlcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHBocmFzZSA9IGZvdW5kUGhyYXNlc1tpXTtcbiAgICAgICAgICAgICAgICAgICAgLy8gUmVtb3ZlIGlmIHRoZSBwaHJhc2Ugc3RhcnRzIG9yIGVuZHMgd2l0aGluIHRoZSBvb2MgcmFuZ2VcbiAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgKHJhbmdlLnN0YXJ0IDwgcGhyYXNlLnN0YXJ0ICYmIHBocmFzZS5zdGFydCA8IHJhbmdlLnN0YXJ0ICsgcmFuZ2UubGVuZ3RoKVxuICAgICAgICAgICAgICAgICAgICAgICAgfHwgKHJhbmdlLnN0YXJ0IDwgcGhyYXNlLnN0YXJ0ICsgcGhyYXNlLmxlbiAmJiBwaHJhc2Uuc3RhcnQgKyBwaHJhc2UubGVuIDwgcmFuZ2Uuc3RhcnQgKyByYW5nZS5sZW5ndGgpXG4gICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgZm91bmRQaHJhc2VzLnNwbGljZShpLCAxKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAvLyBNYXkgbmVlZCB0byBjaGVjayB0aGF0IG9uZSBwaHJhc2UgZG9lcyBub3Qgc3RhcnQgYmVmb3JlIGFub3RoZXIgZW5kcywgYW5kIGlmIHNvIG1lcmdlIGludG8gYSBzaW5nbGUgbG9uZ2VyIGVudHJ5XG5cbiAgICAgICAgICAgIGxldCBsYXN0SW5kZXggPSAwO1xuICAgICAgICAgICAgbGV0IGZpbmFsVGV4dCA9IFwiXCI7XG4gICAgICAgICAgICBmb3VuZFBocmFzZXMuZm9yRWFjaCgoZm91bmQpID0+XG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgLy8gQmVmb3JlIHRoZSBwaHJhc2UgdG8gb21pdFxuICAgICAgICAgICAgICAgIGZpbmFsVGV4dCArPSBuZXh0KFt0ZXh0LnN1YnN0cmluZyhsYXN0SW5kZXgsIGZvdW5kLnN0YXJ0KSwgaW50ZW5zaXR5LCBpZ25vcmVPT0MsIC4uLmFyZ3NdKTtcblxuICAgICAgICAgICAgICAgIC8vIFBocmFzZSB3ZSB3YW50IHRvIG9taXRcbiAgICAgICAgICAgICAgICBsYXN0SW5kZXggPSBmb3VuZC5zdGFydCArIGZvdW5kLmxlbjtcbiAgICAgICAgICAgICAgICBmaW5hbFRleHQgKz0gdGV4dC5zdWJzdHJpbmcoZm91bmQuc3RhcnQsIGZvdW5kLnN0YXJ0ICsgZm91bmQubGVuKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgLy8gTGFzdCBvZiB0aGUgdGV4dCB0byBnYXJibGUgdXBcbiAgICAgICAgICAgIGZpbmFsVGV4dCArPSBuZXh0KFt0ZXh0LnN1YnN0cmluZyhsYXN0SW5kZXgpLCBpbnRlbnNpdHksIGlnbm9yZU9PQywgLi4uYXJnc10pO1xuXG4gICAgICAgICAgICByZXR1cm4gZmluYWxUZXh0O1xuICAgICAgICB9KTtcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBMb2NhbGl6ZWRUZXh0IH0gZnJvbSBcIi4uL2xvY2FsaXphdGlvbi9sb2NhbGl6YXRpb25cIjtcbmltcG9ydCB7IEV4cG9ydFNldHRpbmdzVG9DbGlwYm9hcmQsIEltcG9ydFNldHRpbmdzRnJvbUNsaXBib2FyZCwgUmVzZXRTdG9yYWdlLCBTYXZlU3RvcmFnZSB9IGZyb20gXCIuLi91dGlsL3N0b3JhZ2VcIjtcbmltcG9ydCB7IElDT05TIH0gZnJvbSBcIi4uL3V0aWwvY29uc3RhbnRzXCI7XG5pbXBvcnQgeyBJc0Rpc3BsYXlTZXR0aW5nLCBJc09wdGlvblNldHRpbmcsIElzQ2hlY2tib3hTZXR0aW5nLCBJc1RleHRTZXR0aW5nLCBJc051bWJlclNldHRpbmcgfSBmcm9tIFwiLi4vdXRpbC9zZXR0aW5nVHlwZXNcIjtcbmltcG9ydCB7IHNldHRpbmdzIGFzIGRlZmF1bHRTZXR0aW5ncyB9IGZyb20gXCIuLi91dGlsL3JlZ2lzdGVyTW9kdWxlc1wiO1xuaW1wb3J0IHsgQVVUSE9SSVRZX0dST1VQX09QVElPTlMsIEF1dGhvcml0eUdyb3VwLCBBdXRob3JpdHlJc0NvbXBhcmlzb25Ub0NoYXJhY3RlciwgSXNNZW1iZXJOdW1iZXJJbkF1dGhHcm91cCB9IGZyb20gXCIuLi91dGlsL2F1dGhvcml0eVwiO1xuaW1wb3J0IHsgU2VuZE1QQU1lc3NhZ2UgfSBmcm9tIFwiLi4vdXRpbC9tZXNzYWdpbmdcIjtcbmltcG9ydCB7IE1vZHVsZSwgTW9kdWxlVGl0bGUgfSBmcm9tIFwiLi9fbW9kdWxlXCI7XG5pbXBvcnQgeyBMZXZlbFN5bmMgfSBmcm9tIFwiLi92aXJ0dWFsUGV0XCI7XG5cbmxldCBzZXR0aW5nc0VkaXRlZCA9IGZhbHNlO1xubGV0IHNldHRpbmdDaGFyOiBQbGF5ZXJDaGFyYWN0ZXIgfCBudWxsID0gbnVsbDtcbmV4cG9ydCBmdW5jdGlvbiBTZXRTZXR0aW5nQ2hhcihjaGFyYWN0ZXI6IFBsYXllckNoYXJhY3Rlcik6IHZvaWRcbntcbiAgICBzZXR0aW5nc0VkaXRlZCA9IGZhbHNlO1xuICAgIHNldHRpbmdDaGFyID0gY2hhcmFjdGVyO1xufVxuXG4vLyBTaXplIG9mIHRoZSBjYW52YXMgaW4gZ2FtZVxuY29uc3QgQ0FOVkFTX1dJRFRIID0gMjAwMDtcbmNvbnN0IF9DQU5WQVNfSEVJR0hUID0gMTAwMDtcblxuLy8gRXhpdCBidXR0b24gcG9zaXN0aW9uIG9uIGNhbnZhc1xuY29uc3QgRVhJVF9QT1NJU1RJT04gPSBbMTgxNSwgNzUsIDkwLCA5MF0gYXMgY29uc3Q7XG5cbi8vIE1lbnUgbGF5b3V0IHZhbHVlc1xuY29uc3QgQlVUVE9OX01BWF9OVU1CRVIgPSA3O1xuY29uc3QgQlVUVE9OX1dJRFRIID0gNDAwO1xuY29uc3QgQlVUVE9OX0hFSUdIVCA9IDkwO1xuY29uc3QgQlVUVE9OX1RPUCA9IDE2MDtcbmNvbnN0IEJVVFRPTl9MRUZUID0gNTAwO1xuY29uc3QgQlVUVE9OX0dBUCA9IDIwO1xuY29uc3QgQlVUVE9OX1RFWFRfUEFERElORyA9IDIwO1xuXG4vLyBQbGF5ZXIgb25seSBidXR0b25zXG5jb25zdCBXSUtJX1BPU0lUSU9OID0gWzEwMCwgNjA1LCAzNTAsIDc1XSBhcyBjb25zdDtcbmNvbnN0IFdJS0lfTElOSyA9IFwiaHR0cHM6Ly9naXRodWIuY29tL01heWFUaGVGb3h5L01QQS93aWtpXCI7XG5jb25zdCBSRVNFVF9QT1NJVElPTiA9IFtcbiAgICBXSUtJX1BPU0lUSU9OWzBdLFxuICAgIFdJS0lfUE9TSVRJT05bMV0gKyBXSUtJX1BPU0lUSU9OWzNdICsgQlVUVE9OX0dBUCxcbiAgICBXSUtJX1BPU0lUSU9OWzJdLFxuICAgIFdJS0lfUE9TSVRJT05bM11cbl0gYXMgY29uc3Q7XG5jb25zdCBBTEVSVF9QT1NJVElPTiA9IFtcbiAgICBSRVNFVF9QT1NJVElPTlswXSxcbiAgICBSRVNFVF9QT1NJVElPTlsxXSAtIFJFU0VUX1BPU0lUSU9OWzNdLFxuICAgIFJFU0VUX1BPU0lUSU9OWzJdXG5dIGFzIGNvbnN0O1xubGV0IHNob3dTZXR0aW5nc0FsZXJ0OiBudW1iZXIgPSAwO1xubGV0IHNldHRpbmdzQWxlcnRUZXh0OiBzdHJpbmcgPSBcIlwiO1xuY29uc3QgSU1QT1JUX1BPU0lUSU9OID0gW1xuICAgIFJFU0VUX1BPU0lUSU9OWzBdLFxuICAgIFJFU0VUX1BPU0lUSU9OWzFdICsgUkVTRVRfUE9TSVRJT05bM10gKyBCVVRUT05fR0FQLFxuICAgIChSRVNFVF9QT1NJVElPTlsyXSAtIEJVVFRPTl9HQVApIC8gMixcbiAgICBSRVNFVF9QT1NJVElPTlszXVxuXSBhcyBjb25zdDtcbmNvbnN0IEVYUE9SVF9QT1NJVElPTiA9IFtcbiAgICBSRVNFVF9QT1NJVElPTlswXSArICgoUkVTRVRfUE9TSVRJT05bMl0gKyBCVVRUT05fR0FQKSAvIDIpLFxuICAgIFJFU0VUX1BPU0lUSU9OWzFdICsgUkVTRVRfUE9TSVRJT05bM10gKyBCVVRUT05fR0FQLFxuICAgIChSRVNFVF9QT1NJVElPTlsyXSAtIEJVVFRPTl9HQVApIC8gMixcbiAgICBSRVNFVF9QT1NJVElPTlszXVxuXSBhcyBjb25zdDtcbmNvbnN0IFJFU0VUX0NPTkZJUk1fUE9TSVRJT04gPSBbMzAwLCA3MDAsIDI1MCwgOTBdIGFzIGNvbnN0O1xuY29uc3QgUkVTRVRfQ0FOQ0VMX1BPU0lUSU9OID0gWzE0NTAsIDcwMCwgMjUwLCA5MF0gYXMgY29uc3Q7XG5cbi8vIENhbiBhZGQgb3IgcmVtb3ZlIG1vZHVsZXMgZGVwZW5kaW5nIG9uIGlmIHdhbnRpbmcgdG8gZGlzcGxheSB0aGVtIG9yIG5vdFxuLy8gT3JkZXIgZ2l2ZW4gaXMgdGhlIG9yZGVyIGRpc3BsYXllZFxuZnVuY3Rpb24gTUVOVV9DQVRFR09SSUVTKCk6IE1vZHVsZVRpdGxlW11cbntcbiAgICBpZiAoIXNldHRpbmdDaGFyKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIFtdO1xuICAgIH1cbiAgICAvLyBEaXNwbGF5IHNldHRpbmdzIGlmIHlvdSBhcmUgdGhlIFBsYXllclxuICAgIGlmIChzZXR0aW5nQ2hhci5Jc1BsYXllcigpKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgIE1vZHVsZVRpdGxlLkF1dGhvcml0eSxcbiAgICAgICAgICAgIE1vZHVsZVRpdGxlLlByb2ZpbGUsXG4gICAgICAgICAgICBNb2R1bGVUaXRsZS5DbGlja2VyLFxuICAgICAgICAgICAgTW9kdWxlVGl0bGUuVmlydHVhbFBldCxcbiAgICAgICAgICAgIE1vZHVsZVRpdGxlLlZpcnR1YWxQZXRIVUQsXG4gICAgICAgICAgICBNb2R1bGVUaXRsZS5WaXJ0dWFsUGV0Q29uZGl0aW9uc1xuICAgICAgICBdO1xuICAgIH1cbiAgICAvLyBEaXNwbGF5IHNldHRpbmdzIGlmIHlvdSBhcmUgYW4gYW5vdGhlciBwbGF5ZXJcbiAgICByZXR1cm4gW1xuICAgICAgICBNb2R1bGVUaXRsZS5BdXRob3JpdHksXG4gICAgICAgIE1vZHVsZVRpdGxlLlByb2ZpbGUsXG4gICAgICAgIE1vZHVsZVRpdGxlLkNsaWNrZXIsXG4gICAgICAgIE1vZHVsZVRpdGxlLlZpcnR1YWxQZXQsXG4gICAgICAgIE1vZHVsZVRpdGxlLlZpcnR1YWxQZXRDb25kaXRpb25zXG4gICAgXTtcbn1cblxuZXhwb3J0IGNvbnN0IE1FTlVfVElUTEVTOiBQYXJ0aWFsPFJlY29yZDxNb2R1bGVUaXRsZSwgc3RyaW5nPj4gPVxue1xuICAgIFtNb2R1bGVUaXRsZS5WaXJ0dWFsUGV0XTogXCJWaXJ0dWFsIFBldFwiLFxuICAgIFtNb2R1bGVUaXRsZS5WaXJ0dWFsUGV0SFVEXTogXCJWaXJ0dWFsIFBldCBIdWRcIixcbiAgICBbTW9kdWxlVGl0bGUuVmlydHVhbFBldENvbmRpdGlvbnNdOiBcIlZpcnR1YWwgUGV0IENvbmRpdGlvbnNcIlxufTtcblxuZXhwb3J0IGxldCBjdXJyZW50TWVudTogTW9kdWxlVGl0bGUgfCBudWxsIHwgXCJSRVNFVF9TZXR0aW5nc1wiID0gbnVsbDtcbmxldCBzZXR0aW5nc09wZW46IGJvb2xlYW4gPSBmYWxzZTtcbmxldCBhbGxvd1Jlc2V0VGltZTogbnVtYmVyID0gMDtcblxuRHJhd0J1dHRvbigxNTIwLCA3MjAsIDIwMCwgODAsIFwiQ2FuY2VsXCIsIFwiV2hpdGVcIik7XG5cbmZ1bmN0aW9uIERyYXdNZW51T3B0aW9ucyhtZW51T3B0aW9uczogc3RyaW5nW10pOiB2b2lkXG57XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBtZW51T3B0aW9ucy5sZW5ndGg7IGkrKylcbiAgICB7XG4gICAgICAgIERyYXdCdXR0b24oXG4gICAgICAgICAgICBCVVRUT05fTEVGVCArIChCVVRUT05fV0lEVEggKyBCVVRUT05fR0FQKSAqIE1hdGguZmxvb3IoaSAvIEJVVFRPTl9NQVhfTlVNQkVSKSxcbiAgICAgICAgICAgIEJVVFRPTl9UT1AgKyAoQlVUVE9OX0hFSUdIVCArIEJVVFRPTl9HQVApICogKGkgJSBCVVRUT05fTUFYX05VTUJFUiksXG4gICAgICAgICAgICBCVVRUT05fV0lEVEgsXG4gICAgICAgICAgICBCVVRUT05fSEVJR0hULFxuICAgICAgICAgICAgXCJcIixcbiAgICAgICAgICAgIFwiV2hpdGVcIlxuICAgICAgICApO1xuICAgICAgICBEcmF3VGV4dEZpdChcbiAgICAgICAgICAgIExvY2FsaXplZFRleHQoTUVOVV9USVRMRVNbbWVudU9wdGlvbnNbaV1dID8/IG1lbnVPcHRpb25zW2ldKSxcbiAgICAgICAgICAgIChCVVRUT05fTEVGVCArIEJVVFRPTl9URVhUX1BBRERJTkcpICsgKEJVVFRPTl9XSURUSCArIEJVVFRPTl9HQVApICogTWF0aC5mbG9vcihpIC8gQlVUVE9OX01BWF9OVU1CRVIpLFxuICAgICAgICAgICAgKEJVVFRPTl9UT1AgKyBNYXRoLmZsb29yKEJVVFRPTl9IRUlHSFQgLyAyKSkgKyAoQlVUVE9OX0hFSUdIVCArIEJVVFRPTl9HQVApICogKGkgJSBCVVRUT05fTUFYX05VTUJFUiksXG4gICAgICAgICAgICBCVVRUT05fV0lEVEggLSBCVVRUT05fVEVYVF9QQURESU5HICogMixcbiAgICAgICAgICAgIFwiQmxhY2tcIixcbiAgICAgICAgICAgIFwiR3JheVwiXG4gICAgICAgICk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBHZXRDbGlja2VkTWVudShtZW51T3B0aW9uczogTW9kdWxlVGl0bGVbXSk6IE1vZHVsZVRpdGxlIHwgbnVsbFxue1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbWVudU9wdGlvbnMubGVuZ3RoOyBpKyspXG4gICAge1xuICAgICAgICBpZiAoTW91c2VJbihcbiAgICAgICAgICAgIEJVVFRPTl9MRUZUICsgKEJVVFRPTl9XSURUSCArIEJVVFRPTl9HQVApICogTWF0aC5mbG9vcihpIC8gQlVUVE9OX01BWF9OVU1CRVIpLFxuICAgICAgICAgICAgQlVUVE9OX1RPUCArIChCVVRUT05fSEVJR0hUICsgQlVUVE9OX0dBUCkgKiAoaSAlIEJVVFRPTl9NQVhfTlVNQkVSKSxcbiAgICAgICAgICAgIEJVVFRPTl9XSURUSCxcbiAgICAgICAgICAgIEJVVFRPTl9IRUlHSFRcbiAgICAgICAgKSlcbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuIG1lbnVPcHRpb25zW2ldO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xufVxuXG4vLyBPcHRpb25zIGxheW91dFxuLy8gTWF5IG5vdCBiZSBuZWVkZWQuIFdpbGwgaGF2ZSB0byB1c2UgaWYgdGhlcmUgYXJlIG1vcmUgdGhhbiAxMCBzZXR0aW5ncyB0byBkaXNwbGF5IHBlciBjYXRlZ29yeVxuY29uc3QgT1BUSU9OX1BFUl9QQUdFID0gOTtcbmNvbnN0IE9QVElPTl9IRUlHSFQgPSA2NDtcbmNvbnN0IE9QVElPTl9UT1AgPSAyMDA7XG5jb25zdCBPUFRJT05fTEVGVCA9IDI1MDtcbmNvbnN0IE9QVElPTl9HQVAgPSAxMDtcbmNvbnN0IE9QVElPTl9DSEVDS0JPWF9TSVpFID0gNjQ7XG5jb25zdCBPUFRJT05fQkFDS19ORVhUX1dJRFRIID0gMjU2O1xuY29uc3QgT1BUSU9OX1RFWFRfV0lEVEggPSAyNTY7XG5jb25zdCBPUFRJT05fVEVYVF9NQVhfQ0hBUlMgPSAyNTY7XG5sZXQgY3VycmVudFBhZ2U6IG51bWJlciA9IDE7XG5sZXQgbWF4UGFnZXM6IG51bWJlciA9IDE7XG5cbmNvbnN0IE5FWFRfQlVUVE9OX1BPUyA9IFsxNjM1LCA3NSwgOTAsIDkwXSBhcyBjb25zdDtcbmNvbnN0IFBSRVZfQlVUVE9OX1BPUyA9IFtORVhUX0JVVFRPTl9QT1NbMF0gLSBORVhUX0JVVFRPTl9QT1NbMl0sIE5FWFRfQlVUVE9OX1BPU1sxXSwgTkVYVF9CVVRUT05fUE9TWzJdLCBORVhUX0JVVFRPTl9QT1NbMl1dIGFzIGNvbnN0O1xuXG5mdW5jdGlvbiBEcmF3UGFnZXNCdXR0b25zKCk6IHZvaWRcbntcbiAgICAvLyBBc3NldCBjdXJyZW50IHBhZ2UgaXMgaW4gY29ycmVjdCByYW5nZVxuICAgIGlmIChjdXJyZW50UGFnZSA+IG1heFBhZ2VzKVxuICAgIHtcbiAgICAgICAgY3VycmVudFBhZ2UgPSBtYXhQYWdlcztcbiAgICB9XG4gICAgaWYgKGN1cnJlbnRQYWdlIDwgMSlcbiAgICB7XG4gICAgICAgIGN1cnJlbnRQYWdlID0gMTtcbiAgICB9XG5cbiAgICBEcmF3QnV0dG9uKFxuICAgICAgICAuLi5ORVhUX0JVVFRPTl9QT1MsXG4gICAgICAgIFwiXCIsXG4gICAgICAgIGN1cnJlbnRQYWdlID49IG1heFBhZ2VzID8gXCIjYWFhYWFhXCIgOiBcIiNmZmZmZmZcIixcbiAgICAgICAgXCJJY29ucy9OZXh0LnBuZ1wiLFxuICAgICAgICBcIk5leHQgUGFnZVwiLFxuICAgICAgICBjdXJyZW50UGFnZSA+PSBtYXhQYWdlc1xuICAgICk7XG4gICAgRHJhd0J1dHRvbihcbiAgICAgICAgLi4uUFJFVl9CVVRUT05fUE9TLFxuICAgICAgICBcIlwiLFxuICAgICAgICAxID49IGN1cnJlbnRQYWdlID8gXCIjYWFhYWFhXCIgOiBcIiNmZmZmZmZcIixcbiAgICAgICAgXCJJY29ucy9QcmV2LnBuZ1wiLFxuICAgICAgICBcIlByZXZpb3VzIFBhZ2VcIixcbiAgICAgICAgMSA+PSBjdXJyZW50UGFnZVxuICAgICk7XG59XG5cbmZ1bmN0aW9uIERyYXdTdWJNZW51T3B0aW9ucyhzdWJNZW51OiBNb2R1bGVUaXRsZSk6IHZvaWRcbntcbiAgICAvLyBTaG91bGRuJ3QgYmUgbmVlZGVkIGJ1dCBhY3RzIGFzIGZhaWxzYWZlIGFuZCBtYWtlcyB0eXBlc2NyaXB0IGhhcHB5XG4gICAgaWYgKCFzZXR0aW5nQ2hhcikgeyByZXR1cm47IH1cblxuICAgIC8vIFNldHRpbmdzIGhhdmUgdG8gYmUgZGlzcGxheWFibGUgYW5kIGhhdmUgYSB2YWx1ZSBleGlzdCBpbiB0aGUgc3RvcmVkIHNldHRpbmdzXG4gICAgY29uc3Qgc2V0dGluZ3NUb0Rpc3BsYXkgPSBPYmplY3QuZW50cmllcyhkZWZhdWx0U2V0dGluZ3Nbc3ViTWVudV0gPz8ge30pXG4gICAgICAgIC5maWx0ZXIoKFtrZXksIHNldHRpbmddKSA9PiBJc0Rpc3BsYXlTZXR0aW5nKHNldHRpbmcpICYmIChrZXkgaW4gKHNldHRpbmdDaGFyPy5NUEFbc3ViTWVudV0gPz8ge30pKSk7XG5cbiAgICAvLyBOZXh0IGFuZCBwcmV2aW91cyBvcHRpb24gYnV0dG9uc1xuICAgIGlmIChtYXhQYWdlcyAhPT0gMSlcbiAgICB7XG4gICAgICAgIERyYXdQYWdlc0J1dHRvbnMoKTtcbiAgICB9XG5cbiAgICBzZXR0aW5nc1RvRGlzcGxheS5zbGljZSgoY3VycmVudFBhZ2UgLSAxKSAqIE9QVElPTl9QRVJfUEFHRSwgY3VycmVudFBhZ2UgKiBPUFRJT05fUEVSX1BBR0UpLmZvckVhY2goKHZhbCwgaSkgPT5cbiAgICB7XG4gICAgICAgIGNvbnN0IFtzZXR0aW5nTmFtZSwgc2V0dGluZ10gPSB2YWwgYXMgW3N0cmluZywgRGlzcGxheWVkU2V0dGluZ107XG5cbiAgICAgICAgY29uc3QgZGlzYWJsZWRTZXR0aW5nID0gIXNldHRpbmcuYWN0aXZlKHNldHRpbmdDaGFyISlcbiAgICAgICAgICB8fCAoXG4gICAgICAgICAgICAgIGBvdGhlcnMke3N1Yk1lbnV9YCBpbiBzZXR0aW5nQ2hhciEuTVBBW01vZHVsZVRpdGxlLkF1dGhvcml0eV1cbiAgICAgICAgICAgICAgJiYgYHNlbGYke3N1Yk1lbnV9YCBpbiBzZXR0aW5nQ2hhciEuTVBBW01vZHVsZVRpdGxlLkF1dGhvcml0eV1cbiAgICAgICAgICAgICAgJiYgIUlzTWVtYmVyTnVtYmVySW5BdXRoR3JvdXAoXG4gICAgICAgICAgICAgICAgICBQbGF5ZXIuTWVtYmVyTnVtYmVyID8/IC0xLFxuICAgICAgICAgICAgICAgICAgc2V0dGluZ0NoYXIhLk1QQVtNb2R1bGVUaXRsZS5BdXRob3JpdHldW2BvdGhlcnMke3N1Yk1lbnV9YF0gYXMgQXV0aG9yaXR5R3JvdXAsXG4gICAgICAgICAgICAgICAgICBzZXR0aW5nQ2hhciEuTVBBW01vZHVsZVRpdGxlLkF1dGhvcml0eV1bYHNlbGYke3N1Yk1lbnV9YF0gYXMgYm9vbGVhbixcbiAgICAgICAgICAgICAgICAgIHNldHRpbmdDaGFyIVxuICAgICAgICAgICAgICApKTtcblxuICAgICAgICBpZiAoSXNDaGVja2JveFNldHRpbmcoc2V0dGluZykpXG4gICAgICAgIHtcbiAgICAgICAgICAgIERyYXdDaGVja2JveChcbiAgICAgICAgICAgICAgICBPUFRJT05fTEVGVCxcbiAgICAgICAgICAgICAgICBPUFRJT05fVE9QICsgKGkgKiAoT1BUSU9OX0dBUCArIE9QVElPTl9IRUlHSFQpKSxcbiAgICAgICAgICAgICAgICBPUFRJT05fQ0hFQ0tCT1hfU0laRSxcbiAgICAgICAgICAgICAgICBPUFRJT05fQ0hFQ0tCT1hfU0laRSxcbiAgICAgICAgICAgICAgICBMb2NhbGl6ZWRUZXh0KHNldHRpbmcubGFiZWwpXG4gICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlQWxsKFwiVGFyZ2V0Q2hhcmFjdGVyXCIsIChzZXR0aW5nQ2hhcj8uTmlja25hbWUgfHwgc2V0dGluZ0NoYXI/Lk5hbWUpID8/IFwiXCIpXG4gICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlQWxsKFwiVGFyZ2V0UHJvbm91blBvc3Nlc3NpdmVcIiwgc2V0dGluZ0NoYXI/LkdldFByb25vdW5zKCkgPT09IFwiU2hlSGVyXCIgPyBcImhlclwiIDogXCJoaXNcIiksXG4gICAgICAgICAgICAgICAgISFzZXR0aW5nQ2hhciEuTVBBW3N1Yk1lbnVdW3NldHRpbmdOYW1lXSxcbiAgICAgICAgICAgICAgICBkaXNhYmxlZFNldHRpbmcsXG4gICAgICAgICAgICAgICAgXCJCbGFja1wiXG4gICAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKElzT3B0aW9uU2V0dGluZyhzZXR0aW5nKSlcbiAgICAgICAge1xuICAgICAgICAgICAgY29uc3QgaW5kZXggPSBzZXR0aW5nLm9wdGlvbnMuaW5kZXhPZihzZXR0aW5nQ2hhciEuTVBBW3N1Yk1lbnVdW3NldHRpbmdOYW1lXSBhcyBzdHJpbmcpO1xuICAgICAgICAgICAgY29uc3Qgb3B0TGVuID0gc2V0dGluZy5vcHRpb25zLmxlbmd0aDtcblxuICAgICAgICAgICAgLy8gQ2FuJ3QgZGVjcmVhc2UgYXV0aG9yaXR5IGJleW9uZCBpZiB0aGUgcGxheWVyIGlzIG5vdCBvZiB0aGF0IHJhbmtcbiAgICAgICAgICAgIGNvbnN0IHByb2ZpbGVPckV4Y2x1ZGVzID0gKHN1Yk1lbnUgIT09IE1vZHVsZVRpdGxlLkF1dGhvcml0eSkgfHwgIUFVVEhPUklUWV9HUk9VUF9PUFRJT05TLmluY2x1ZGVzKHNldHRpbmdDaGFyIS5NUEFbc3ViTWVudV1bc2V0dGluZ05hbWVdKTtcbiAgICAgICAgICAgIGNvbnN0IHByZXZEaXNhYmxlZCA9ICEocHJvZmlsZU9yRXhjbHVkZXMgfHwgQXV0aG9yaXR5SXNDb21wYXJpc29uVG9DaGFyYWN0ZXIoc2V0dGluZ0NoYXIhLk1QQVtzdWJNZW51XVtzZXR0aW5nTmFtZV0gYXMgQXV0aG9yaXR5R3JvdXAsIFwiPj1cIiwgUGxheWVyLk1lbWJlck51bWJlciA/PyAtMSwgc2V0dGluZ0NoYXIhKSk7XG4gICAgICAgICAgICBjb25zdCBuZXh0RGlzYWJsZWQgPSAhKHByb2ZpbGVPckV4Y2x1ZGVzIHx8IEF1dGhvcml0eUlzQ29tcGFyaXNvblRvQ2hhcmFjdGVyKHNldHRpbmdDaGFyIS5NUEFbc3ViTWVudV1bc2V0dGluZ05hbWVdIGFzIEF1dGhvcml0eUdyb3VwLCBcIj5cIiwgUGxheWVyLk1lbWJlck51bWJlciA/PyAtMSwgc2V0dGluZ0NoYXIhKSlcbiAgICAgICAgICAgICAgJiYgc2V0dGluZ0NoYXIhLk1QQVtzdWJNZW51XVtzZXR0aW5nTmFtZV0gIT09IFwiU2VsZlwiO1xuXG4gICAgICAgICAgICBEcmF3QmFja05leHRCdXR0b24oXG4gICAgICAgICAgICAgICAgT1BUSU9OX0xFRlQsXG4gICAgICAgICAgICAgICAgT1BUSU9OX1RPUCArIChpICogKE9QVElPTl9HQVAgKyBPUFRJT05fSEVJR0hUKSksXG4gICAgICAgICAgICAgICAgT1BUSU9OX0JBQ0tfTkVYVF9XSURUSCxcbiAgICAgICAgICAgICAgICBPUFRJT05fSEVJR0hULFxuICAgICAgICAgICAgICAgIExvY2FsaXplZFRleHQoc2V0dGluZ0NoYXIhLk1QQVtzdWJNZW51XVtzZXR0aW5nTmFtZV0gYXMgc3RyaW5nKSxcbiAgICAgICAgICAgICAgICAhKGRpc2FibGVkU2V0dGluZyB8fCAocHJldkRpc2FibGVkICYmIG5leHREaXNhYmxlZCkpID8gXCIjZmZmZmZmXCIgOiBcIiNhYWFhYWFcIixcbiAgICAgICAgICAgICAgICBcIlwiLFxuICAgICAgICAgICAgICAgICgpID0+IExvY2FsaXplZFRleHQocHJldkRpc2FibGVkID8gXCJcIiA6IChzZXR0aW5nLmxvb3AgPyBzZXR0aW5nLm9wdGlvbnNbKGluZGV4IC0gMSArIG9wdExlbikgJSBvcHRMZW5dIDogaW5kZXggPiAwID8gc2V0dGluZy5vcHRpb25zW2luZGV4IC0gMV0gOiBcIlwiKSksXG4gICAgICAgICAgICAgICAgKCkgPT4gTG9jYWxpemVkVGV4dChuZXh0RGlzYWJsZWQgPyBcIlwiIDogKHNldHRpbmcubG9vcCA/IHNldHRpbmcub3B0aW9uc1soaW5kZXggKyAxICsgb3B0TGVuKSAlIG9wdExlbl0gOiBpbmRleCArIDEgPCBvcHRMZW4gPyBzZXR0aW5nLm9wdGlvbnNbaW5kZXggKyAxXSA6IFwiXCIpKSxcbiAgICAgICAgICAgICAgICBkaXNhYmxlZFNldHRpbmcgfHwgKHByZXZEaXNhYmxlZCAmJiBuZXh0RGlzYWJsZWQpXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgRHJhd1RleHRGaXQoXG4gICAgICAgICAgICAgICAgTG9jYWxpemVkVGV4dChzZXR0aW5nLmxhYmVsKVxuICAgICAgICAgICAgICAgICAgICAucmVwbGFjZUFsbChcIlRhcmdldENoYXJhY3RlclwiLCAoc2V0dGluZ0NoYXI/Lk5pY2tuYW1lIHx8IHNldHRpbmdDaGFyPy5OYW1lKSA/PyBcIlwiKVxuICAgICAgICAgICAgICAgICAgICAucmVwbGFjZUFsbChcIlRhcmdldFByb25vdW5Qb3NzZXNzaXZlXCIsIHNldHRpbmdDaGFyPy5HZXRQcm9ub3VucygpID09PSBcIlNoZUhlclwiID8gXCJoZXJcIiA6IFwiaGlzXCIpLFxuICAgICAgICAgICAgICAgIE9QVElPTl9MRUZUICsgT1BUSU9OX0JBQ0tfTkVYVF9XSURUSCArIChPUFRJT05fR0FQICogMiksXG4gICAgICAgICAgICAgICAgT1BUSU9OX1RPUCArIChpICogKE9QVElPTl9HQVAgKyBPUFRJT05fSEVJR0hUKSArIE1hdGguY2VpbChPUFRJT05fSEVJR0hUIC8gMikpLFxuICAgICAgICAgICAgICAgIENBTlZBU19XSURUSCAtIChPUFRJT05fTEVGVCAqIDIpIC0gT1BUSU9OX0JBQ0tfTkVYVF9XSURUSCxcbiAgICAgICAgICAgICAgICBcIkJsYWNrXCIsXG4gICAgICAgICAgICAgICAgXCJHcmF5XCJcbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoSXNUZXh0U2V0dGluZyhzZXR0aW5nKSB8fCBJc051bWJlclNldHRpbmcoc2V0dGluZykpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGNvbnN0IGlkID0gRWxlbWVudE5hbWUoc3ViTWVudSwgc2V0dGluZ05hbWUpO1xuICAgICAgICAgICAgRWxlbWVudFBvc2l0aW9uRml4ZWQoXG4gICAgICAgICAgICAgICAgaWQsXG4gICAgICAgICAgICAgICAgT1BUSU9OX0xFRlQsXG4gICAgICAgICAgICAgICAgT1BUSU9OX1RPUCArIChpICogKE9QVElPTl9HQVAgKyBPUFRJT05fSEVJR0hUKSksXG4gICAgICAgICAgICAgICAgc2V0dGluZy53aWR0aCA/PyBPUFRJT05fVEVYVF9XSURUSCxcbiAgICAgICAgICAgICAgICBPUFRJT05fSEVJR0hUXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgaWYgKGRpc2FibGVkU2V0dGluZylcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBFbGVtZW50U2V0QXR0cmlidXRlKGlkLCBcImRpc2FibGVkXCIsIFwidHJ1ZVwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBFbGVtZW50UmVtb3ZlQXR0cmlidXRlKGlkLCBcImRpc2FibGVkXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgRHJhd1RleHRGaXQoXG4gICAgICAgICAgICAgICAgTG9jYWxpemVkVGV4dChzZXR0aW5nLmxhYmVsKVxuICAgICAgICAgICAgICAgICAgICAucmVwbGFjZUFsbChcIlRhcmdldENoYXJhY3RlclwiLCAoc2V0dGluZ0NoYXI/Lk5pY2tuYW1lIHx8IHNldHRpbmdDaGFyPy5OYW1lKSA/PyBcIlwiKVxuICAgICAgICAgICAgICAgICAgICAucmVwbGFjZUFsbChcIlRhcmdldFByb25vdW5Qb3NzZXNzaXZlXCIsIHNldHRpbmdDaGFyPy5HZXRQcm9ub3VucygpID09PSBcIlNoZUhlclwiID8gXCJoZXJcIiA6IFwiaGlzXCIpLFxuICAgICAgICAgICAgICAgIE9QVElPTl9MRUZUICsgKHNldHRpbmcud2lkdGggPz8gT1BUSU9OX1RFWFRfV0lEVEgpICsgKE9QVElPTl9HQVAgKiAyKSxcbiAgICAgICAgICAgICAgICBPUFRJT05fVE9QICsgKGkgKiAoT1BUSU9OX0dBUCArIE9QVElPTl9IRUlHSFQpKSArIE1hdGguY2VpbChPUFRJT05fSEVJR0hUIC8gMiksXG4gICAgICAgICAgICAgICAgQ0FOVkFTX1dJRFRIIC0gKE9QVElPTl9MRUZUICogMikgLSAoc2V0dGluZy53aWR0aCA/PyBPUFRJT05fVEVYVF9XSURUSCksXG4gICAgICAgICAgICAgICAgXCJCbGFja1wiLFxuICAgICAgICAgICAgICAgIFwiR3JheVwiXG4gICAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgfSk7XG59XG5cbmZ1bmN0aW9uIEdldENsaWNrZWRPcHRpb24oc3ViTWVudTogTW9kdWxlVGl0bGUpOiB2b2lkXG57XG4gICAgLy8gU2hvdWxkbid0IGJlIG5lZWRlZCBidXQgYWN0cyBhcyBmYWlsc2FmZSBhbmQgbWFrZXMgdHlwZXNjcmlwdCBoYXBweVxuICAgIGlmICghc2V0dGluZ0NoYXIpIHsgcmV0dXJuOyB9XG5cbiAgICAvLyBTZXR0aW5ncyBoYXZlIHRvIGJlIGRpc3BsYXlhYmxlIGFuZCBoYXZlIGEgdmFsdWUgZXhpc3QgaW4gdGhlIHN0b3JlZCBzZXR0aW5nc1xuICAgIGNvbnN0IHNldHRpbmdzVG9EaXNwbGF5ID0gT2JqZWN0LmVudHJpZXMoZGVmYXVsdFNldHRpbmdzW3N1Yk1lbnVdID8/IHt9KVxuICAgICAgICAuZmlsdGVyKChba2V5LCBzZXR0aW5nXSkgPT4gSXNEaXNwbGF5U2V0dGluZyhzZXR0aW5nKSAmJiAoa2V5IGluIChzZXR0aW5nQ2hhcj8uTVBBW3N1Yk1lbnVdID8/IHt9KSkpO1xuXG4gICAgLy8gTG9vcCB0aHJvdWdoIGFsbCB0aGUgb3B0aW9ucyBhbmQgY2hlY2sgaWYgdGhlIGNsaWNrIG9jY3VyZWQgaW4gdGhlIHR5cGUncyBjb3JyZXNwb25kaW5nIGNsaWNrIHpvbmVcbiAgICBzZXR0aW5nc1RvRGlzcGxheS5zbGljZSgoY3VycmVudFBhZ2UgLSAxKSAqIE9QVElPTl9QRVJfUEFHRSwgY3VycmVudFBhZ2UgKiBPUFRJT05fUEVSX1BBR0UpLmZvckVhY2goKHZhbCwgaSkgPT5cbiAgICB7XG4gICAgICAgIGNvbnN0IFtzZXR0aW5nTmFtZSwgc2V0dGluZ10gPSB2YWwgYXMgW3N0cmluZywgRGlzcGxheWVkU2V0dGluZ107XG5cbiAgICAgICAgY29uc3QgZGlzYWJsZWRTZXR0aW5nID0gIXNldHRpbmcuYWN0aXZlKHNldHRpbmdDaGFyISlcbiAgICAgICAgICB8fCAoXG4gICAgICAgICAgICAgIGBvdGhlcnMke3N1Yk1lbnV9YCBpbiBzZXR0aW5nQ2hhciEuTVBBW01vZHVsZVRpdGxlLkF1dGhvcml0eV1cbiAgICAgICAgICAgICAgJiYgYHNlbGYke3N1Yk1lbnV9YCBpbiBzZXR0aW5nQ2hhciEuTVBBW01vZHVsZVRpdGxlLkF1dGhvcml0eV1cbiAgICAgICAgICAgICAgJiYgIUlzTWVtYmVyTnVtYmVySW5BdXRoR3JvdXAoXG4gICAgICAgICAgICAgICAgICBQbGF5ZXIuTWVtYmVyTnVtYmVyID8/IC0xLFxuICAgICAgICAgICAgICAgICAgc2V0dGluZ0NoYXIhLk1QQVtNb2R1bGVUaXRsZS5BdXRob3JpdHldW2BvdGhlcnMke3N1Yk1lbnV9YF0gYXMgQXV0aG9yaXR5R3JvdXAsXG4gICAgICAgICAgICAgICAgICBzZXR0aW5nQ2hhciEuTVBBW01vZHVsZVRpdGxlLkF1dGhvcml0eV1bYHNlbGYke3N1Yk1lbnV9YF0gYXMgYm9vbGVhbixcbiAgICAgICAgICAgICAgICAgIHNldHRpbmdDaGFyIVxuICAgICAgICAgICAgICApKTtcblxuICAgICAgICBpZiAoSXNDaGVja2JveFNldHRpbmcoc2V0dGluZykpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICBNb3VzZUluKFxuICAgICAgICAgICAgICAgICAgICBPUFRJT05fTEVGVCxcbiAgICAgICAgICAgICAgICAgICAgT1BUSU9OX1RPUCArIChpICogKE9QVElPTl9HQVAgKyBPUFRJT05fSEVJR0hUKSksXG4gICAgICAgICAgICAgICAgICAgIE9QVElPTl9DSEVDS0JPWF9TSVpFLFxuICAgICAgICAgICAgICAgICAgICBPUFRJT05fQ0hFQ0tCT1hfU0laRVxuICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAmJiAhZGlzYWJsZWRTZXR0aW5nXG4gICAgICAgICAgICApXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgc2V0dGluZ0NoYXIhLk1QQVtzdWJNZW51XVtzZXR0aW5nTmFtZV0gPSAhc2V0dGluZ0NoYXIhLk1QQVtzdWJNZW51XVtzZXR0aW5nTmFtZV07XG4gICAgICAgICAgICAgICAgaWYgKHNldHRpbmcub25TZXQpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBzZXR0aW5nLm9uU2V0KHNldHRpbmdDaGFyISk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHNldHRpbmdzRWRpdGVkID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChJc09wdGlvblNldHRpbmcoc2V0dGluZykpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGNvbnN0IGluZGV4ID0gc2V0dGluZy5vcHRpb25zLmluZGV4T2Yoc2V0dGluZ0NoYXIhLk1QQVtzdWJNZW51XVtzZXR0aW5nTmFtZV0gYXMgc3RyaW5nKTtcbiAgICAgICAgICAgIGNvbnN0IG9wdExlbiA9IHNldHRpbmcub3B0aW9ucy5sZW5ndGg7XG4gICAgICAgICAgICAvLyBCYWNrIGFycm93XG4gICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgTW91c2VJbihcbiAgICAgICAgICAgICAgICAgICAgT1BUSU9OX0xFRlQsXG4gICAgICAgICAgICAgICAgICAgIE9QVElPTl9UT1AgKyAoaSAqIChPUFRJT05fR0FQICsgT1BUSU9OX0hFSUdIVCkpLFxuICAgICAgICAgICAgICAgICAgICBNYXRoLmZsb29yKE9QVElPTl9CQUNLX05FWFRfV0lEVEggLyAyKSxcbiAgICAgICAgICAgICAgICAgICAgT1BUSU9OX0hFSUdIVFxuICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAmJiAhZGlzYWJsZWRTZXR0aW5nXG4gICAgICAgICAgICAgICAgJiYgKHNldHRpbmcubG9vcFxuICAgICAgICAgICAgICAgIHx8IGluZGV4ID4gMClcbiAgICAgICAgICAgICAgICAvLyBDYW4ndCBkZWNyZWFzZSBhdXRob3JpdHkgYmV5b25kIGlmIHRoZSBwbGF5ZXIgaXMgbm90IG9mIHRoYXQgcmFua1xuICAgICAgICAgICAgICAgICYmIChzdWJNZW51ICE9PSBNb2R1bGVUaXRsZS5BdXRob3JpdHlcbiAgICAgICAgICAgICAgICB8fCAhQVVUSE9SSVRZX0dST1VQX09QVElPTlMuaW5jbHVkZXMoc2V0dGluZ0NoYXIhLk1QQVtzdWJNZW51XVtzZXR0aW5nTmFtZV0pXG4gICAgICAgICAgICAgICAgfHwgQXV0aG9yaXR5SXNDb21wYXJpc29uVG9DaGFyYWN0ZXIoc2V0dGluZ0NoYXIhLk1QQVtzdWJNZW51XVtzZXR0aW5nTmFtZV0gYXMgQXV0aG9yaXR5R3JvdXAsIFwiPj1cIiwgUGxheWVyLk1lbWJlck51bWJlciA/PyAtMSwgc2V0dGluZ0NoYXIhKSlcbiAgICAgICAgICAgIClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBzZXR0aW5nQ2hhciEuTVBBW3N1Yk1lbnVdW3NldHRpbmdOYW1lXSA9IHNldHRpbmcub3B0aW9uc1soaW5kZXggLSAxICsgb3B0TGVuKSAlIG9wdExlbl07XG4gICAgICAgICAgICAgICAgaWYgKHNldHRpbmcub25TZXQpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBzZXR0aW5nLm9uU2V0KHNldHRpbmdDaGFyISk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHNldHRpbmdzRWRpdGVkID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIE5leHQgYXJyb3dcbiAgICAgICAgICAgIGVsc2UgaWYgKFxuICAgICAgICAgICAgICAgIE1vdXNlSW4oXG4gICAgICAgICAgICAgICAgICAgIE9QVElPTl9MRUZUICsgTWF0aC5mbG9vcihPUFRJT05fQkFDS19ORVhUX1dJRFRIIC8gMiksXG4gICAgICAgICAgICAgICAgICAgIE9QVElPTl9UT1AgKyAoaSAqIChPUFRJT05fR0FQICsgT1BUSU9OX0hFSUdIVCkpLFxuICAgICAgICAgICAgICAgICAgICBNYXRoLmNlaWwoT1BUSU9OX0JBQ0tfTkVYVF9XSURUSCAvIDIpLFxuICAgICAgICAgICAgICAgICAgICBPUFRJT05fSEVJR0hUXG4gICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICYmICFkaXNhYmxlZFNldHRpbmdcbiAgICAgICAgICAgICAgICAmJiAoc2V0dGluZy5sb29wXG4gICAgICAgICAgICAgICAgfHwgaW5kZXggKyAxIDwgc2V0dGluZy5vcHRpb25zLmxlbmd0aClcbiAgICAgICAgICAgICAgICAvLyBDYW4ndCBpbmNyZWFzZSBhdXRob3JpdHkgYmV5b25kIHdoYXQgdGhlIHBsYXllciB3aG8gaXMgc2V0dGluZyBpdCBpc1xuICAgICAgICAgICAgICAgICYmIChzdWJNZW51ICE9PSBNb2R1bGVUaXRsZS5BdXRob3JpdHlcbiAgICAgICAgICAgICAgICB8fCAhQVVUSE9SSVRZX0dST1VQX09QVElPTlMuaW5jbHVkZXMoc2V0dGluZ0NoYXIhLk1QQVtzdWJNZW51XVtzZXR0aW5nTmFtZV0pXG4gICAgICAgICAgICAgICAgfHwgQXV0aG9yaXR5SXNDb21wYXJpc29uVG9DaGFyYWN0ZXIoc2V0dGluZ0NoYXIhLk1QQVtzdWJNZW51XVtzZXR0aW5nTmFtZV0gYXMgQXV0aG9yaXR5R3JvdXAsIFwiPlwiLCBQbGF5ZXIuTWVtYmVyTnVtYmVyID8/IC0xLCBzZXR0aW5nQ2hhciEpKVxuICAgICAgICAgICAgKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHNldHRpbmdDaGFyIS5NUEFbc3ViTWVudV1bc2V0dGluZ05hbWVdID0gc2V0dGluZy5vcHRpb25zWyhpbmRleCArIDEgKyBvcHRMZW4pICUgb3B0TGVuXTtcbiAgICAgICAgICAgICAgICBpZiAoc2V0dGluZy5vblNldClcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHNldHRpbmcub25TZXQoc2V0dGluZ0NoYXIhKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgc2V0dGluZ3NFZGl0ZWQgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBFeGl0QnV0dG9uUHJlc3NlZCgpOiB2b2lkXG57XG4gICAgaWYgKGN1cnJlbnRNZW51ID09PSBudWxsKVxuICAgIHtcbiAgICAgICAgaWYgKHdpbmRvdy5NUEEubWVudUxvYWRlZClcbiAgICAgICAge1xuICAgICAgICAgICAgd2luZG93Lk1QQS5tZW51TG9hZGVkID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgUHJlZmVyZW5jZU1lbnVFeGl0KCk7XG4gICAgfVxuICAgIGVsc2UgaWYgKGN1cnJlbnRNZW51ID09PSBcIlJFU0VUX1NldHRpbmdzXCIpXG4gICAge1xuICAgICAgICBjdXJyZW50TWVudSA9IG51bGw7XG4gICAgfVxuICAgIGVsc2VcbiAgICB7XG4gICAgICAgIC8vIFNhdmUgYWxsIHRleHQgZmllbGRzIHRvIHRoZWlyIHJlc3BlY3RpdmUgc2V0dGluZ1xuICAgICAgICBVcGRhdGVBbmREZWxldGVIVE1MRWxlbWVudHMoY3VycmVudE1lbnUpO1xuICAgICAgICBjdXJyZW50UGFnZSA9IDE7XG4gICAgICAgIG1heFBhZ2VzID0gMTtcbiAgICAgICAgY3VycmVudE1lbnUgPSBudWxsO1xuICAgIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIFByZWZlcmVuY2VNZW51Q2xpY2soKTogdm9pZFxue1xuICAgIGlmIChNb3VzZUluKC4uLkVYSVRfUE9TSVNUSU9OKSlcbiAgICB7XG4gICAgICAgIEV4aXRCdXR0b25QcmVzc2VkKCk7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoc2V0dGluZ0NoYXI/Lk1lbWJlck51bWJlciA9PT0gUGxheWVyLk1lbWJlck51bWJlciAmJiBjdXJyZW50TWVudSA9PT0gbnVsbClcbiAgICB7XG4gICAgICAgIGlmIChNb3VzZUluKC4uLldJS0lfUE9TSVRJT04pKVxuICAgICAgICB7XG4gICAgICAgICAgICB3aW5kb3cub3BlbihXSUtJX0xJTkssIFwiX2JsYW5rXCIpPy5mb2N1cygpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmIChNb3VzZUluKC4uLlJFU0VUX1BPU0lUSU9OKSlcbiAgICAgICAge1xuICAgICAgICAgICAgY3VycmVudE1lbnUgPSBcIlJFU0VUX1NldHRpbmdzXCI7XG4gICAgICAgICAgICBhbGxvd1Jlc2V0VGltZSA9IERhdGUubm93KCkgKyAxMDAwMDtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoTW91c2VJbiguLi5JTVBPUlRfUE9TSVRJT04pKVxuICAgICAgICB7XG4gICAgICAgICAgICBJbXBvcnRTZXR0aW5nc0Zyb21DbGlwYm9hcmQoKS50aGVuKCgpID0+XG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgc2V0dGluZ3NBbGVydFRleHQgPSBcIlNldHRpbmdzIGltcG9ydGVkIGZyb20gY2xpcGJvYXJkXCI7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgKCkgPT5cbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBzZXR0aW5nc0FsZXJ0VGV4dCA9IFwiRmFpbGVkIHRvIGltcG9ydCBzZXR0aW5nc1wiO1xuICAgICAgICAgICAgfSkuZmluYWxseSgoKSA9PiBzaG93U2V0dGluZ3NBbGVydCA9IERhdGUubm93KCkgKyA1MDAwKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoTW91c2VJbiguLi5FWFBPUlRfUE9TSVRJT04pKVxuICAgICAgICB7XG4gICAgICAgICAgICBFeHBvcnRTZXR0aW5nc1RvQ2xpcGJvYXJkKCkudGhlbigoKSA9PlxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHNldHRpbmdzQWxlcnRUZXh0ID0gXCJTZXR0aW5ncyBjb3BpZWQgdG8gY2xpcGJvYXJkXCI7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgKCkgPT5cbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBzZXR0aW5nc0FsZXJ0VGV4dCA9IFwiRmFpbGVkIHRvIGV4cG9ydCBzZXR0aW5nc1wiO1xuICAgICAgICAgICAgfSkuZmluYWxseSgoKSA9PiBzaG93U2V0dGluZ3NBbGVydCA9IERhdGUubm93KCkgKyA1MDAwKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8vIEdldCB0aGUgc3VibWVudSBjbGlja2VkIG9wdGlvbnNcbiAgICBpZiAoY3VycmVudE1lbnUgPT09IG51bGwgJiYgR2V0Q2xpY2tlZE1lbnUoTUVOVV9DQVRFR09SSUVTKCkpICE9PSBudWxsKVxuICAgIHtcbiAgICAgICAgY3VycmVudE1lbnUgPSBHZXRDbGlja2VkTWVudShNRU5VX0NBVEVHT1JJRVMoKSk7XG4gICAgICAgIGN1cnJlbnRQYWdlID0gMTtcbiAgICAgICAgbWF4UGFnZXMgPSBNYXRoLmNlaWwoT2JqZWN0LmVudHJpZXMoZGVmYXVsdFNldHRpbmdzW2N1cnJlbnRNZW51ID8/IFwiXCJdID8/IHt9KVxuICAgICAgICAgICAgLmZpbHRlcigoW2tleSwgc2V0dGluZ10pID0+IElzRGlzcGxheVNldHRpbmcoc2V0dGluZykgJiYgKGtleSBpbiAoc2V0dGluZ0NoYXI/Lk1QQVtjdXJyZW50TWVudSA/PyBcIlwiXSA/PyB7fSkpKVxuICAgICAgICAgICAgLmxlbmd0aCAvIE9QVElPTl9QRVJfUEFHRSk7XG4gICAgICAgIENyZWF0ZUhUTUxFbGVtZW50cyhjdXJyZW50TWVudSk7XG4gICAgfVxuICAgIGlmIChjdXJyZW50TWVudSA9PT0gXCJSRVNFVF9TZXR0aW5nc1wiKVxuICAgIHtcbiAgICAgICAgUmVzZXRNZW51Q2xpY2soKTtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICAvLyBHZXQgb3B0aW9uIG9mIHRoZSBjdXJyZW50IG1lbnVcbiAgICBpZiAoY3VycmVudE1lbnUgIT09IG51bGwpXG4gICAge1xuICAgICAgICAvLyBOZXh0IGFuZCBwcmV2aW91cyBidXR0b25zXG4gICAgICAgIC8vIE9ubHkgY2hlY2sgaWYgc2V0dGluZyBwYWdlIG5lZWRzIGl0XG4gICAgICAgIGlmIChPYmplY3QuZW50cmllcyhkZWZhdWx0U2V0dGluZ3NbY3VycmVudE1lbnUgPz8gXCJcIl0gPz8ge30pXG4gICAgICAgICAgICAuZmlsdGVyKChba2V5LCBzZXR0aW5nXSkgPT4gSXNEaXNwbGF5U2V0dGluZyhzZXR0aW5nKSAmJiAoa2V5IGluIChzZXR0aW5nQ2hhcj8uTVBBW2N1cnJlbnRNZW51ID8/IFwiXCJdID8/IHt9KSkpXG4gICAgICAgICAgICAubGVuZ3RoID4gT1BUSU9OX1BFUl9QQUdFXG4gICAgICAgIClcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKE1vdXNlSW4oLi4uTkVYVF9CVVRUT05fUE9TKSAmJiBjdXJyZW50UGFnZSA8IG1heFBhZ2VzKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIFVwZGF0ZUFuZERlbGV0ZUhUTUxFbGVtZW50cyhjdXJyZW50TWVudSk7XG4gICAgICAgICAgICAgICAgY3VycmVudFBhZ2UrKztcbiAgICAgICAgICAgICAgICBDcmVhdGVIVE1MRWxlbWVudHMoY3VycmVudE1lbnUpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChNb3VzZUluKC4uLlBSRVZfQlVUVE9OX1BPUykgJiYgY3VycmVudFBhZ2UgPiAxKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIFVwZGF0ZUFuZERlbGV0ZUhUTUxFbGVtZW50cyhjdXJyZW50TWVudSk7XG4gICAgICAgICAgICAgICAgY3VycmVudFBhZ2UtLTtcbiAgICAgICAgICAgICAgICBDcmVhdGVIVE1MRWxlbWVudHMoY3VycmVudE1lbnUpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBHZXRDbGlja2VkT3B0aW9uKGN1cnJlbnRNZW51KTtcbiAgICB9XG5cbiAgICByZXR1cm47XG59XG5cbmZ1bmN0aW9uIFJlc2V0TWVudUNsaWNrKCk6IHZvaWRcbntcbiAgICBpZiAoTW91c2VJbiguLi5SRVNFVF9DT05GSVJNX1BPU0lUSU9OKSAmJiBEYXRlLm5vdygpID4gYWxsb3dSZXNldFRpbWUpXG4gICAge1xuICAgICAgICBSZXNldFN0b3JhZ2UoKTtcbiAgICAgICAgY3VycmVudE1lbnUgPSBudWxsO1xuICAgICAgICBhbGxvd1Jlc2V0VGltZSA9IDA7XG4gICAgfVxuXG4gICAgaWYgKE1vdXNlSW4oLi4uUkVTRVRfQ0FOQ0VMX1BPU0lUSU9OKSlcbiAgICB7XG4gICAgICAgIGN1cnJlbnRNZW51ID0gbnVsbDtcbiAgICAgICAgYWxsb3dSZXNldFRpbWUgPSAwO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gUmVzZXRNZW51UnVuKCk6IHZvaWRcbntcbiAgICBjb25zdCBwcmV2VGV4dEFsaWduID0gTWFpbkNhbnZhcy50ZXh0QWxpZ247XG4gICAgTWFpbkNhbnZhcy50ZXh0QWxpZ24gPSBcImNlbnRlclwiO1xuXG4gICAgRHJhd1RleHQoXG4gICAgICAgIExvY2FsaXplZFRleHQoXCJXQVJOSU5HOiBBcmUgeW91IHN1cmUgeW91IHdhbnQgdG8gcmVzZXQgeW91ciBNUEEgc2V0dGluZ3MgYW5kIGRhdGEgYmFjayB0byBkZWZhdWx0P1wiKSxcbiAgICAgICAgQ0FOVkFTX1dJRFRIIC8gMixcbiAgICAgICAgMjUwLFxuICAgICAgICBcIiMwMDAwMDBcIixcbiAgICAgICAgXCIjYWFhYWFhXCJcbiAgICApO1xuICAgIERyYXdUZXh0KFxuICAgICAgICAvLyBBIGxpdHRsZSBob21hZ2UgdG8gQkNYIGFuZCBMU0NHIGZvciBiZWluZyBncmVhdCBvcGVuIHNvdXJjZSByZWZlcmVuY2VzIG9uIHRoaXMgcHJvamVjdFxuICAgICAgICBMb2NhbGl6ZWRUZXh0KFwiVGhpcyBhY3Rpb24gY2FuIG5vdCBiZSB1bmRvbmUhXCIpLFxuICAgICAgICBDQU5WQVNfV0lEVEggLyAyLFxuICAgICAgICA0MDAsXG4gICAgICAgIFwiI2ZmMDAwMFwiLFxuICAgICAgICBcIiNhYWFhYWFcIlxuICAgICk7XG4gICAgRHJhd1RleHQoXG4gICAgICAgIExvY2FsaXplZFRleHQoXCJFeHBvcnQgYW5kIHNhdmUgeW91ciBzZXR0aW5ncyBCRUZPUkUgY29uZmlybWluZyBpZiB5b3UgYXJlIHVuc3VyZS5cIiksXG4gICAgICAgIENBTlZBU19XSURUSCAvIDIsXG4gICAgICAgIDU1MCxcbiAgICAgICAgXCIjNjk2OTY5XCIsXG4gICAgICAgIFwiI2FhYWFhYVwiXG4gICAgKTtcblxuICAgIGNvbnN0IG5vdyA9IERhdGUubm93KCk7XG4gICAgaWYgKG5vdyA8PSBhbGxvd1Jlc2V0VGltZSlcbiAgICB7XG4gICAgICAgIERyYXdCdXR0b24oXG4gICAgICAgICAgICAuLi5SRVNFVF9DT05GSVJNX1BPU0lUSU9OLFxuICAgICAgICAgICAgYCR7TG9jYWxpemVkVGV4dChcIkNvbmZpcm1cIil9ICgke01hdGguZmxvb3IoKGFsbG93UmVzZXRUaW1lIC0gbm93KSAvIDEwMDApfSlgLFxuICAgICAgICAgICAgXCIjYWFhYWFhXCIsXG4gICAgICAgICAgICB1bmRlZmluZWQsXG4gICAgICAgICAgICB1bmRlZmluZWQsXG4gICAgICAgICAgICB0cnVlXG4gICAgICAgICk7XG4gICAgfVxuICAgIGVsc2VcbiAgICB7XG4gICAgICAgIERyYXdCdXR0b24oXG4gICAgICAgICAgICAuLi5SRVNFVF9DT05GSVJNX1BPU0lUSU9OLFxuICAgICAgICAgICAgTG9jYWxpemVkVGV4dChcIkNvbmZpcm1cIiksXG4gICAgICAgICAgICBcIiNmZjAwMDBcIlxuICAgICAgICApO1xuICAgIH1cblxuICAgIERyYXdCdXR0b24oXG4gICAgICAgIC4uLlJFU0VUX0NBTkNFTF9QT1NJVElPTixcbiAgICAgICAgTG9jYWxpemVkVGV4dChcIkNhbmNlbFwiKSxcbiAgICAgICAgXCJXaGl0ZVwiXG4gICAgKTtcblxuICAgIE1haW5DYW52YXMudGV4dEFsaWduID0gcHJldlRleHRBbGlnbjtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIFByZWZlcmVuY2VNZW51UnVuKCk6IHZvaWRcbntcbiAgICBpZiAoY3VycmVudE1lbnUgPT09IFwiUkVTRVRfU2V0dGluZ3NcIilcbiAgICB7XG4gICAgICAgIFJlc2V0TWVudVJ1bigpO1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3QgcHJldlRleHRBbGlnbiA9IE1haW5DYW52YXMudGV4dEFsaWduO1xuICAgIERyYXdCdXR0b24oLi4uRVhJVF9QT1NJU1RJT04sIFwiXCIsIFwiV2hpdGVcIiwgXCJJY29ucy9FeGl0LnBuZ1wiKTtcbiAgICBNYWluQ2FudmFzLnRleHRBbGlnbiA9IFwiY2VudGVyXCI7XG4gICAgRHJhd1RleHQoYCR7TG9jYWxpemVkVGV4dChcIk1heWEncyBQZXRwbGF5IEFkZGl0aW9uc1wiKX0ke2N1cnJlbnRNZW51ID8gYCAtICR7c2V0dGluZ0NoYXI/Lk5pY2tuYW1lIHx8IHNldHRpbmdDaGFyPy5OYW1lfSdzICR7TG9jYWxpemVkVGV4dChNRU5VX1RJVExFU1tjdXJyZW50TWVudV0gPz8gY3VycmVudE1lbnUpfWAgOiBcIlwifWAsIDEwMDAsIDEyNSwgXCJCbGFja1wiLCBcIkdyYXlcIik7XG5cbiAgICAvLyBXaWtpLCBSZXNldCwgaW1wb3J0IGFuZCBleHBvcnQgYnV0IG9ubHkgd2hpbGUgUGxheWVyXG4gICAgaWYgKHNldHRpbmdDaGFyPy5NZW1iZXJOdW1iZXIgPT09IFBsYXllci5NZW1iZXJOdW1iZXIgJiYgY3VycmVudE1lbnUgPT09IG51bGwpXG4gICAge1xuICAgICAgICBpZiAoc2hvd1NldHRpbmdzQWxlcnQgPj0gRGF0ZS5ub3coKSlcbiAgICAgICAge1xuICAgICAgICAgICAgTWFpbkNhbnZhcy50ZXh0QWxpZ24gPSBcImxlZnRcIjtcbiAgICAgICAgICAgIERyYXdUZXh0Rml0KFxuICAgICAgICAgICAgICAgIHNldHRpbmdzQWxlcnRUZXh0LFxuICAgICAgICAgICAgICAgIC4uLkFMRVJUX1BPU0lUSU9OLFxuICAgICAgICAgICAgICAgIFwiQmxhY2tcIixcbiAgICAgICAgICAgICAgICBcIkdyYXlcIlxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgICBNYWluQ2FudmFzLnRleHRBbGlnbiA9IFwiY2VudGVyXCI7XG4gICAgICAgIERyYXdCdXR0b24oXG4gICAgICAgICAgICAuLi5XSUtJX1BPU0lUSU9OLFxuICAgICAgICAgICAgTG9jYWxpemVkVGV4dChcIldpa2lcIiksXG4gICAgICAgICAgICBcIiNmZmZmZmZcIixcbiAgICAgICAgICAgIFwiXCIsXG4gICAgICAgICAgICBMb2NhbGl6ZWRUZXh0KFwiT3BlbiB0aGUgTVBBIHdpa2kgaW4gYSBuZXcgdGFiXCIpXG4gICAgICAgICk7XG4gICAgICAgIERyYXdCdXR0b24oXG4gICAgICAgICAgICAuLi5SRVNFVF9QT1NJVElPTixcbiAgICAgICAgICAgIExvY2FsaXplZFRleHQoXCJSRVNFVFwiKSxcbiAgICAgICAgICAgIFwiI2ZmMmUyZWFhXCIsXG4gICAgICAgICAgICBcIlwiLFxuICAgICAgICAgICAgTG9jYWxpemVkVGV4dChcIlJlc2V0IGFsbCB5b3VyIHNldHRpbmdzIGJhY2sgdG8gZGVmYXVsdFwiKVxuICAgICAgICApO1xuICAgICAgICBEcmF3QnV0dG9uKFxuICAgICAgICAgICAgLi4uSU1QT1JUX1BPU0lUSU9OLFxuICAgICAgICAgICAgTG9jYWxpemVkVGV4dChcIkltcG9ydFwiKSxcbiAgICAgICAgICAgIFwiI2ZmZmZmZlwiLFxuICAgICAgICAgICAgXCJcIixcbiAgICAgICAgICAgIExvY2FsaXplZFRleHQoXCJJbXBvcnQgdGhlIHNldHRpbmdzIGNvcGllZCB0byB5b3VyIGNsaXBib2FyZFwiKVxuICAgICAgICApO1xuICAgICAgICBEcmF3QnV0dG9uKFxuICAgICAgICAgICAgLi4uRVhQT1JUX1BPU0lUSU9OLFxuICAgICAgICAgICAgTG9jYWxpemVkVGV4dChcIkV4cG9ydFwiKSxcbiAgICAgICAgICAgIFwiI2ZmZmZmZlwiLFxuICAgICAgICAgICAgXCJcIixcbiAgICAgICAgICAgIExvY2FsaXplZFRleHQoXCJFeHBvcnQgeW91ciBjdXJyZW50IHNldHRpbmdzIHRvIHRoZSBjbGlwYm9hcmRcIilcbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICBNYWluQ2FudmFzLnRleHRBbGlnbiA9IFwibGVmdFwiO1xuICAgIGlmIChjdXJyZW50TWVudSA9PT0gbnVsbClcbiAgICB7XG4gICAgICAgIC8vIERyYXcgYWxsIHRoZSBidXR0b25zIHRvIGFjY2VzcyB0aGUgc3VibWVudXNcbiAgICAgICAgRHJhd01lbnVPcHRpb25zKE1FTlVfQ0FURUdPUklFUygpKTtcbiAgICB9XG4gICAgZWxzZVxuICAgIHtcbiAgICAgICAgLy8gRHJhdyB0aGUgb3B0aW9ucyBpbiB0aGUgc3VibWVudVxuICAgICAgICBEcmF3U3ViTWVudU9wdGlvbnMoY3VycmVudE1lbnUpO1xuICAgIH1cbiAgICBNYWluQ2FudmFzLnRleHRBbGlnbiA9IHByZXZUZXh0QWxpZ247XG4gICAgcmV0dXJuO1xufVxuXG5mdW5jdGlvbiBQcmVmZXJlbmNlTWVudUV4aXQoKTogYm9vbGVhbiB8IHZvaWRcbntcbiAgICAvLyBTaG91bGRuJ3QgYmUgbmVlZGVkIGJ1dCBhY3RzIGFzIGZhaWxzYWZlIGFuZCBtYWtlcyB0eXBlc2NyaXB0IGhhcHB5XG4gICAgaWYgKCFzZXR0aW5nQ2hhcikgeyByZXR1cm47IH1cblxuICAgIGlmIChzZXR0aW5nc0VkaXRlZClcbiAgICB7XG4gICAgICAgIGlmIChzZXR0aW5nQ2hhci5NZW1iZXJOdW1iZXIgPT09IFBsYXllci5NZW1iZXJOdW1iZXIpXG4gICAgICAgIHtcbiAgICAgICAgICAgIExldmVsU3luYyhmYWxzZSwgZmFsc2UsIGZhbHNlKTtcbiAgICAgICAgICAgIFNhdmVTdG9yYWdlKHRydWUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAge1xuICAgICAgICAgICAgU2VuZE1QQU1lc3NhZ2UoXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIlNldHRpbmdQdXRSZXF1ZXN0XCIsXG4gICAgICAgICAgICAgICAgICAgIHNldHRpbmdzOiBzZXR0aW5nQ2hhci5NUEFcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHNldHRpbmdDaGFyLk1lbWJlck51bWJlclxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBpZiAoc2V0dGluZ0NoYXIuTWVtYmVyTnVtYmVyID09PSBQbGF5ZXIuTWVtYmVyTnVtYmVyKVxuICAgIHtcbiAgICAgICAgUHJlZmVyZW5jZVN1YnNjcmVlbkV4dGVuc2lvbnNDbGVhcigpO1xuICAgIH1cbiAgICBzZXR0aW5nc0VkaXRlZCA9IGZhbHNlO1xuICAgIHNldHRpbmdDaGFyID0gbnVsbDtcbiAgICBzZXR0aW5nc09wZW4gPSBmYWxzZTtcbn1cblxuLyoqXG4gKiBDYWxsZWQgb25jZSB3aGVuIHRoZSBQcmVmZXJlbmNlIE1lbnUgbG9hZHMgdXAgYWZ0ZXIgb3BlbmluZ1xuICovXG5mdW5jdGlvbiBQcmVmZXJlbmNlTWVudUxvYWQoKTogdm9pZFxue1xuICAgIC8vIFNob3VsZG4ndCBiZSBuZWVkZWQgYnV0IGFjdHMgYXMgZmFpbHNhZmUgYW5kIG1ha2VzIHR5cGVzY3JpcHQgaGFwcHlcbiAgICBpZiAoIXNldHRpbmdDaGFyKSB7IHJldHVybjsgfVxuICAgIHNldHRpbmdzT3BlbiA9IHRydWU7XG59XG5cbmZ1bmN0aW9uIFBsYXllclByZWZlcmVuY2VNZW51TG9hZCgpOiB2b2lkXG57XG4gICAgc2V0dGluZ3NFZGl0ZWQgPSBmYWxzZTtcbiAgICBzZXR0aW5nQ2hhciA9IFBsYXllcjtcbiAgICBQcmVmZXJlbmNlTWVudUxvYWQoKTtcbn1cblxuLyoqXG4gKiBHZXQgdGhlIHN0cmluZyB3aXRoIGFuIE1QQSBpZGVudGlmaWVyIGluIGZyb250XG4gKi9cbmZ1bmN0aW9uIEVsZW1lbnROYW1lKHRpdGxlOiBNb2R1bGVUaXRsZSB8IHN0cmluZywgc2V0dGluZzogc3RyaW5nKTogc3RyaW5nXG57XG4gICAgcmV0dXJuIGBNUEFfT1BUSU9OXyR7dGl0bGV9JHtzZXR0aW5nfWA7XG59XG5cbi8qKlxuICogVXBkYXRlIHRoZSB2YWx1ZXMgaW5zaWRlIHRoZSBIVE1MIGVsZW1lbnRzIHRvIHJlZmxlY3QgdGhlIGN1cnJlbnQgc2V0dGluZ3NcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIFVwZGF0ZUVsZW1lbnRWYWx1ZXMoKTogdm9pZFxue1xuICAgIC8vIFNob3VsZG4ndCBiZSBuZWVkZWQgYnV0IGFjdHMgYXMgZmFpbHNhZmUgYW5kIG1ha2VzIHR5cGVzY3JpcHQgaGFwcHlcbiAgICBpZiAoIXNldHRpbmdDaGFyKSB7IHJldHVybjsgfVxuXG4gICAgT2JqZWN0LmVudHJpZXMoZGVmYXVsdFNldHRpbmdzKS5mb3JFYWNoKChjYXRlZ29yeSkgPT5cbiAgICB7XG4gICAgICAgIGNvbnN0IFtzZXR0aW5nVGl0bGUsIHNldHRpbmdzXSA9IGNhdGVnb3J5IGFzIFtNb2R1bGVUaXRsZSwgTVBBQ2F0ZWdvcnlTZXR0aW5nc107XG4gICAgICAgIE9iamVjdC5lbnRyaWVzKHNldHRpbmdzKS5mb3JFYWNoKChzZXQpID0+XG4gICAgICAgIHtcbiAgICAgICAgICAgIGNvbnN0IFtzZXR0aW5nTmFtZSwgc2V0dGluZ10gPSBzZXQ7XG4gICAgICAgICAgICBjb25zdCBpZCA9IEVsZW1lbnROYW1lKHNldHRpbmdUaXRsZSwgc2V0dGluZ05hbWUpO1xuICAgICAgICAgICAgaWYgKElzVGV4dFNldHRpbmcoc2V0dGluZykgfHwgSXNOdW1iZXJTZXR0aW5nKHNldHRpbmcpKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIEVsZW1lbnRTZXRBdHRyaWJ1dGUoaWQsIFwidmFsdWVcIiwgc2V0dGluZ0NoYXIhLk1QQVtzZXR0aW5nVGl0bGVdW3NldHRpbmdOYW1lXS50b1N0cmluZygpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfSk7XG59XG4vKipcbiAqIENyZWF0ZSBhbmQgaGlkZSBhbGwgdGhlIEhUTUwgZWxlbWVudHMgdGhhdCBhcmUgbmVlZGVkIGZvciB0aGUgUHJlZmVyZW5jZSBTZXR0aW5nIHBhZ2VcbiAqL1xuZnVuY3Rpb24gQ3JlYXRlSFRNTEVsZW1lbnRzKHN1Yk1lbnU6IE1vZHVsZVRpdGxlIHwgbnVsbCwgcGFnZTogbnVtYmVyID0gY3VycmVudFBhZ2UpOiB2b2lkXG57XG4gICAgaWYgKCFzdWJNZW51KSB7IHJldHVybjsgfVxuICAgIC8vIFNob3VsZG4ndCBiZSBuZWVkZWQgYnV0IGFjdHMgYXMgZmFpbHNhZmUgYW5kIG1ha2VzIHR5cGVzY3JpcHQgaGFwcHlcbiAgICBpZiAoIXNldHRpbmdDaGFyKSB7IHJldHVybjsgfVxuXG4gICAgT2JqZWN0LmVudHJpZXMoZGVmYXVsdFNldHRpbmdzW3N1Yk1lbnVdID8/IHt9KS5zbGljZSgocGFnZSAtIDEpICogT1BUSU9OX1BFUl9QQUdFLCBwYWdlICogT1BUSU9OX1BFUl9QQUdFKS5mb3JFYWNoKChzZXQpID0+XG4gICAge1xuICAgICAgICBjb25zdCBbc2V0dGluZ05hbWUsIHNldHRpbmddID0gc2V0O1xuICAgICAgICBjb25zdCBpZCA9IEVsZW1lbnROYW1lKHN1Yk1lbnUsIHNldHRpbmdOYW1lKTtcbiAgICAgICAgaWYgKElzVGV4dFNldHRpbmcoc2V0dGluZykpXG4gICAgICAgIHtcbiAgICAgICAgICAgIEVsZW1lbnRDcmVhdGVJbnB1dChpZCwgXCJ0ZXh0XCIsIHNldHRpbmdDaGFyIS5NUEFbc3ViTWVudV1bc2V0dGluZ05hbWVdIGFzIHN0cmluZywgc2V0dGluZy5tYXhDaGFycyA/PyBPUFRJT05fVEVYVF9NQVhfQ0hBUlMpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKElzTnVtYmVyU2V0dGluZyhzZXR0aW5nKSlcbiAgICAgICAge1xuICAgICAgICAgICAgRWxlbWVudENyZWF0ZUlucHV0KGlkLCBcIm51bWJlclwiLCBzZXR0aW5nQ2hhciEuTVBBW3N1Yk1lbnVdW3NldHRpbmdOYW1lXS50b1N0cmluZygpKTtcbiAgICAgICAgICAgIEVsZW1lbnRTZXRBdHRyaWJ1dGUoaWQsIFwibWluXCIsIHNldHRpbmcubWluLnRvU3RyaW5nKCkpO1xuICAgICAgICAgICAgRWxlbWVudFNldEF0dHJpYnV0ZShpZCwgXCJtYXhcIiwgc2V0dGluZy5tYXgudG9TdHJpbmcoKSk7XG4gICAgICAgICAgICBFbGVtZW50U2V0QXR0cmlidXRlKGlkLCBcImlucHV0bW9kZVwiLCBcImRlY2ltYWxcIik7XG4gICAgICAgICAgICBpZiAoc2V0dGluZy5zdGVwKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIEVsZW1lbnRTZXRBdHRyaWJ1dGUoaWQsIFwic3RlcFwiLCBzZXR0aW5nLnN0ZXAudG9TdHJpbmcoKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9KTtcbn1cbi8qKlxuICogVXBkYXRlIHRoZSBzZXR0aW5nIHZhbHVlcyB0byByZWZsZWN0IHRob3NlIGluIHRoZSBodG1sIGVsZW1lbnRzIGFuZCBkZWxldGUgdGhlbSBhZnRlclxuICovXG5mdW5jdGlvbiBVcGRhdGVBbmREZWxldGVIVE1MRWxlbWVudHMoc3ViTWVudTogTW9kdWxlVGl0bGUsIHBhZ2U6IG51bWJlciA9IGN1cnJlbnRQYWdlKTogdm9pZFxue1xuICAgIC8vIFNob3VsZG4ndCBiZSBuZWVkZWQgYnV0IGFjdHMgYXMgZmFpbHNhZmUgYW5kIG1ha2VzIHR5cGVzY3JpcHQgaGFwcHlcbiAgICBpZiAoIXNldHRpbmdDaGFyKSB7IHJldHVybjsgfVxuXG4gICAgLy8gVXBkYXRlIHRoZSB2aXJ0dWFsIHBldCBzdGF0cyBiYXNlZCBvbiBjdXJyZW50IHZhbHVlcyBzbyB0aGUgbGV2ZWwgZG9lc24ndCBqdW1wIGFyb3VuZFxuICAgIGlmIChzdWJNZW51ID09PSBNb2R1bGVUaXRsZS5WaXJ0dWFsUGV0KVxuICAgIHtcbiAgICAgICAgTGV2ZWxTeW5jKGZhbHNlLCBmYWxzZSwgZmFsc2UpO1xuICAgIH1cblxuICAgIE9iamVjdC5lbnRyaWVzKGRlZmF1bHRTZXR0aW5nc1tzdWJNZW51XSA/PyB7fSkuc2xpY2UoKHBhZ2UgLSAxKSAqIE9QVElPTl9QRVJfUEFHRSwgcGFnZSAqIE9QVElPTl9QRVJfUEFHRSkuZm9yRWFjaCgoc2V0KSA9PlxuICAgIHtcbiAgICAgICAgY29uc3QgW3NldHRpbmdOYW1lLCBzZXR0aW5nXSA9IHNldDtcbiAgICAgICAgY29uc3QgaWQgPSBFbGVtZW50TmFtZShzdWJNZW51LCBzZXR0aW5nTmFtZSk7XG4gICAgICAgIGlmIChJc1RleHRTZXR0aW5nKHNldHRpbmcpKVxuICAgICAgICB7XG4gICAgICAgICAgICBpZiAoc2V0dGluZ0NoYXIhLk1QQVtzdWJNZW51XVtzZXR0aW5nTmFtZV0gIT09IEVsZW1lbnRWYWx1ZShpZCkpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgc2V0dGluZ0NoYXIhLk1QQVtzdWJNZW51XVtzZXR0aW5nTmFtZV0gPSBFbGVtZW50VmFsdWUoaWQpO1xuICAgICAgICAgICAgICAgIHNldHRpbmdzRWRpdGVkID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIEVsZW1lbnRSZW1vdmUoaWQpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChJc051bWJlclNldHRpbmcoc2V0dGluZykpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmIChzZXR0aW5nQ2hhciEuTVBBW3N1Yk1lbnVdW3NldHRpbmdOYW1lXSAhPT0gTnVtYmVyKEVsZW1lbnRWYWx1ZShpZCkpKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHNldHRpbmdDaGFyIS5NUEFbc3ViTWVudV1bc2V0dGluZ05hbWVdID0gTnVtYmVyKEVsZW1lbnRWYWx1ZShpZCkpO1xuICAgICAgICAgICAgICAgIHNldHRpbmdzRWRpdGVkID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIEVsZW1lbnRSZW1vdmUoaWQpO1xuICAgICAgICB9XG4gICAgfSk7XG59XG5cbmV4cG9ydCBjbGFzcyBTZXR0aW5nc01vZHVsZSBleHRlbmRzIE1vZHVsZVxue1xuICAgIGdldCBUaXRsZSgpOiBNb2R1bGVUaXRsZVxuICAgIHtcbiAgICAgICAgcmV0dXJuIE1vZHVsZVRpdGxlLlNldHRpbmdzO1xuICAgIH1cblxuICAgIExvYWQoKTogdm9pZFxuICAgIHtcbiAgICAgICAgLy8gQWRkIHNldHRpbmdzIHRvIHRoZSBleHRlbnNpb24gb3B0aW9uc1xuICAgICAgICBQcmVmZXJlbmNlUmVnaXN0ZXJFeHRlbnNpb25TZXR0aW5nKHtcbiAgICAgICAgICAgIElkZW50aWZpZXI6IFwiTVBBXCIsXG4gICAgICAgICAgICBCdXR0b25UZXh0OiBMb2NhbGl6ZWRUZXh0KFwiTVBBIFNldHRpbmdzXCIpLFxuICAgICAgICAgICAgSW1hZ2U6IElDT05TLlBBVyxcbiAgICAgICAgICAgIGNsaWNrOiBQcmVmZXJlbmNlTWVudUNsaWNrLFxuICAgICAgICAgICAgcnVuOiBQcmVmZXJlbmNlTWVudVJ1bixcbiAgICAgICAgICAgIGV4aXQ6IFByZWZlcmVuY2VNZW51RXhpdCxcbiAgICAgICAgICAgIGxvYWQ6IFBsYXllclByZWZlcmVuY2VNZW51TG9hZFxuICAgICAgICB9KTtcblxuICAgICAgICAvLyBXaGVuIHByZXNzaW5nIGVzY2FwZSwgb25seSBnbyB0byBtYWluIG1lbnUgaWYgaW4gc3ViIG1lbnVcbiAgICAgICAgZnVuY3Rpb24gRXNjYXBlSGFuZGxlcihldmVudDogS2V5Ym9hcmRFdmVudCk6IHZvaWRcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgIChldmVudC5rZXkgPT09IFwiRXNjYXBlXCIgfHwgZXZlbnQua2V5ID09PSBcIkVzY1wiKVxuICAgICAgICAgICAgICAgICYmIHNldHRpbmdzT3BlblxuICAgICAgICAgICAgKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGlmIChjdXJyZW50TWVudSA9PT0gbnVsbClcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIFByZWZlcmVuY2VNZW51RXhpdCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChjdXJyZW50TWVudSA9PT0gXCJSRVNFVF9TZXR0aW5nc1wiKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgYWxsb3dSZXNldFRpbWUgPSAwO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBVcGRhdGVBbmREZWxldGVIVE1MRWxlbWVudHMoY3VycmVudE1lbnUpO1xuICAgICAgICAgICAgICAgICAgICBjdXJyZW50UGFnZSA9IDE7XG4gICAgICAgICAgICAgICAgICAgIG1heFBhZ2VzID0gMTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY3VycmVudE1lbnUgPSBudWxsO1xuICAgICAgICAgICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJrZXlwcmVzc1wiLCBFc2NhcGVIYW5kbGVyLCB0cnVlKTtcbiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgRXNjYXBlSGFuZGxlciwgdHJ1ZSk7XG4gICAgfVxuXG4gICAgVW5sb2FkKCk6IHZvaWRcbiAgICB7XG4gICAgICAgIC8vIFVubG9hZCBiZWluZyBlbXB0eSBpcyB3YW50ZWQsIG5ldmVyIHVubG9hZCBzZXR0aW5nc1xuICAgIH1cblxuICAgIFJlbG9hZCgpOiB2b2lkXG4gICAge1xuICAgICAgICAvLyBSZWxvYWQgYmVpbmcgZW1wdHkgaXMgd2FudGVkLCBuZXZlciByZWxvYWQgc2V0dGluZ3NcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBBcnJheVRvUmVhZGFibGVTdHJpbmcsIEhvb2tlZE1lc3NhZ2UsIE1QQU1lc3NhZ2VDb250ZW50LCBNUEFOb3RpZnlQbGF5ZXIgfSBmcm9tIFwiLi4vdXRpbC9tZXNzYWdpbmdcIjtcbmltcG9ydCB7IExvY2FsaXplZFRleHQgfSBmcm9tIFwiLi4vbG9jYWxpemF0aW9uL2xvY2FsaXphdGlvblwiO1xuaW1wb3J0IHsgSUNPTlMgfSBmcm9tIFwiLi4vdXRpbC9jb25zdGFudHNcIjtcbmltcG9ydCB7IEhvb2tGdW5jdGlvbiB9IGZyb20gXCIuLi91dGlsL3Nka1wiO1xuaW1wb3J0IHsgTW9kdWxlLCBNb2R1bGVUaXRsZSB9IGZyb20gXCIuL19tb2R1bGVcIjtcbmltcG9ydCB7IEV4aXRCdXR0b25QcmVzc2VkLCBNRU5VX1RJVExFUywgUHJlZmVyZW5jZU1lbnVDbGljaywgUHJlZmVyZW5jZU1lbnVSdW4sIFNldFNldHRpbmdDaGFyIH0gZnJvbSBcIi4vc2V0dGluZ3NcIjtcbmltcG9ydCB7IFNhdmVTdG9yYWdlIH0gZnJvbSBcIi4uL3V0aWwvc3RvcmFnZVwiO1xuaW1wb3J0IHsgTGV2ZWxTeW5jIH0gZnJvbSBcIi4vdmlydHVhbFBldFwiO1xuaW1wb3J0IHsgSXNNZW1iZXJOdW1iZXJJbkF1dGhHcm91cCB9IGZyb20gXCIuLi91dGlsL2F1dGhvcml0eVwiO1xuaW1wb3J0IHsgc2V0dGluZ3MgYXMgZGVmYXVsdFNldHRpbmdzIH0gZnJvbSBcIi4uL3V0aWwvcmVnaXN0ZXJNb2R1bGVzXCI7XG5cbi8vIE90aGVyIHNldHRpbmdzXG5jb25zdCBNUEFfUkVNT1RFID0gWzE3MDAsIDc2NSwgOTAsIDkwXSBhcyBjb25zdDtcbi8vIEJDWCBtb3ZlcyB0aGUgYnV0dG9uIGRvd24gYnkgMzUgZm9yIHNvbWUgcmVhc29uXG5jb25zdCBNUEFfUkVNT1RFX0JDWCA9IFsxNzAwLCA4MDAsIDkwLCA5MF0gYXMgY29uc3Q7XG5cbmV4cG9ydCBmdW5jdGlvbiBPYmplY3REaWZmZXJlbmNlcyhvbGRPYmo6IG9iamVjdCwgbmV3T2JqOiBvYmplY3QpOiBvYmplY3RcbntcbiAgICBjb25zdCBkaWZmZXJlbmNlcyA9IHt9O1xuXG4gICAgZm9yIChjb25zdCBrZXkgaW4gb2xkT2JqKVxuICAgIHtcbiAgICAgICAgLy8gS2V5IGlzIG1pc3NpbmcgaW4gbmV3T2JqXG4gICAgICAgIGlmICghKGtleSBpbiBuZXdPYmopKVxuICAgICAgICB7XG4gICAgICAgICAgICBkaWZmZXJlbmNlc1trZXldID0geyBvbGQ6IG9sZE9ialtrZXldLCBuZXc6IHVuZGVmaW5lZCB9O1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodHlwZW9mIG9sZE9ialtrZXldID09PSBcIm9iamVjdFwiICYmIHR5cGVvZiBuZXdPYmpba2V5XSA9PT0gXCJvYmplY3RcIiAmJiAhQXJyYXkuaXNBcnJheShvbGRPYmpba2V5XSkpXG4gICAgICAgIHtcbiAgICAgICAgICAgIC8vIElmIGJvdGggYXJlIG9iamVjdHMsIHJlY3Vyc2l2ZWx5IGNoZWNrIGZvciBkaWZmZXJlbmNlc1xuICAgICAgICAgICAgY29uc3QgZGlmZiA9IE9iamVjdERpZmZlcmVuY2VzKG9sZE9ialtrZXldLCBuZXdPYmpba2V5XSk7XG4gICAgICAgICAgICBpZiAoT2JqZWN0LmtleXMoZGlmZikubGVuZ3RoID4gMClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBkaWZmZXJlbmNlc1trZXldID0gZGlmZjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChvbGRPYmpba2V5XSAhPT0gbmV3T2JqW2tleV0pXG4gICAgICAgIHtcbiAgICAgICAgICAgIC8vIElmIHZhbHVlcyBhcmUgZGlmZmVyZW50LCBzdG9yZSB0aGUgZGlmZmVyZW5jZVxuICAgICAgICAgICAgZGlmZmVyZW5jZXNba2V5XSA9IHsgb2xkOiBvbGRPYmpba2V5XSwgbmV3OiBuZXdPYmpba2V5XSB9O1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLy8gTmV3IGtleXMgbm90IGZvdW5kIGluIHRoZSBvbGQgb2JqZWN0XG4gICAgZm9yIChjb25zdCBrZXkgaW4gbmV3T2JqKVxuICAgIHtcbiAgICAgICAgaWYgKCEoa2V5IGluIG9sZE9iaikpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGRpZmZlcmVuY2VzW2tleV0gPSB7IG9sZDogdW5kZWZpbmVkLCBuZXc6IG5ld09ialtrZXldIH07XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gZGlmZmVyZW5jZXM7XG59XG5cbmV4cG9ydCBjbGFzcyBTZXR0aW5nc090aGVyTW9kdWxlIGV4dGVuZHMgTW9kdWxlXG57XG4gICAgZ2V0IFRpdGxlKCk6IE1vZHVsZVRpdGxlXG4gICAge1xuICAgICAgICByZXR1cm4gTW9kdWxlVGl0bGUuU2V0dGluZ3NPdGhlcjtcbiAgICB9XG5cbiAgICBnZXQgU3luY0xpc3RlbmVycygpOiBIb29rZWRNZXNzYWdlW11cbiAgICB7XG4gICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgbW9kdWxlOiB0aGlzLlRpdGxlLFxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiU2V0dGluZ1B1dFJlcXVlc3RcIixcbiAgICAgICAgICAgICAgICBhY3Rpb246IGZ1bmN0aW9uIChzZW5kZXI6IENoYXJhY3RlciwgY29udGVudDogTVBBTWVzc2FnZUNvbnRlbnQpOiB2b2lkXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB2cEVuYWJsZWQgPSBQbGF5ZXIuTVBBW01vZHVsZVRpdGxlLlZpcnR1YWxQZXRdLmVuYWJsZWQ7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGRpZmZlcmVuY2VzID0gT2JqZWN0RGlmZmVyZW5jZXMoUGxheWVyLk1QQSwgY29udGVudC5zZXR0aW5ncyk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGNoYW5nZWRTZXR0aW5nczogc3RyaW5nW10gPSBbXTtcblxuICAgICAgICAgICAgICAgICAgICAvLyBEZWxldGUgdGhlIFZQIGxldmVscyBhcyB0aGV5IHdpbGwgYmUgc3luY2VkIHdpdGggdGhlIHBsYXllciBpbnN0ZWFkXG4gICAgICAgICAgICAgICAgICAgIGlmIChkaWZmZXJlbmNlcz8uW01vZHVsZVRpdGxlLlZpcnR1YWxQZXRdPy5sZXZlbHMpXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBkaWZmZXJlbmNlc1tNb2R1bGVUaXRsZS5WaXJ0dWFsUGV0XS5sZXZlbHM7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoT2JqZWN0LmtleXMoZGlmZmVyZW5jZXNbTW9kdWxlVGl0bGUuVmlydHVhbFBldF0pLmxlbmd0aCA9PT0gMClcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWxldGUgZGlmZmVyZW5jZXNbTW9kdWxlVGl0bGUuVmlydHVhbFBldF07XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgTGV2ZWxTeW5jKGZhbHNlLCBmYWxzZSwgZmFsc2UpO1xuXG4gICAgICAgICAgICAgICAgICAgIC8vICEhISEhISEhISEhISEhISEhISEhISEhXG4gICAgICAgICAgICAgICAgICAgIC8vIERvIEF1dGhvcml0eSBxdWVyeXMgZmlyc3RcbiAgICAgICAgICAgICAgICAgICAgLy8gISEhISEhISEhISEhISEhISEhISEhISFcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcHJldmlvdXNBdXRob3JpdHkgPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KFBsYXllci5NUEE/LltNb2R1bGVUaXRsZS5BdXRob3JpdHldKSk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG5ld0F1dGhvcml0eSA9IGRpZmZlcmVuY2VzW01vZHVsZVRpdGxlLkF1dGhvcml0eV07XG4gICAgICAgICAgICAgICAgICAgIGlmIChuZXdBdXRob3JpdHkpXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBkaWZmZXJlbmNlc1tNb2R1bGVUaXRsZS5BdXRob3JpdHldO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gVmFsaWRhdGUgdGhhdCBhdXRob3JpdHkgY2FuIGJlIGNoYW5nZWQgYmFzZWQgb24gY3VycmVudCBhdXRob3JpdHkgZmlyc3RcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChJc01lbWJlck51bWJlckluQXV0aEdyb3VwKHNlbmRlci5NZW1iZXJOdW1iZXIgPz8gLTEsIHByZXZpb3VzQXV0aG9yaXR5W2BvdGhlcnMke01vZHVsZVRpdGxlLkF1dGhvcml0eX1gXSkpXG4gICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hhbmdlZFNldHRpbmdzLnB1c2goTG9jYWxpemVkVGV4dChNb2R1bGVUaXRsZS5BdXRob3JpdHkpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGVudHJ5IGluIG5ld0F1dGhvcml0eSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChuZXdBdXRob3JpdHlbZW50cnldLm5ldyAhPT0gdW5kZWZpbmVkICYmIG5ld0F1dGhvcml0eVtlbnRyeV0ub2xkICE9PSB1bmRlZmluZWQpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFBsYXllci5NUEFbTW9kdWxlVGl0bGUuQXV0aG9yaXR5XVtlbnRyeV0gPSBuZXdBdXRob3JpdHlbZW50cnldLm5ldztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oYE1QQTogJHtzZW5kZXIuTmlja25hbWUgfHwgc2VuZGVyLk5hbWV9ICgke3NlbmRlci5NZW1iZXJOdW1iZXJ9KSB0cmllZCB0byBpbGxlZ2FsbHkgbW9kaWZ5IHlvdXIgJHtNb2R1bGVUaXRsZS5BdXRob3JpdHl9IHNldHRpbmdzIWApO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCB0aXRsZSBpbiBkaWZmZXJlbmNlcylcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gVmFsaWRhdGUgdGhhdCBhbnkgc2V0dGluZ3MgY2FuIGJlIGNoYW5nZWQgd2l0aCBFSVRIRVIgdGhlIG9sZCBvciBuZXcgYXV0aG9yaXR5XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBTZW5kZXIgaXMgbm90IGF1dGhvcml6ZWQgdG8gY2hhbmdlIHRoZSBzZXR0aW5ncywgaWdub3JlIGFuZCB3YXJuIGluIGNvbnNvbGVcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghKElzTWVtYmVyTnVtYmVySW5BdXRoR3JvdXAoc2VuZGVyLk1lbWJlck51bWJlciA/PyAtMSwgcHJldmlvdXNBdXRob3JpdHlbYG90aGVycyR7dGl0bGV9YF0gPz8gXCJOb25lXCIpXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHx8IElzTWVtYmVyTnVtYmVySW5BdXRoR3JvdXAoc2VuZGVyLk1lbWJlck51bWJlciA/PyAtMSwgUGxheWVyLk1QQT8uW01vZHVsZVRpdGxlLkF1dGhvcml0eV0/Lltgb3RoZXJzJHt0aXRsZX1gXSA/PyBcIk5vbmVcIikpXG4gICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS53YXJuKGBNUEE6ICR7c2VuZGVyLk5pY2tuYW1lIHx8IHNlbmRlci5OYW1lfSAoJHtzZW5kZXIuTWVtYmVyTnVtYmVyfSkgdHJpZWQgdG8gaWxsZWdhbGx5IG1vZGlmeSB5b3VyICR7dGl0bGV9IHNldHRpbmdzIWApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICBjaGFuZ2VkU2V0dGluZ3MucHVzaChMb2NhbGl6ZWRUZXh0KE1FTlVfVElUTEVTW3RpdGxlIGFzIE1vZHVsZVRpdGxlXSA/PyB0aXRsZSkpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBtb2R1bGVEaWZmID0gZGlmZmVyZW5jZXNbdGl0bGVdO1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBlbnRyeSBpbiBtb2R1bGVEaWZmKVxuICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtb2R1bGVEaWZmW2VudHJ5XS5uZXcgIT09IHVuZGVmaW5lZCAmJiBtb2R1bGVEaWZmW2VudHJ5XS5vbGQgIT09IHVuZGVmaW5lZClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFBsYXllci5NUEFbdGl0bGUgYXMgTW9kdWxlVGl0bGVdW2VudHJ5XSA9IG1vZHVsZURpZmZbZW50cnldLm5ldztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAvLyBJZiBoYXJkY29yZSBpcyBzZXQsIG1ha2Ugc3VyZSBpdHMgc2V0dGluZ3MgYXJlIHNldFxuICAgICAgICAgICAgICAgICAgICBpZiAoUGxheWVyLk1QQVtNb2R1bGVUaXRsZS5Qcm9maWxlXS5oYXJkY29yZSlcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgKGRlZmF1bHRTZXR0aW5nc1tNb2R1bGVUaXRsZS5Qcm9maWxlXT8uaGFyZGNvcmUgYXMgYW55KT8ub25TZXQoUGxheWVyKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIC8vIENhdGNoIFZpcnR1YWwgUGV0IGxldmVscyB1cCB0byBkYXRlIGlmIGl0IHdhcyB0dXJuZWQgb24gLyBvZmZcbiAgICAgICAgICAgICAgICAgICAgaWYgKHZwRW5hYmxlZCAhPT0gUGxheWVyLk1QQVtNb2R1bGVUaXRsZS5WaXJ0dWFsUGV0XS5lbmFibGVkKVxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBQbGF5ZXIuTVBBW01vZHVsZVRpdGxlLlZpcnR1YWxQZXRdLmxldmVscy5sYXN0VXBkYXRlZCA9IERhdGUubm93KCk7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBpZiAoY2hhbmdlZFNldHRpbmdzLmxlbmd0aCAhPT0gMClcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgTVBBTm90aWZ5UGxheWVyKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIExvY2FsaXplZFRleHQoXCJTb3VyY2VDaGFyYWN0ZXIganVzdCB1cGRhdGVkIHlvdXIgU2V0dGluZ3NBcnJheSBzZXR0aW5ncy5cIilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2UoXCJTb3VyY2VDaGFyYWN0ZXJcIiwgc2VuZGVyLk5pY2tuYW1lIHx8IHNlbmRlci5OYW1lKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAucmVwbGFjZShcIlNldHRpbmdzQXJyYXlcIiwgQXJyYXlUb1JlYWRhYmxlU3RyaW5nKGNoYW5nZWRTZXR0aW5ncykpXG4gICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gTGV2ZWxTeW5jKGZhbHNlLCBmYWxzZSwgZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICBTYXZlU3RvcmFnZSh0cnVlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIF07XG4gICAgfVxuXG4gICAgTG9hZCgpOiB2b2lkXG4gICAge1xuICAgICAgICBzdXBlci5Mb2FkKCk7XG5cbiAgICAgICAgLy8gUHJpbyBoYXMgdG8gYmUgMSBtb3JlIHRoYW4gTFNDRyBvciBCQ1ggaG9va3NcbiAgICAgICAgY29uc3QgaG9va1ByaW9yaXR5ID0gMTI7XG4gICAgICAgIEhvb2tGdW5jdGlvbih0aGlzLlRpdGxlLCBcIkluZm9ybWF0aW9uU2hlZXRSdW5cIiwgaG9va1ByaW9yaXR5LCAoYXJncywgbmV4dCkgPT5cbiAgICAgICAge1xuICAgICAgICAgICAgLy8gTFNDRyBvciBCQ1ggc3Vic2NyZWVucyBvcGVuIGluc3RlYWRcbiAgICAgICAgICAgIGlmICh3aW5kb3cuYmN4Py5pbkJjeFN1YnNjcmVlbigpIHx8IHdpbmRvdy5MU0NHX1JFTU9URV9XSU5ET1dfT1BFTilcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV4dChhcmdzKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gTVBBIFNldHRpbmdzIGFyZSBvcGVuXG4gICAgICAgICAgICBpZiAod2luZG93Lk1QQS5tZW51TG9hZGVkKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIFByZWZlcmVuY2VNZW51UnVuKCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBuZXh0KGFyZ3MpO1xuICAgICAgICAgICAgLy8gRHJhdyB0aGUgcmVtb3RlIGludG8gc2V0dGluZ3MgYnV0dG9uIGlmIGFwcGxpY2FibGVcbiAgICAgICAgICAgIGNvbnN0IGNoYXIgPSBJbmZvcm1hdGlvblNoZWV0U2VsZWN0aW9uO1xuICAgICAgICAgICAgaWYgKGNoYXI/Lk1QQSAmJiAhY2hhci5Jc1BsYXllcigpKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGNvbnN0IGFjY2VzcyA9IFNlcnZlckNoYXRSb29tR2V0QWxsb3dJdGVtKFBsYXllciwgY2hhcik7XG4gICAgICAgICAgICAgICAgRHJhd0J1dHRvbihcbiAgICAgICAgICAgICAgICAgICAgLi4uKCh3aW5kb3cuYmN4ID8gTVBBX1JFTU9URV9CQ1ggOiBNUEFfUkVNT1RFKSBhcyByZWFkb25seSBbbnVtYmVyLCBudW1iZXIsIG51bWJlciwgbnVtYmVyXSksXG4gICAgICAgICAgICAgICAgICAgIFwiXCIsXG4gICAgICAgICAgICAgICAgICAgIGFjY2VzcyA/IFwiI2ZmZmZmZlwiIDogXCIjYWFhYWFhXCIsXG4gICAgICAgICAgICAgICAgICAgIElDT05TLlBBVyxcbiAgICAgICAgICAgICAgICAgICAgTG9jYWxpemVkVGV4dChhY2Nlc3MgPyBcIk1QQVwiIDogXCJNUEE6IE5vIEJDIGl0ZW0gcGVybWlzc2lvblwiKSxcbiAgICAgICAgICAgICAgICAgICAgZmFsc2VcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICBIb29rRnVuY3Rpb24odGhpcy5UaXRsZSwgXCJJbmZvcm1hdGlvblNoZWV0Q2xpY2tcIiwgaG9va1ByaW9yaXR5LCAoYXJncywgbmV4dCkgPT5cbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKHdpbmRvdy5NUEEubWVudUxvYWRlZClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gUHJlZmVyZW5jZU1lbnVDbGljaygpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjb25zdCBjaGFyID0gSW5mb3JtYXRpb25TaGVldFNlbGVjdGlvbjtcbiAgICAgICAgICAgIGlmIChNb3VzZUluKC4uLk1QQV9SRU1PVEVfQkNYKSAmJiBjaGFyPy5NUEEgJiYgIWNoYXIuSXNQbGF5ZXIoKSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB3aW5kb3cuTVBBLm1lbnVMb2FkZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIC8vIE1QQSBpcyBkZWZpbmVkIGZyb20gY2hlY2sgYWJvdmUsIHNvIG90aGVyIGNoYXJhY3RlciBpcyBzYW1lIGFzIHNlbGYgaW4gc3RydWN0dXJlXG4gICAgICAgICAgICAgICAgU2V0U2V0dGluZ0NoYXIoY2hhciBhcyBQbGF5ZXJDaGFyYWN0ZXIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHJldHVybiBuZXh0KGFyZ3MpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICBIb29rRnVuY3Rpb24odGhpcy5UaXRsZSwgXCJJbmZvcm1hdGlvblNoZWV0RXhpdFwiLCBob29rUHJpb3JpdHksIChhcmdzLCBuZXh0KSA9PlxuICAgICAgICB7XG4gICAgICAgICAgICBpZiAod2luZG93Lk1QQS5tZW51TG9hZGVkKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIEV4aXRCdXR0b25QcmVzc2VkKCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIG5leHQoYXJncyk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIFVubG9hZCgpOiB2b2lkXG4gICAge1xuICAgICAgICBzdXBlci5VbmxvYWQoKTtcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBNb2R1bGUsIE1vZHVsZVRpdGxlIH0gZnJvbSBcIi4vX21vZHVsZVwiO1xuaW1wb3J0IHsgSG9va0Z1bmN0aW9uIH0gZnJvbSBcIi4uL3V0aWwvc2RrXCI7XG5pbXBvcnQgeyBTYXZlU3RvcmFnZSB9IGZyb20gXCIuLi91dGlsL3N0b3JhZ2VcIjtcbmltcG9ydCB7IEdldEF0dHJpYnV0ZUZyb21DaGF0RGljdGlvbmFyeSB9IGZyb20gXCIuLi91dGlsL21lc3NhZ2luZ1wiO1xuaW1wb3J0IHsgUmVjb3JkU3luYyB9IGZyb20gXCIuL2RhdGFTeW5jXCI7XG5pbXBvcnQgeyBJc0hhcmRjb3JlT24gfSBmcm9tIFwiLi9wcm9maWxlXCI7XG5cbmNvbnN0IE1BWF9TRVRUSU5HX1RJTUVfSE9VUlMgPSAxNjg7XG5cbmNvbnN0IFBsYXllclZQOiAoQz86IENoYXJhY3RlcikgPT4gTVBBUmVjb3JkID0gKEM6IENoYXJhY3RlciA9IFBsYXllcikgPT5cbntcbiAgICByZXR1cm4gQy5NUEE/LltNb2R1bGVUaXRsZS5WaXJ0dWFsUGV0XSA/PyB7fTtcbn07XG5cbi8vIGNvbnN0IENIQVJBQ1RFUlNfTU9WSU5HID0gW1wiU2VydmVyTW92ZVJpZ2h0XCIsIFwiU2VydmVyU3dhcFwiLCBcIlNlcnZlck1vdmVMZWZ0XCJdO1xuXG5jb25zdCBCT1dMX0NPTlNVTUVfUkVDT1ZFUlkgPSAwLjQ7XG5jb25zdCBJVEVNX0NPTlVNRV9SRUNPVkVSWSA9IDAuMjtcblxuY29uc3QgQUNUSVZJVElFU19GT09EX0dBSU4gPSBbXCJMU0NHX0VhdFwiLCBcIlRocm93SXRlbVwiXTtcbmNvbnN0IEFDVElWSVRJRVNfV0FURVJfR0FJTiA9IFtcIkxTQ0dfRnVubmVsUG91clwiLCBcIkxTQ0dfUXVhZmZcIl07XG5cbmNvbnN0IEVNT1RJQ09OU19TTEVFUCA9IFtcIlNsZWVwXCIsIFwiQWZrXCIsIFwiRm9ya1wiLCBcIkNvZGluZ1wiLCBcIlJlYWRcIl07XG5jb25zdCBCRURfUEVSRkVDVCA9IFtcIlBldEJlZFwiLCBcIkNyaWJcIl07XG5jb25zdCBCRURfTk9STUFMID0gW1wiTG93Q2FnZVwiLCBcIktlbm5lbFwiLCBcIkJlZFwiLCBcIk1lZGljYWxCZWRcIl07XG5jb25zdCBCRURfQkFEID0gW1wiRnV0dXJpc3RpY0NyYXRlXCIsIFwiRG9sbEJveFwiXTtcblxuY29uc3QgQUZGRUNUSU9OX0FDVElWSVRZX0xPVkUgPSBbXCJQZXRcIiwgXCJUYWtlQ2FyZVwiLCBcIkxTQ0dfTnV6emxlXCIsIFwiQ2FyZXNzXCIsIFwiTFNDR19IdWdcIiwgXCJTY3JhdGNoXCJdO1xuY29uc3QgQUZGRUNUSU9OX0FDVElWSVRZX0xJS0UgPSBbXCJLaXNzXCIsIFwiTWFzc2FnZUhhbmRzXCIsIFwiTGlja1wiLCBcIk5pYmJsZVwiLCBcIkN1ZGRsZVwiLCBcIkdyb3BlXCJdO1xuY29uc3QgQUZGRUNUSU9OX0FDVElWSVRZX01BU08gPSBbXCJTcGFua1wiLCBcIlNsYXBcIiwgXCJCaXRlXCIsIFwiUGluY2hcIiwgXCJQdWxsXCIsIFwiU2hvY2tJdGVtXCIsIFwiU3BhbmtJdGVtXCJdO1xuY29uc3QgQUZGRUNUSU9OX0xPVkVfQkFTRSA9IDAuMDU7XG5jb25zdCBBRkZFQ1RJT05fTElLRV9CQVNFID0gMC4wMztcbmNvbnN0IEFGRkVDVElPTl9NQVNPX0JBU0UgPSAtMC4wNDtcblxuY29uc3QgQUZGRUNUSU9OX1pPTkVfQUZGRUNUSU9OOiBQYXJ0aWFsPFJlY29yZDxBc3NldEdyb3VwSXRlbU5hbWUsIG51bWJlcj4+ID0ge1xuICAgIEl0ZW1Bcm1zOiAxLFxuICAgIEl0ZW1Cb290czogMC44LFxuICAgIEl0ZW1CcmVhc3Q6IDEuNSxcbiAgICBJdGVtQnV0dDogMS41LFxuICAgIEl0ZW1FYXJzOiAyLjUsXG4gICAgSXRlbUZlZXQ6IDAuOCxcbiAgICBJdGVtSGFuZHM6IDEsXG4gICAgSXRlbUhlYWQ6IDMsXG4gICAgSXRlbUxlZ3M6IDEsXG4gICAgSXRlbU1vdXRoOiAyLFxuICAgIEl0ZW1OZWNrOiAxLjIsXG4gICAgSXRlbU5pcHBsZXM6IDEuNSxcbiAgICBJdGVtTm9zZTogMS43LFxuICAgIEl0ZW1QZWx2aXM6IDEuMyxcbiAgICBJdGVtVG9yc286IDEsXG4gICAgSXRlbVZ1bHZhOiAyLFxuICAgIEl0ZW1WdWx2YVBpZXJjaW5nczogMi41XG59O1xuXG5jb25zdCBNSU5fT0ZGTElORV9EUkFJTl9MRVZFTCA9IDAuMjtcblxuY29uc3QgTEFTVF9PTkxJTkVfSU5URVJWQUxfTVMgPSAxMDAwMDtcbmxldCBsYXN0T25saW5lSW50ZXJ2YWw6IG51bWJlcjtcblxuZXhwb3J0IGNvbnN0IElzU2xlZXBpbmdFeHByZXNzaW9uID0gKGNoYXI6IENoYXJhY3Rlcik6IGJvb2xlYW4gPT5cbntcbiAgICByZXR1cm4gKFxuICAgICAgICBjaGFyLkFwcGVhcmFuY2UuZmluZCgoeCkgPT4geC5Bc3NldC5Hcm91cC5OYW1lID09PSBcIkV5ZXNcIik/LlByb3BlcnR5Py5FeHByZXNzaW9uID09PSBcIkNsb3NlZFwiXG4gICAgICAgICYmIGNoYXIuQXBwZWFyYW5jZS5maW5kKCh4KSA9PiB4LkFzc2V0Lkdyb3VwLk5hbWUgPT09IFwiRXllczJcIik/LlByb3BlcnR5Py5FeHByZXNzaW9uID09PSBcIkNsb3NlZFwiXG4gICAgICAgICYmIEVNT1RJQ09OU19TTEVFUC5pbmNsdWRlcyhjaGFyLkFwcGVhcmFuY2UuZmluZCgoeCkgPT4geC5Bc3NldC5Hcm91cC5OYW1lID09PSBcIkVtb3RpY29uXCIpPy5Qcm9wZXJ0eT8uRXhwcmVzc2lvbiA/PyBcIlwiKVxuICAgICk7XG59O1xuZXhwb3J0IGNvbnN0IElzQmVkTXVsdGlwbGllciA9IChjaGFyOiBDaGFyYWN0ZXIpOiBudW1iZXIgPT5cbntcbiAgICBjb25zdCBkZXZpY2UgPSBJbnZlbnRvcnlHZXQoY2hhciwgXCJJdGVtRGV2aWNlc1wiKT8uQXNzZXQuTmFtZSA/PyBcIlwiO1xuICAgIHJldHVybiAoXG4gICAgICAgIEJFRF9QRVJGRUNULmluY2x1ZGVzKGRldmljZSkgPyAxMCA6IEJFRF9OT1JNQUwuaW5jbHVkZXMoZGV2aWNlKSA/IDUgOiBCRURfQkFELmluY2x1ZGVzKGRldmljZSkgPyAyIDogMVxuICAgICk7XG59O1xuXG5sZXQgcGxheWVyU2xlZXBpbmdFeHByZXNzaW9uID0gZmFsc2U7XG5sZXQgcGxheWVyQmVkTXVsdGlwbGllciA9IDE7XG5cbmV4cG9ydCB0eXBlIFZpcnR1YWxQZXRTdGF0Q2F0ZWdvcnkgPSBcImZvb2RcIiB8IFwid2F0ZXJcIiB8IFwic2xlZXBcIiB8IFwiYWZmZWN0aW9uXCI7XG5leHBvcnQgdHlwZSBWaXJ0dWFsUGV0SG91ckNhdGVnb3JpZXMgPSBgJHtWaXJ0dWFsUGV0U3RhdENhdGVnb3J5fUhvdXJzYDtcbmV4cG9ydCBpbnRlcmZhY2UgVmlydHVhbFBldFN0YXRcbntcbiAgICBzdGF0OiBWaXJ0dWFsUGV0U3RhdENhdGVnb3J5O1xuICAgIGxldmVsOiBudW1iZXI7XG59XG5cbmZ1bmN0aW9uIFNsZWVwQ2hhbmdlQ2hlY2soc3luYzogYm9vbGVhbiA9IHRydWUpOiB2b2lkXG57XG4gICAgaWYgKFxuICAgICAgICBQbGF5ZXJWUCgpLmVuYWJsZWRcbiAgICAgICAgJiYgUGxheWVyVlAoKS5zbGVlcEhvdXJzICE9PSAwXG4gICAgICAgICYmIChwbGF5ZXJTbGVlcGluZ0V4cHJlc3Npb24gIT09IElzU2xlZXBpbmdFeHByZXNzaW9uKFBsYXllcilcbiAgICAgICAgfHwgcGxheWVyQmVkTXVsdGlwbGllciAhPT0gSXNCZWRNdWx0aXBsaWVyKFBsYXllcikpXG4gICAgKVxuICAgIHtcbiAgICAgICAgLy8gaWYgYSBjaGFuZ2UgaW4gc2xlZXBpbmcgZXhwcmVzc2lvbiBvciBiZWQgbXVsdGlwbGllciwgc3luYyBsZXZlbHNcbiAgICAgICAgaWYgKHN5bmMpXG4gICAgICAgIHtcbiAgICAgICAgICAgIExldmVsU3luYygpO1xuICAgICAgICB9XG4gICAgICAgIHBsYXllclNsZWVwaW5nRXhwcmVzc2lvbiA9IElzU2xlZXBpbmdFeHByZXNzaW9uKFBsYXllcik7XG4gICAgICAgIHBsYXllckJlZE11bHRpcGxpZXIgPSBJc0JlZE11bHRpcGxpZXIoUGxheWVyKTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIFN0YXRNb2RpZmllcihzdGF0OiBWaXJ0dWFsUGV0U3RhdENhdGVnb3J5LCBzb3VyY2VDaGFyPzogQ2hhcmFjdGVyKTogbnVtYmVyXG57XG4gICAgbGV0IG1vZGlmaWVyID0gMTtcblxuICAgIC8vIEZyb20gb3duZXJzLCArNTAlXG4gICAgaWYgKHNvdXJjZUNoYXI/LklzT3duZXIoKSlcbiAgICB7XG4gICAgICAgIG1vZGlmaWVyICs9IDAuNTtcbiAgICB9XG4gICAgLy8gbG92ZXJzICszNSVcbiAgICBlbHNlIGlmIChzb3VyY2VDaGFyPy5Jc0xvdmVyT2ZQbGF5ZXIoKSlcbiAgICB7XG4gICAgICAgIG1vZGlmaWVyICs9IDAuMzU7XG4gICAgfVxuICAgIC8vIHN1YnMgKzI1JVxuICAgIGVsc2UgaWYgKHNvdXJjZUNoYXI/LklzRmFtaWx5T2ZQbGF5ZXIoKSlcbiAgICB7XG4gICAgICAgIG1vZGlmaWVyICs9IDAuMjU7XG4gICAgfVxuXG4gICAgLy8gSGFyZCB0byBlYXQgb3IgZHJpbmsgd2hpbGUgcmluZyBnYWdnZWRcbiAgICBpZiAoc3RhdCA9PT0gXCJmb29kXCIgfHwgc3RhdCA9PT0gXCJ3YXRlclwiKVxuICAgIHtcbiAgICAgICAgaWYgKCFQbGF5ZXIuQ2FuVGFsaygpKVxuICAgICAgICB7XG4gICAgICAgICAgICBtb2RpZmllciAtPSAwLjU7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyAzJSBib251cyBmb3IgZWFjaCByZXN0cmFpbnQgd29yblxuICAgIG1vZGlmaWVyICs9IDAuMDMgKiBQbGF5ZXIuQXBwZWFyYW5jZS5maWx0ZXIoKHgpID0+IHguQXNzZXQuRHluYW1pY0dyb3VwTmFtZS5zdGFydHNXaXRoKFwiSXRlbVwiKSkubGVuZ3RoO1xuXG4gICAgLy8gNTAlIGJvbnVzIGZvciBiZWluZyBvbiBhbGwgZm91cnNcbiAgICBpZiAoUGxheWVyLlBvc2VNYXBwaW5nLkJvZHlGdWxsID09PSBcIkFsbEZvdXJzXCIpXG4gICAge1xuICAgICAgICBtb2RpZmllciArPSAwLjU7XG4gICAgfVxuXG4gICAgLy8gRm9vZCBhbmQgd2F0ZXIgbW9kaWZpZXMgYWZmZWN0aW9uIGdhaW5cbiAgICBpZiAoXG4gICAgICAgIHN0YXQgPT09IFwiYWZmZWN0aW9uXCJcbiAgICAgICAgJiYgUGxheWVyLk1QQVtNb2R1bGVUaXRsZS5WaXJ0dWFsUGV0Q29uZGl0aW9uc10uZW5hYmxlZFxuICAgICAgICAmJiBQbGF5ZXIuTVBBW01vZHVsZVRpdGxlLlZpcnR1YWxQZXRDb25kaXRpb25zXS5mb29kTk9XXG4gICAgKVxuICAgIHtcbiAgICAgICAgY29uc3QgbnVtczogbnVtYmVyW10gPSBbXTtcbiAgICAgICAgaWYgKFBsYXllclZQKCkuZm9vZEhvdXJzICE9PSAwKVxuICAgICAgICB7XG4gICAgICAgICAgICBudW1zLnB1c2goR2V0Q2hhcmFjdGVyQ3VycmVudFN0YXRWYWx1ZShQbGF5ZXIsIFwiZm9vZFwiKSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKFBsYXllclZQKCkud2F0ZXJIb3VycyAhPT0gMClcbiAgICAgICAge1xuICAgICAgICAgICAgbnVtcy5wdXNoKEdldENoYXJhY3RlckN1cnJlbnRTdGF0VmFsdWUoUGxheWVyLCBcIndhdGVyXCIpKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobnVtcy5sZW5ndGggIT09IDApXG4gICAgICAgIHtcbiAgICAgICAgICAgIG1vZGlmaWVyICo9IG51bXMucmVkdWNlKChzdW0sIG51bSkgPT4gc3VtICsgbnVtLCAwKSAvIG51bXMubGVuZ3RoIC8gMC43NTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBNYXRoLm1heCgwLCBtb2RpZmllcik7XG59XG5cbmZ1bmN0aW9uIFZlcmlmeVZhbGlkU3RhdChzdGF0OiBWaXJ0dWFsUGV0U3RhdENhdGVnb3J5KTogYm9vbGVhblxue1xuICAgIGNvbnN0IGxldmVsID0gUGxheWVyVlAoKS5sZXZlbHNbc3RhdF07XG4gICAgUGxheWVyVlAoKS5sZXZlbHNbc3RhdF0gPSBNYXRoLm1pbihNYXRoLm1heChsZXZlbCwgMCksIDEpO1xuICAgIHJldHVybiAwIDw9IGxldmVsICYmIGxldmVsIDw9IDE7XG59XG5cbmZ1bmN0aW9uIEhvdXJUb01TKGhvdXJzOiBudW1iZXIpXG57XG4gICAgcmV0dXJuIGhvdXJzICogNjAgKiA2MCAqIDEwMDA7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBDYWxjdWxhdGVDdXJyZW50VmFsdWUodmFsdWU6IG51bWJlciwgZHVyYXRpb246IG51bWJlciwgbGFzdFVwZGF0ZWQ6IG51bWJlciwgbGFzdE9ubGluZT86IG51bWJlciwgZmlyc3RSdW5DaGVjazogYm9vbGVhbiA9IGZhbHNlLCBDOiBDaGFyYWN0ZXIgPSBQbGF5ZXIpOiBudW1iZXJcbntcbiAgICAvKiogSG93IGxvbmcgaW4gbXMgaGFzIGVsYXNwZWQgc2luY2Ugbm93IG9yIGxhc3Qgb25saW5lICovXG4gICAgY29uc3QgZGlmZjogbnVtYmVyID0gKGxhc3RPbmxpbmUgPyBsYXN0T25saW5lIDogRGF0ZS5ub3coKSkgLSBsYXN0VXBkYXRlZDtcbiAgICBjb25zdCBjdXJyZW50VmFsdWUgPSBNYXRoLm1heCgwLCBNYXRoLm1pbih2YWx1ZSAtIChkaWZmIC8gSG91clRvTVMoZHVyYXRpb24pKSwgMSkpO1xuICAgIC8vIE1heCBkcmFpbiBkb3duIHRvIDIwJSB3aGlsZSBvZmZsaW5lXG4gICAgaWYgKGZpcnN0UnVuQ2hlY2sgJiYgdmFsdWUgPiBNSU5fT0ZGTElORV9EUkFJTl9MRVZFTCAmJiBjdXJyZW50VmFsdWUgPCBNSU5fT0ZGTElORV9EUkFJTl9MRVZFTClcbiAgICB7XG4gICAgICAgIGNvbnN0IGRpZmYyOiBudW1iZXIgPSBQbGF5ZXJWUChDKS5sZXZlbHMubGFzdE9ubGluZSAtIGxhc3RVcGRhdGVkO1xuICAgICAgICBjb25zdCBuZXdWYWx1ZTIgPSBNYXRoLm1heCgwLCBNYXRoLm1pbih2YWx1ZSAtIChkaWZmMiAvIEhvdXJUb01TKGR1cmF0aW9uKSksIDEpKTtcbiAgICAgICAgcmV0dXJuIE1hdGgubWluKE1JTl9PRkZMSU5FX0RSQUlOX0xFVkVMLCBuZXdWYWx1ZTIpO1xuICAgIH1cbiAgICByZXR1cm4gY3VycmVudFZhbHVlO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gR2V0Q2hhcmFjdGVyQ3VycmVudFN0YXRWYWx1ZShjaGFyYWN0ZXI6IENoYXJhY3Rlciwgc3RhdDogVmlydHVhbFBldFN0YXRDYXRlZ29yeSk6IG51bWJlclxue1xuICAgIGNvbnN0IGNoYXJTdGF0cyA9IGNoYXJhY3Rlcj8uTVBBPy5bTW9kdWxlVGl0bGUuVmlydHVhbFBldF07XG4gICAgaWYgKCFjaGFyU3RhdHMpXG4gICAge1xuICAgICAgICByZXR1cm4gLTE7XG4gICAgfVxuXG4gICAgaWYgKHN0YXQgPT09IFwic2xlZXBcIilcbiAgICB7XG4gICAgICAgIGNvbnN0IGx2bCA9IChJc1NsZWVwaW5nRXhwcmVzc2lvbihjaGFyYWN0ZXIpIHx8IElzQmVkTXVsdGlwbGllcihjaGFyYWN0ZXIpICE9PSAxKSA/XG4gICAgICAgICAgICBjaGFyU3RhdHMubGV2ZWxzLnNsZWVwICsgKERhdGUubm93KCkgLSBjaGFyU3RhdHMubGV2ZWxzLmxhc3RVcGRhdGVkKSAvIChjaGFyU3RhdHMuc2xlZXBIb3VycyAqIDYwICogNjAgKiAxMDAwKSAqIElzQmVkTXVsdGlwbGllcihjaGFyYWN0ZXIpICogKElzU2xlZXBpbmdFeHByZXNzaW9uKGNoYXJhY3RlcikgPyA1IDogMSkgOlxuICAgICAgICAgICAgQ2FsY3VsYXRlQ3VycmVudFZhbHVlKGNoYXJTdGF0cy5sZXZlbHMuc2xlZXAsIGNoYXJTdGF0cy5zbGVlcEhvdXJzLCBjaGFyU3RhdHMubGV2ZWxzLmxhc3RVcGRhdGVkKTtcbiAgICAgICAgcmV0dXJuIE1hdGgubWF4KDAsIE1hdGgubWluKDEsIGx2bCkpO1xuICAgIH1cblxuICAgIHJldHVybiBDYWxjdWxhdGVDdXJyZW50VmFsdWUoY2hhclN0YXRzLmxldmVsc1tzdGF0XSwgY2hhclN0YXRzW2Ake3N0YXR9SG91cnNgXSwgY2hhclN0YXRzLmxldmVscy5sYXN0VXBkYXRlZCk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBMZXZlbFN5bmMocHVzaFRvU3RvcmFnZTogYm9vbGVhbiA9IHRydWUsIHJlY29yZFN5bmM6IGJvb2xlYW4gPSB0cnVlLCBmaXJzdFN5bmM6IGJvb2xlYW4gPSBmYWxzZSk6IHZvaWRcbntcbiAgICAvLyBWaXJ0dWFsIHBldCBpcyBub3QgZW5hYmxlZCBzbyBkbyBub3RoaW5nXG4gICAgaWYgKCFQbGF5ZXJWUCgpLmVuYWJsZWQpXG4gICAge1xuICAgICAgICBQbGF5ZXJWUCgpLmxldmVscy5sYXN0VXBkYXRlZCA9IERhdGUubm93KCk7XG4gICAgICAgIFBsYXllclZQKCkubGV2ZWxzLmxhc3RPbmxpbmUgPSBEYXRlLm5vdygpO1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3QgdXBkYXRlOiBudW1iZXIgPSBQbGF5ZXJWUCgpLmxldmVscy5sYXN0VXBkYXRlZCA/PyBEYXRlLm5vdygpO1xuICAgIGNvbnN0IG9ubGluZTogbnVtYmVyIHwgdW5kZWZpbmVkID0gIVBsYXllclZQKCkub2ZmbGluZURyYWluID8gUGxheWVyVlAoKS5sZXZlbHMubGFzdE9ubGluZSA6IHVuZGVmaW5lZDtcblxuICAgIGNvbnN0IGZvb2QgPSBQbGF5ZXJWUCgpLmZvb2RIb3VycztcbiAgICBpZiAoZm9vZCAhPT0gMClcbiAgICB7XG4gICAgICAgIFBsYXllclZQKCkubGV2ZWxzLmZvb2QgPSBDYWxjdWxhdGVDdXJyZW50VmFsdWUoUGxheWVyVlAoKS5sZXZlbHMuZm9vZCwgZm9vZCwgdXBkYXRlLCBvbmxpbmUsIGZpcnN0U3luYyk7XG4gICAgfVxuICAgIGNvbnN0IHdhdGVyID0gUGxheWVyVlAoKS53YXRlckhvdXJzO1xuICAgIGlmICh3YXRlciAhPT0gMClcbiAgICB7XG4gICAgICAgIFBsYXllclZQKCkubGV2ZWxzLndhdGVyID0gQ2FsY3VsYXRlQ3VycmVudFZhbHVlKFBsYXllclZQKCkubGV2ZWxzLndhdGVyLCB3YXRlciwgdXBkYXRlLCBvbmxpbmUsIGZpcnN0U3luYyk7XG4gICAgfVxuICAgIGNvbnN0IHNsZWVwID0gUGxheWVyVlAoKS5zbGVlcEhvdXJzO1xuICAgIGlmIChzbGVlcCAhPT0gMClcbiAgICB7XG4gICAgICAgIGlmICgoZmlyc3RTeW5jICYmICFvbmxpbmUpXG4gICAgICAgICAgfHwgcGxheWVyU2xlZXBpbmdFeHByZXNzaW9uXG4gICAgICAgICAgfHwgcGxheWVyQmVkTXVsdGlwbGllciAhPT0gMSlcbiAgICAgICAge1xuICAgICAgICAgICAgY29uc3QgZHVyYXRpb25Ub1VzZSA9IGZpcnN0U3luYyA/IChEYXRlLm5vdygpIC0gUGxheWVyVlAoKS5sZXZlbHMubGFzdE9ubGluZSkgLSAoUGxheWVyVlAoKS5sZXZlbHMubGFzdE9ubGluZSAtIHVwZGF0ZSkgOiBEYXRlLm5vdygpIC0gdXBkYXRlO1xuICAgICAgICAgICAgY29uc3QgbmV3U2xlZXAgPSBQbGF5ZXJWUCgpLmxldmVscy5zbGVlcCArIChkdXJhdGlvblRvVXNlKSAvIEhvdXJUb01TKHNsZWVwKSAqIHBsYXllckJlZE11bHRpcGxpZXIgKiAocGxheWVyU2xlZXBpbmdFeHByZXNzaW9uID8gNSA6IDEpO1xuICAgICAgICAgICAgUGxheWVyVlAoKS5sZXZlbHMuc2xlZXAgPSBNYXRoLm1heCgwLCBNYXRoLm1pbigxLCBuZXdTbGVlcCkpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAge1xuICAgICAgICAgICAgUGxheWVyVlAoKS5sZXZlbHMuc2xlZXAgPSBDYWxjdWxhdGVDdXJyZW50VmFsdWUoUGxheWVyVlAoKS5sZXZlbHMuc2xlZXAsIHNsZWVwLCB1cGRhdGUsIG9ubGluZSwgZmlyc3RTeW5jKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBjb25zdCBhZmZlY3Rpb24gPSBQbGF5ZXJWUCgpLmFmZmVjdGlvbkhvdXJzO1xuICAgIGlmIChhZmZlY3Rpb24gIT09IDApXG4gICAge1xuICAgICAgICBQbGF5ZXJWUCgpLmxldmVscy5hZmZlY3Rpb24gPSBDYWxjdWxhdGVDdXJyZW50VmFsdWUoUGxheWVyVlAoKS5sZXZlbHMuYWZmZWN0aW9uLCBhZmZlY3Rpb24sIHVwZGF0ZSwgb25saW5lLCBmaXJzdFN5bmMpO1xuICAgIH1cbiAgICBQbGF5ZXJWUCgpLmxldmVscy5sYXN0VXBkYXRlZCA9IERhdGUubm93KCk7XG4gICAgUGxheWVyVlAoKS5sZXZlbHMubGFzdE9ubGluZSA9IERhdGUubm93KCk7XG4gICAgLy8gU2F2ZSB0byBsb2NhbCBzdG9yYWdlXG4gICAgaWYgKHB1c2hUb1N0b3JhZ2UpXG4gICAge1xuICAgICAgICBTYXZlU3RvcmFnZShmYWxzZSk7XG4gICAgfVxuICAgIC8vIFN5bmMgbmV3IHN0YXRzIHdpdGggb3RoZXJzXG4gICAgaWYgKHJlY29yZFN5bmMpXG4gICAge1xuICAgICAgICBSZWNvcmRTeW5jKE1vZHVsZVRpdGxlLlZpcnR1YWxQZXQsIFwibGV2ZWxzXCIpO1xuICAgIH1cbn1cblxuLyoqXG4gKiBAcGFyYW0gc3RhdCAtIFN0YXQgdG8gbW9kaWZ5XG4gKiBAcGFyYW0gYW1vdW50IC0gTXVzdCBiZSBiZXR3ZWVuIC0xIGFuZCAxXG4gKiBAcGFyYW0gYXBwbHlNb2RpZmllciAtIElmIGFwcGx5IHRoZSBcIlBldCBsaWtlXCIgbW9kaWZpZXJcbiAqIEBwYXJhbSBzdG9yYWdlUHVzaCAtIElmIHNhdmluZyB0byBzdG9yYWdlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBNb2RpZnlTdGF0KHN0YXQ6IFZpcnR1YWxQZXRTdGF0Q2F0ZWdvcnksIGFtb3VudDogbnVtYmVyLCBhcHBseU1vZGlmaWVyID0gdHJ1ZSwgc3RvcmFnZVB1c2ggPSB0cnVlLCBzb3VyY2VDaGFyPzogQ2hhcmFjdGVyKTogdm9pZFxue1xuICAgIGlmIChhbW91bnQgPCAtMSAmJiBhbW91bnQgPiAxKVxuICAgIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIENhbGN1bGF0ZSB0aGUgY3VycmVudCBzdGF0cyBiYXNlZCBvbiBkcmFpbiBhbmQgdGhlbiBhcHBseSBtb2RpZmljYXRpb25zIGFmdGVyIGNoYW5naW5nIHRob3NlIHZhbHVlcyBmaXJzdFxuICAgIExldmVsU3luYyhmYWxzZSwgZmFsc2UsIGZhbHNlKTtcblxuICAgIFBsYXllclZQKCkubGV2ZWxzW3N0YXRdICs9IGFtb3VudCAqICgoYXBwbHlNb2RpZmllciAmJiBhbW91bnQgPiAwKSA/IFN0YXRNb2RpZmllcihzdGF0LCBzb3VyY2VDaGFyKSA6IDEpO1xuICAgIFZlcmlmeVZhbGlkU3RhdChzdGF0KTtcblxuICAgIC8vIFNhdmUgdG8gbG9jYWwgc3RvcmFnZVxuICAgIGlmIChzdG9yYWdlUHVzaClcbiAgICB7XG4gICAgICAgIFNhdmVTdG9yYWdlKGZhbHNlKTtcbiAgICB9XG4gICAgLy8gU3luYyBuZXcgc3RhdHMgd2l0aCBvdGhlcnNcbiAgICBSZWNvcmRTeW5jKE1vZHVsZVRpdGxlLlZpcnR1YWxQZXQsIFwibGV2ZWxzXCIpO1xufVxuXG5leHBvcnQgY2xhc3MgVmlydHVhbFBldE1vZHVsZSBleHRlbmRzIE1vZHVsZVxue1xuICAgIGdldCBUaXRsZSgpOiBNb2R1bGVUaXRsZVxuICAgIHtcbiAgICAgICAgcmV0dXJuIE1vZHVsZVRpdGxlLlZpcnR1YWxQZXQ7XG4gICAgfVxuXG4gICAgZ2V0IEFjdGl2aXRpZXMoKTogQ3VzdG9tQWN0aXZpdHlbXVxuICAgIHtcbiAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBOYW1lOiBcIkJvd2xFYXRcIixcbiAgICAgICAgICAgICAgICBUYXJnZXRzOiBbe1xuICAgICAgICAgICAgICAgICAgICBncm91cDogXCJJdGVtTW91dGhcIixcbiAgICAgICAgICAgICAgICAgICAgbGFiZWw6IFwiRWF0IEZyb20gQm93bFwiLFxuICAgICAgICAgICAgICAgICAgICBhY3Rpb25TZWxmOiBcIlNvdXJjZUNoYXJhY3RlciBlYXRzIGZyb20gUHJvbm91blBvc3Nlc3NpdmUgYm93bC5cIlxuICAgICAgICAgICAgICAgIH1dLFxuICAgICAgICAgICAgICAgIEltYWdlOiBcIkFzc2V0cy9GZW1hbGUzRENHL0l0ZW1EZXZpY2VzL1ByZXZpZXcvUGV0Qm93bC5wbmdcIixcbiAgICAgICAgICAgICAgICBQcmVyZXF1aXNpdGU6IFtcIlVzZU1vdXRoXCIsIFwiSGFzQm93bFwiXSxcbiAgICAgICAgICAgICAgICBPblRyaWdnZXI6ICgpID0+XG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBpZiAoUGxheWVyVlAoKS5lbmFibGVkICYmIFBsYXllclZQKCkuZm9vZEhvdXJzICE9PSAwKVxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBNb2RpZnlTdGF0KFwiZm9vZFwiLCBCT1dMX0NPTlNVTUVfUkVDT1ZFUlksIHRydWUpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgIE5hbWU6IFwiQm93bERyaW5rXCIsXG4gICAgICAgICAgICAgICAgVGFyZ2V0czogW3tcbiAgICAgICAgICAgICAgICAgICAgZ3JvdXA6IFwiSXRlbU1vdXRoXCIsXG4gICAgICAgICAgICAgICAgICAgIGxhYmVsOiBcIkRyaW5rIEZyb20gQm93bFwiLFxuICAgICAgICAgICAgICAgICAgICBhY3Rpb25TZWxmOiBcIlNvdXJjZUNoYXJhY3RlciBkcmlua3MgZnJvbSBQcm9ub3VuUG9zc2Vzc2l2ZSBib3dsLlwiXG4gICAgICAgICAgICAgICAgfV0sXG4gICAgICAgICAgICAgICAgSW1hZ2U6IFwiQXNzZXRzL0ZlbWFsZTNEQ0cvSXRlbURldmljZXMvUHJldmlldy9QZXRCb3dsLnBuZ1wiLFxuICAgICAgICAgICAgICAgIFByZXJlcXVpc2l0ZTogW1wiVXNlTW91dGhcIiwgXCJIYXNCb3dsXCJdLFxuICAgICAgICAgICAgICAgIE9uVHJpZ2dlcjogKCkgPT5cbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChQbGF5ZXJWUCgpLmVuYWJsZWQgJiYgUGxheWVyVlAoKS53YXRlckhvdXJzICE9PSAwKVxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBNb2RpZnlTdGF0KFwid2F0ZXJcIiwgQk9XTF9DT05TVU1FX1JFQ09WRVJZLCB0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICBOYW1lOiBcIkJvd2xFYXQyXCIsXG4gICAgICAgICAgICAgICAgVGFyZ2V0czogW3tcbiAgICAgICAgICAgICAgICAgICAgZ3JvdXA6IFwiSXRlbU1vdXRoXCIsXG4gICAgICAgICAgICAgICAgICAgIGxhYmVsOiBcIkVhdCBGcm9tIEJvd2xcIixcbiAgICAgICAgICAgICAgICAgICAgYWN0aW9uU2VsZjogXCJTb3VyY2VDaGFyYWN0ZXIgcHV0cyBQcm9ub3VuUG9zc2Vzc2l2ZSBoZWFkIGludG8gUHJvbm91blBvc3Nlc3NpdmUgYm93bCBpbiBvcmRlciB0byBlYXQgd2l0aCB0aGUgZ2FnLCBtYWtpbmcgYSBtZXNzLlwiXG4gICAgICAgICAgICAgICAgfV0sXG4gICAgICAgICAgICAgICAgSW1hZ2U6IFwiQXNzZXRzL0ZlbWFsZTNEQ0cvSXRlbURldmljZXMvUHJldmlldy9QZXRCb3dsLnBuZ1wiLFxuICAgICAgICAgICAgICAgIFByZXJlcXVpc2l0ZTogW1wiVXNlVG9uZ3VlTm9Nb3V0aFwiLCBcIkhhc0Jvd2xcIl0sXG4gICAgICAgICAgICAgICAgT25UcmlnZ2VyOiAoKSA9PlxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKFBsYXllclZQKCkuZW5hYmxlZCAmJiBQbGF5ZXJWUCgpLmZvb2RIb3VycyAhPT0gMClcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgTW9kaWZ5U3RhdChcImZvb2RcIiwgQk9XTF9DT05TVU1FX1JFQ09WRVJZLCB0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICBOYW1lOiBcIkJvd2xEcmluazJcIixcbiAgICAgICAgICAgICAgICBUYXJnZXRzOiBbe1xuICAgICAgICAgICAgICAgICAgICBncm91cDogXCJJdGVtTW91dGhcIixcbiAgICAgICAgICAgICAgICAgICAgbGFiZWw6IFwiRHJpbmsgRnJvbSBCb3dsXCIsXG4gICAgICAgICAgICAgICAgICAgIGFjdGlvblNlbGY6IFwiU291cmNlQ2hhcmFjdGVyIHB1dHMgUHJvbm91blBvc3Nlc3NpdmUgaGVhZCBpbnRvIFByb25vdW5Qb3NzZXNzaXZlIGJvd2wgaW4gb3JkZXIgdG8gZHJpbmsgd2l0aCB0aGUgZ2FnLCBtYWtpbmcgYSBtZXNzLlwiXG4gICAgICAgICAgICAgICAgfV0sXG4gICAgICAgICAgICAgICAgSW1hZ2U6IFwiQXNzZXRzL0ZlbWFsZTNEQ0cvSXRlbURldmljZXMvUHJldmlldy9QZXRCb3dsLnBuZ1wiLFxuICAgICAgICAgICAgICAgIFByZXJlcXVpc2l0ZTogW1wiVXNlVG9uZ3VlTm9Nb3V0aFwiLCBcIkhhc0Jvd2xcIl0sXG4gICAgICAgICAgICAgICAgT25UcmlnZ2VyOiAoKSA9PlxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKFBsYXllclZQKCkuZW5hYmxlZCAmJiBQbGF5ZXJWUCgpLndhdGVySG91cnMgIT09IDApXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIE1vZGlmeVN0YXQoXCJ3YXRlclwiLCBCT1dMX0NPTlNVTUVfUkVDT1ZFUlksIHRydWUpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICBdO1xuICAgIH1cblxuICAgIGdldCBTZXR0aW5ncygpOiBTZXR0aW5nW11cbiAgICB7XG4gICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgbmFtZTogXCJlbmFibGVkXCIsXG4gICAgICAgICAgICAgICAgdHlwZTogXCJjaGVja2JveFwiLFxuICAgICAgICAgICAgICAgIGFjdGl2ZTogKEMpID0+ICFJc0hhcmRjb3JlT24oQyksXG4gICAgICAgICAgICAgICAgdmFsdWU6IGZhbHNlLFxuICAgICAgICAgICAgICAgIGxhYmVsOiBcIkJlY29tZSBhIHZpcnR1YWwgcGV0ISBSZXF1aXJpbmc6IGZvb2QsIHdhdGVyLCBzbGVlcCwgYW5kIGFmZmVjdGlvblwiXG4gICAgICAgICAgICB9IGFzIENoZWNrYm94U2V0dGluZywge1xuICAgICAgICAgICAgICAgIG5hbWU6IFwiZm9vZEhvdXJzXCIgYXMgVmlydHVhbFBldEhvdXJDYXRlZ29yaWVzLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwibnVtYmVyXCIsXG4gICAgICAgICAgICAgICAgdmFsdWU6IDQsXG4gICAgICAgICAgICAgICAgYWN0aXZlOiAoQykgPT4gISFQbGF5ZXJWUChDKS5lbmFibGVkLFxuICAgICAgICAgICAgICAgIGxhYmVsOiBcIkhvdyBtYW55IGhvdXJzIHVudGlsIHlvdSBhcmUgY29tcGxldGVseSBvdXQgb2YgZm9vZDsgMCB0byBkaXNhYmxlXCIsXG4gICAgICAgICAgICAgICAgd2lkdGg6IDEyOCxcbiAgICAgICAgICAgICAgICBtaW46IDAsXG4gICAgICAgICAgICAgICAgbWF4OiBNQVhfU0VUVElOR19USU1FX0hPVVJTLFxuICAgICAgICAgICAgICAgIHN0ZXA6IDAuMVxuICAgICAgICAgICAgfSBhcyBOdW1iZXJTZXR0aW5nLCB7XG4gICAgICAgICAgICAgICAgbmFtZTogXCJ3YXRlckhvdXJzXCIgYXMgVmlydHVhbFBldEhvdXJDYXRlZ29yaWVzLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwibnVtYmVyXCIsXG4gICAgICAgICAgICAgICAgdmFsdWU6IDQsXG4gICAgICAgICAgICAgICAgYWN0aXZlOiAoQykgPT4gISFQbGF5ZXJWUChDKS5lbmFibGVkLFxuICAgICAgICAgICAgICAgIGxhYmVsOiBcIkhvdyBtYW55IGhvdXJzIHVudGlsIHlvdSBhcmUgY29tcGxldGVseSBvdXQgb2Ygd2F0ZXI7IDAgdG8gZGlzYWJsZVwiLFxuICAgICAgICAgICAgICAgIHdpZHRoOiAxMjgsXG4gICAgICAgICAgICAgICAgbWluOiAwLFxuICAgICAgICAgICAgICAgIG1heDogTUFYX1NFVFRJTkdfVElNRV9IT1VSUyxcbiAgICAgICAgICAgICAgICBzdGVwOiAwLjFcbiAgICAgICAgICAgIH0gYXMgTnVtYmVyU2V0dGluZywge1xuICAgICAgICAgICAgICAgIG5hbWU6IFwic2xlZXBIb3Vyc1wiIGFzIFZpcnR1YWxQZXRIb3VyQ2F0ZWdvcmllcyxcbiAgICAgICAgICAgICAgICB0eXBlOiBcIm51bWJlclwiLFxuICAgICAgICAgICAgICAgIHZhbHVlOiA4LFxuICAgICAgICAgICAgICAgIGFjdGl2ZTogKEMpID0+ICEhUGxheWVyVlAoQykuZW5hYmxlZCxcbiAgICAgICAgICAgICAgICBsYWJlbDogXCJIb3cgbWFueSBob3VycyB1bnRpbCB5b3UgYXJlIGNvbXBsZXRlbHkgb3V0IG9mIHNsZWVwOyAwIHRvIGRpc2FibGVcIixcbiAgICAgICAgICAgICAgICB3aWR0aDogMTI4LFxuICAgICAgICAgICAgICAgIG1pbjogMCxcbiAgICAgICAgICAgICAgICBtYXg6IE1BWF9TRVRUSU5HX1RJTUVfSE9VUlMsXG4gICAgICAgICAgICAgICAgc3RlcDogMC4xXG4gICAgICAgICAgICB9IGFzIE51bWJlclNldHRpbmcsIHtcbiAgICAgICAgICAgICAgICBuYW1lOiBcImFmZmVjdGlvbkhvdXJzXCIgYXMgVmlydHVhbFBldEhvdXJDYXRlZ29yaWVzLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwibnVtYmVyXCIsXG4gICAgICAgICAgICAgICAgdmFsdWU6IDQsXG4gICAgICAgICAgICAgICAgYWN0aXZlOiAoQykgPT4gISFQbGF5ZXJWUChDKS5lbmFibGVkLFxuICAgICAgICAgICAgICAgIGxhYmVsOiBcIkhvdyBtYW55IGhvdXJzIHVudGlsIHlvdSBhcmUgY29tcGxldGVseSBvdXQgb2YgYWZmZWN0aW9uOyAwIHRvIGRpc2FibGVcIixcbiAgICAgICAgICAgICAgICB3aWR0aDogMTI4LFxuICAgICAgICAgICAgICAgIG1pbjogMCxcbiAgICAgICAgICAgICAgICBtYXg6IE1BWF9TRVRUSU5HX1RJTUVfSE9VUlMsXG4gICAgICAgICAgICAgICAgc3RlcDogMC4xXG4gICAgICAgICAgICB9IGFzIE51bWJlclNldHRpbmcsIHtcbiAgICAgICAgICAgICAgICBuYW1lOiBcIm9mZmxpbmVEcmFpblwiLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwiY2hlY2tib3hcIixcbiAgICAgICAgICAgICAgICB2YWx1ZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICBhY3RpdmU6IChDKSA9PiAhIVBsYXllclZQKEMpLmVuYWJsZWQsXG4gICAgICAgICAgICAgICAgbGFiZWw6IFwiU3RhdHMgZHJhaW4gZXZlbiB3aGVuIGxvZ2dlZCBvdXQgb2YgdGhlIGNsdWJcIlxuICAgICAgICAgICAgfSBhcyBDaGVja2JveFNldHRpbmcsIHtcbiAgICAgICAgICAgICAgICBuYW1lOiBcIm5vSGFuZHNcIixcbiAgICAgICAgICAgICAgICB0eXBlOiBcImNoZWNrYm94XCIsXG4gICAgICAgICAgICAgICAgYWN0aXZlOiAoQykgPT4gISFQbGF5ZXJWUChDKS5lbmFibGVkICYmICFJc0hhcmRjb3JlT24oQyksXG4gICAgICAgICAgICAgICAgdmFsdWU6IHRydWUsXG4gICAgICAgICAgICAgICAgbGFiZWw6IFwiQWxsb3cgZWF0aW5nIG9yIGRyaW5raW5nIGZyb20gaXRlbXMgaW4geW91ciBPV04gaGFuZHNcIlxuICAgICAgICAgICAgfSBhcyBDaGVja2JveFNldHRpbmcsIHtcbiAgICAgICAgICAgICAgICBuYW1lOiBcIm1hc29jaGlzdFwiLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwiY2hlY2tib3hcIixcbiAgICAgICAgICAgICAgICBhY3RpdmU6IChDKSA9PiAhIVBsYXllclZQKEMpLmVuYWJsZWQsXG4gICAgICAgICAgICAgICAgdmFsdWU6IGZhbHNlLFxuICAgICAgICAgICAgICAgIGxhYmVsOiBcIk1hc29jaGlzdCBwZXQ7IEFidXNlIHJhaXNlcyBhZmZlY3Rpb25cIlxuICAgICAgICAgICAgfSBhcyBDaGVja2JveFNldHRpbmcsIHtcbiAgICAgICAgICAgICAgICBuYW1lOiBcImxldmVsc1wiLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwicmVjb3JkXCIsXG4gICAgICAgICAgICAgICAgdmFsdWU6IHtcbiAgICAgICAgICAgICAgICAgICAgZm9vZDogMSxcbiAgICAgICAgICAgICAgICAgICAgd2F0ZXI6IDEsXG4gICAgICAgICAgICAgICAgICAgIHNsZWVwOiAxLFxuICAgICAgICAgICAgICAgICAgICBhZmZlY3Rpb246IDEsXG4gICAgICAgICAgICAgICAgICAgIGxhc3RVcGRhdGVkOiBEYXRlLm5vdygpLFxuICAgICAgICAgICAgICAgICAgICBsYXN0T25saW5lOiBEYXRlLm5vdygpXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBhcyBTZXR0aW5nXG4gICAgICAgIF07XG4gICAgfVxuXG4gICAgTG9hZCgpOiB2b2lkXG4gICAge1xuICAgICAgICBzdXBlci5Mb2FkKCk7XG5cbiAgICAgICAgLy8gTG9naW4gbGV2ZWwgc3luY1xuICAgICAgICBTbGVlcENoYW5nZUNoZWNrKGZhbHNlKTtcbiAgICAgICAgTGV2ZWxTeW5jKHRydWUsIGZhbHNlLCB0cnVlKTtcbiAgICAgICAgbGFzdE9ubGluZUludGVydmFsID0gc2V0SW50ZXJ2YWwoKCkgPT5cbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKFBsYXllci5NZW1iZXJOdW1iZXIpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgUGxheWVyLk1QQVt0aGlzLlRpdGxlXS5sZXZlbHMubGFzdE9ubGluZSA9IERhdGUubm93KCk7XG4gICAgICAgICAgICAgICAgU2F2ZVN0b3JhZ2UoZmFsc2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LCBMQVNUX09OTElORV9JTlRFUlZBTF9NUyk7XG5cbiAgICAgICAgLy8gTm9tcyBhbmQgZHJpbmtzXG4gICAgICAgIEhvb2tGdW5jdGlvbih0aGlzLlRpdGxlLCBcIkNoYXRSb29tTWVzc2FnZVwiLCAwLCAoYXJncywgbmV4dCkgPT5cbiAgICAgICAge1xuICAgICAgICAgICAgY29uc3QgZGF0YSA9IGFyZ3NbMF07XG4gICAgICAgICAgICBjb25zdCBhY3Rpdml0eU5hbWUgPSBHZXRBdHRyaWJ1dGVGcm9tQ2hhdERpY3Rpb25hcnkoZGF0YSwgXCJBY3Rpdml0eU5hbWVcIik7XG4gICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgIVBsYXllclZQKCkuZW5hYmxlZFxuICAgICAgICAgICAgICAgIHx8ICghUGxheWVyVlAoKS5ub0hhbmRzXG4gICAgICAgICAgICAgICAgJiYgR2V0QXR0cmlidXRlRnJvbUNoYXREaWN0aW9uYXJ5KGRhdGEsIFwiU291cmNlQ2hhcmFjdGVyXCIpID09PSBQbGF5ZXIuTWVtYmVyTnVtYmVyKVxuICAgICAgICAgICAgICAgIHx8IGRhdGEuVHlwZSAhPT0gXCJBY3Rpdml0eVwiXG4gICAgICAgICAgICAgICAgfHwgR2V0QXR0cmlidXRlRnJvbUNoYXREaWN0aW9uYXJ5KGRhdGEsIFwiVGFyZ2V0Q2hhcmFjdGVyXCIpICE9PSBQbGF5ZXIuTWVtYmVyTnVtYmVyXG4gICAgICAgICAgICAgICAgfHwgR2V0QXR0cmlidXRlRnJvbUNoYXREaWN0aW9uYXJ5KGRhdGEsIFwiRm9jdXNHcm91cE5hbWVcIikgIT09IFwiSXRlbU1vdXRoXCJcbiAgICAgICAgICAgICAgICB8fCAhYWN0aXZpdHlOYW1lXG4gICAgICAgICAgICApXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5leHQoYXJncyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIEdldCBhY3Rpdml0eSBhbmQgY2hlY2sgcHJlcmVxdWlzaXRlc1xuICAgICAgICAgICAgY29uc3QgYWN0aXZpdHkgPSBBY3Rpdml0eUZlbWFsZTNEQ0cuZmluZCgoeCkgPT4geC5OYW1lID09PSBhY3Rpdml0eU5hbWUpO1xuXG4gICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgUGxheWVyVlAoKS5mb29kSG91cnMgIT09IDBcbiAgICAgICAgICAgICAgICAmJiAoYWN0aXZpdHk/LlByZXJlcXVpc2l0ZT8uaW5jbHVkZXMoXCJOZWVkcy1FYXRJdGVtXCIpXG4gICAgICAgICAgICAgICAgfHwgQUNUSVZJVElFU19GT09EX0dBSU4uc29tZSgoeCkgPT4gYWN0aXZpdHk/Lk5hbWUgPT09IHgpKVxuICAgICAgICAgICAgKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIE1vZGlmeVN0YXQoXCJmb29kXCIsIElURU1fQ09OVU1FX1JFQ09WRVJZLCB0cnVlKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgIFBsYXllclZQKCkud2F0ZXJIb3VycyAhPT0gMFxuICAgICAgICAgICAgICAgICYmIChhY3Rpdml0eT8uUHJlcmVxdWlzaXRlPy5pbmNsdWRlcyhcIk5lZWRzLVNpcEl0ZW1cIilcbiAgICAgICAgICAgICAgICB8fCBBQ1RJVklUSUVTX1dBVEVSX0dBSU4uc29tZSgoeCkgPT4gYWN0aXZpdHk/Lk5hbWUgPT09IHgpKVxuICAgICAgICAgICAgKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIE1vZGlmeVN0YXQoXCJ3YXRlclwiLCBJVEVNX0NPTlVNRV9SRUNPVkVSWSwgdHJ1ZSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiBuZXh0KGFyZ3MpO1xuICAgICAgICB9KTtcblxuICAgICAgICAvLyBTbGVlcFxuICAgICAgICBIb29rRnVuY3Rpb24odGhpcy5UaXRsZSwgXCJDaGFyYWN0ZXJSZWZyZXNoXCIsIDAsIChhcmdzLCBuZXh0KSA9PlxuICAgICAgICB7XG4gICAgICAgICAgICBpZiAoYXJnc1swXS5NZW1iZXJOdW1iZXIgPT09IFBsYXllci5NZW1iZXJOdW1iZXIpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgU2xlZXBDaGFuZ2VDaGVjaygpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIG5leHQoYXJncyk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIEFmZmVjdGlvblxuICAgICAgICBIb29rRnVuY3Rpb24odGhpcy5UaXRsZSwgXCJDaGF0Um9vbU1lc3NhZ2VcIiwgMCwgKGFyZ3MsIG5leHQpID0+XG4gICAgICAgIHtcbiAgICAgICAgICAgIGNvbnN0IGRhdGEgPSBhcmdzWzBdO1xuICAgICAgICAgICAgY29uc3QgYWN0aXZpdHlOYW1lID0gR2V0QXR0cmlidXRlRnJvbUNoYXREaWN0aW9uYXJ5KGRhdGEsIFwiQWN0aXZpdHlOYW1lXCIpO1xuICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICFQbGF5ZXJWUCgpLmVuYWJsZWRcbiAgICAgICAgICAgICAgICB8fCBQbGF5ZXJWUCgpLmFmZmVjdGlvbkhvdXJzID09PSAwXG4gICAgICAgICAgICAgICAgfHwgZGF0YS5UeXBlICE9PSBcIkFjdGl2aXR5XCJcbiAgICAgICAgICAgICAgICB8fCBHZXRBdHRyaWJ1dGVGcm9tQ2hhdERpY3Rpb25hcnkoZGF0YSwgXCJUYXJnZXRDaGFyYWN0ZXJcIikgIT09IFBsYXllci5NZW1iZXJOdW1iZXJcbiAgICAgICAgICAgICAgICB8fCBHZXRBdHRyaWJ1dGVGcm9tQ2hhdERpY3Rpb25hcnkoZGF0YSwgXCJTb3VyY2VDaGFyYWN0ZXJcIikgPT09IFBsYXllci5NZW1iZXJOdW1iZXJcbiAgICAgICAgICAgICAgICB8fCAhYWN0aXZpdHlOYW1lXG4gICAgICAgICAgICApXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5leHQoYXJncyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbnN0IGdyb3VwID0gR2V0QXR0cmlidXRlRnJvbUNoYXREaWN0aW9uYXJ5KGRhdGEsIFwiRm9jdXNHcm91cE5hbWVcIikgYXMgc3RyaW5nID8/IFwiXCI7XG4gICAgICAgICAgICBjb25zdCBncm91cE11bHQgPSBBRkZFQ1RJT05fWk9ORV9BRkZFQ1RJT05bZ3JvdXBdID8/IDE7XG4gICAgICAgICAgICBpZiAoQUZGRUNUSU9OX0FDVElWSVRZX0xPVkUuaW5jbHVkZXMoYWN0aXZpdHlOYW1lKSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBNb2RpZnlTdGF0KFwiYWZmZWN0aW9uXCIsIEFGRkVDVElPTl9MT1ZFX0JBU0UgKiBncm91cE11bHQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoQUZGRUNUSU9OX0FDVElWSVRZX0xJS0UuaW5jbHVkZXMoYWN0aXZpdHlOYW1lKSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBNb2RpZnlTdGF0KFwiYWZmZWN0aW9uXCIsIEFGRkVDVElPTl9MSUtFX0JBU0UgKiBncm91cE11bHQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoQUZGRUNUSU9OX0FDVElWSVRZX01BU08uaW5jbHVkZXMoYWN0aXZpdHlOYW1lKSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBNb2RpZnlTdGF0KFwiYWZmZWN0aW9uXCIsIChQbGF5ZXJWUCgpLm1hc29jaGlzdCA/IC0xIDogMSkgKiBBRkZFQ1RJT05fTUFTT19CQVNFICogZ3JvdXBNdWx0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBuZXh0KGFyZ3MpO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBVbmxvYWQoKTogdm9pZFxuICAgIHtcbiAgICAgICAgc3VwZXIuVW5sb2FkKCk7XG4gICAgICAgIGNsZWFySW50ZXJ2YWwobGFzdE9ubGluZUludGVydmFsKTtcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBSYW5kb21FbGVtZW50IH0gZnJvbSBcIi4uL3V0aWwvZ2VuZXJhbFwiO1xuaW1wb3J0IHsgU2VuZEFjdGlvbiB9IGZyb20gXCIuLi91dGlsL21lc3NhZ2luZ1wiO1xuaW1wb3J0IHsgSG9va0Z1bmN0aW9uIH0gZnJvbSBcIi4uL3V0aWwvc2RrXCI7XG5pbXBvcnQgeyBNb2R1bGUsIE1vZHVsZVRpdGxlIH0gZnJvbSBcIi4vX21vZHVsZVwiO1xuaW1wb3J0IHsgSXNIYXJkY29yZU9uIH0gZnJvbSBcIi4vcHJvZmlsZVwiO1xuaW1wb3J0IHsgR2V0Q2hhcmFjdGVyQ3VycmVudFN0YXRWYWx1ZSwgVmlydHVhbFBldFN0YXRDYXRlZ29yeSB9IGZyb20gXCIuL3ZpcnR1YWxQZXRcIjtcblxuY29uc3QgUGxheWVyVlA6IChDPzogQ2hhcmFjdGVyKSA9PiBNUEFSZWNvcmQgPSAoQzogQ2hhcmFjdGVyID0gUGxheWVyKSA9Plxue1xuICAgIHJldHVybiBDLk1QQT8uW01vZHVsZVRpdGxlLlZpcnR1YWxQZXRdID8/IHt9O1xufTtcblxuY29uc3QgUGxheWVyVlBDOiAoQz86IENoYXJhY3RlcikgPT4gTVBBUmVjb3JkID0gKEM6IENoYXJhY3RlciA9IFBsYXllcikgPT5cbntcbiAgICByZXR1cm4gQy5NUEE/LltNb2R1bGVUaXRsZS5WaXJ0dWFsUGV0Q29uZGl0aW9uc10gPz8ge307XG59O1xuXG4vKipcbiAqIENoZWNrIGlmIGEgY29uZGl0aW9uIGlzIGN1cnJlbnRseSBlbmZvcmNlZCwgY2hlY2tpbmcgaWYgZW5hYmxlZCBhbmQgaWYgaXQgcmVsaWVzIG9uIGEgVlAgc3RhdCwgdGhhdCB0aGUgc3RhdCBpcyBzZXRcbiAqL1xuZnVuY3Rpb24gQ29uZGl0aW9uSXNFbmZvcmNlZChjb25kaXRpb246IHN0cmluZywgdnBTdGF0TmVlZFRvQmVFbmFibGVkPzogVmlydHVhbFBldFN0YXRDYXRlZ29yeSk6IGJvb2xlYW5cbntcbiAgICBpZiAoIVBsYXllclZQQygpLmVuYWJsZWQgfHwgIShQbGF5ZXJWUEMoKVtjb25kaXRpb25dKSlcbiAgICB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgcmV0dXJuICghdnBTdGF0TmVlZFRvQmVFbmFibGVkIHx8IChQbGF5ZXJWUCgpLmVuYWJsZWQgJiYgUGxheWVyVlAoKT8uW2Ake3ZwU3RhdE5lZWRUb0JlRW5hYmxlZH1Ib3Vyc2BdICE9PSAwKSk7XG59O1xuXG4vKiogW1NraWxsLCBwb3N0aXZlIG9yIG5lZ2F0aXZlIGNvcnJsYXRpb25dICovXG5jb25zdCBBRkZFQ1RJT05fU0tJTExTOiBbU2tpbGxUeXBlLCBib29sZWFuXVtdID1cbltcbiAgICBbXCJTZWxmQm9uZGFnZVwiLCB0cnVlXSxcbiAgICBbXCJXaWxscG93ZXJcIiwgdHJ1ZV0sXG4gICAgW1wiQm9uZGFnZVwiLCBmYWxzZV0sXG4gICAgW1wiRXZhc2lvblwiLCBmYWxzZV0sXG4gICAgW1wiTG9ja1BpY2tpbmdcIiwgZmFsc2VdXG5dO1xuXG5pbnRlcmZhY2UgT25TdGF0Q2hhbmdlRXZlbnRcbntcbiAgICBzdGF0OiBWaXJ0dWFsUGV0U3RhdENhdGVnb3J5O1xuICAgIHRocmVzaGhvbGQ6IG51bWJlcjtcbiAgICBjaGFuZ2U6IFwicmlzaW5nXCIgfCBcImZhbGxpbmdcIiB8IFwiYm90aFwiO1xuICAgIGFjdGlvbjogKCkgPT4gdm9pZDtcbiAgICBmaXJzdFJ1bj86ICgpID0+IHZvaWQ7XG59XG5jb25zdCBwcmV2aW91c1N0YXRzOiBSZWNvcmQ8VmlydHVhbFBldFN0YXRDYXRlZ29yeSwgbnVtYmVyPiA9IHtcbiAgICBmb29kOiAtMSxcbiAgICB3YXRlcjogLTEsXG4gICAgc2xlZXA6IC0xLFxuICAgIGFmZmVjdGlvbjogLTFcbn07XG5sZXQgb25TdGF0TGV2ZWw6IE9uU3RhdENoYW5nZUV2ZW50W10gPSBbXTtcbi8vIExpc3RlbnMgZm9yIGNoYW5nZXMgZXZlcnkgfjEuNSBzZWNvbmRzXG5jb25zdCBTVEFUX0NPVU5UX01BWCA9IDI1MDtcbmxldCBzdGF0Q291bnQgPSBTVEFUX0NPVU5UX01BWDtcbmV4cG9ydCBmdW5jdGlvbiBDb25kaXRpb25DaGVjaygpOiB2b2lkXG57XG4gICAgKFtcImZvb2RcIiwgXCJ3YXRlclwiLCBcImFmZmVjdGlvblwiLCBcInNsZWVwXCJdIGFzIFZpcnR1YWxQZXRTdGF0Q2F0ZWdvcnlbXSkuZm9yRWFjaCgoY2F0ZWdvcnkpID0+XG4gICAge1xuICAgICAgICBpZiAoXG4gICAgICAgICAgICBQbGF5ZXJWUCgpLmVuYWJsZWRcbiAgICAgICAgICAgICYmIFBsYXllclZQQygpLmVuYWJsZWRcbiAgICAgICAgICAgICYmIFBsYXllclZQKClbYCR7Y2F0ZWdvcnl9SG91cnNgXSAhPT0gMFxuICAgICAgICApXG4gICAgICAgIHtcbiAgICAgICAgICAgIGNvbnN0IHByZXZWYWx1ZSA9IHByZXZpb3VzU3RhdHNbY2F0ZWdvcnldO1xuICAgICAgICAgICAgY29uc3QgY3VyclZhbHVlID0gR2V0Q2hhcmFjdGVyQ3VycmVudFN0YXRWYWx1ZShQbGF5ZXIsIGNhdGVnb3J5KTtcbiAgICAgICAgICAgIG9uU3RhdExldmVsLmZvckVhY2goKGNoYW5nZUV2ZW50KSA9PlxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgY2hhbmdlRXZlbnQuc3RhdCA9PT0gY2F0ZWdvcnlcbiAgICAgICAgICAgICAgICAgICAgJiYgcHJldlZhbHVlID09PSAtMVxuICAgICAgICAgICAgICAgICAgICAmJiAhIWNoYW5nZUV2ZW50LmZpcnN0UnVuXG4gICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgY2hhbmdlRXZlbnQuZmlyc3RSdW4oKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICBjaGFuZ2VFdmVudC5zdGF0ID09PSBjYXRlZ29yeVxuICAgICAgICAgICAgICAgICAgICAmJiBwcmV2VmFsdWUgIT09IC0xXG4gICAgICAgICAgICAgICAgICAgICYmIHByZXZWYWx1ZSA+IGN1cnJWYWx1ZSAvLyBGYWxsaW5nXG4gICAgICAgICAgICAgICAgICAgICYmIGNoYW5nZUV2ZW50LmNoYW5nZSAhPT0gXCJyaXNpbmdcIlxuICAgICAgICAgICAgICAgICAgICAmJiBjdXJyVmFsdWUgPD0gY2hhbmdlRXZlbnQudGhyZXNoaG9sZFxuICAgICAgICAgICAgICAgICAgICAmJiBjaGFuZ2VFdmVudC50aHJlc2hob2xkIDwgcHJldlZhbHVlXG4gICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgY2hhbmdlRXZlbnQuYWN0aW9uKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgY2hhbmdlRXZlbnQuc3RhdCA9PT0gY2F0ZWdvcnlcbiAgICAgICAgICAgICAgICAgICAgJiYgcHJldlZhbHVlICE9PSAtMVxuICAgICAgICAgICAgICAgICAgICAmJiBwcmV2VmFsdWUgPCBjdXJyVmFsdWUgLy8gUmlzaW5nXG4gICAgICAgICAgICAgICAgICAgICYmIGNoYW5nZUV2ZW50LmNoYW5nZSAhPT0gXCJmYWxsaW5nXCJcbiAgICAgICAgICAgICAgICAgICAgJiYgcHJldlZhbHVlIDwgY2hhbmdlRXZlbnQudGhyZXNoaG9sZFxuICAgICAgICAgICAgICAgICAgICAmJiBjaGFuZ2VFdmVudC50aHJlc2hob2xkIDw9IGN1cnJWYWx1ZVxuICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGNoYW5nZUV2ZW50LmFjdGlvbigpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcHJldmlvdXNTdGF0c1tjYXRlZ29yeV0gPSBjdXJyVmFsdWU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICBwcmV2aW91c1N0YXRzW2NhdGVnb3J5XSA9IC0xO1xuICAgICAgICB9XG4gICAgfSk7XG59XG5cbmNvbnN0IFNMRUVQX1RJTlQgPSB7XG4gICAgc3RhdDogXCJzbGVlcFwiIGFzIFZpcnR1YWxQZXRTdGF0Q2F0ZWdvcnksXG4gICAgc3RhcnRMZXZlbDogMC4yNSxcbiAgICBlbmRMZXZlbDogMCxcbiAgICBtaW5UaW50OiAwLFxuICAgIG1heFRpbnQ6IDFcbn07XG5cbmxldCBwYXNzZWRPdXQgPSBmYWxzZTtcbmNvbnN0IFBBU1NPVVRfVEFMS19SRVBMQUNFOiBzdHJpbmdbXSA9IFtcbiAgICBcIlNvdXJjZUNoYXJhY3RlciBkcm9vbHMgb3V0IG9mIHRoZSBjb3JuZXIgb2YgUHJvbm91blBvc3Nlc3NpdmUgbGlwIGFzIFByb25vdW5TdWJqZWN0IHNsZWVwcy5cIixcbiAgICBcIlNvdXJjZUNoYXJhY3RlciBtdW1ibGVzIHF1aWV0bHkgaW4gUHJvbm91blBvc3Nlc3NpdmUgc2x1bWJlci5cIixcbiAgICBcIlNvdXJjZUNoYXJhY3RlciByZXN0cyBwZWFjZWZ1bGx5LlwiXG5dO1xuZnVuY3Rpb24gTVBBUGFzc291dCgpOiB2b2lkXG57XG4gICAgQ2hhcmFjdGVyU2V0RmFjaWFsRXhwcmVzc2lvbihQbGF5ZXIsIFwiRW1vdGljb25cIiwgXCJTbGVlcFwiKTtcbiAgICBDaGFyYWN0ZXJTZXRGYWNpYWxFeHByZXNzaW9uKFBsYXllciwgXCJFeWVzXCIsIFwiQ2xvc2VkXCIpO1xuICAgIENoYXJhY3RlclNldEZhY2lhbEV4cHJlc3Npb24oUGxheWVyLCBcIkZsdWlkc1wiLCBcIkRyb29sTWVkaXVtXCIpO1xuICAgIGlmIChQbGF5ZXIuQ2FuS25lZWwoKSlcbiAgICB7XG4gICAgICAgIFBvc2VTZXRBY3RpdmUoUGxheWVyLCBcIktuZWVsXCIsIHRydWUpO1xuICAgIH1cbiAgICBwYXNzZWRPdXQgPSB0cnVlO1xuXG4gICAgY29uc3Qgc2xlZXBNb2R1bGUgPSBQbGF5ZXI/LkxTQ0c/LlN0YXRlTW9kdWxlPy5zdGF0ZXM/LmZpbmQoKHgpID0+IHgudHlwZSA9PT0gXCJhc2xlZXBcIik7XG4gICAgaWYgKFBsYXllclZQQygpLnBhc3NvdXRMU0NHICYmIHNsZWVwTW9kdWxlKVxuICAgIHtcbiAgICAgICAgLypcbiAgICAgICAgdGhpcy5zdGF0ZU1vZHVsZS5TbGVlcFN0YXRlLkFjdGl2YXRlKHVuZGVmaW5lZCwgdW5kZWZpbmVkLCBkb0Vtb3RlKTtcbiAgICAgICAgdGhpcy5zZXR0aW5ncy5zdGF0cy5zZWRhdGVkQ291bnQrKztcbiAgICAgICAgQWN0aXZhdGUobWVtYmVyTnVtYmVyPzogbnVtYmVyLCBkdXJhdGlvbj86IG51bWJlciwgZW1vdGU/OiBib29sZWFuKTogQmFzZVN0YXRlIHwgdW5kZWZpbmVkIHtcbiAgICAgICAgICAgIGlmICghdGhpcy5BY3RpdmUpIHtcbiAgICAgICAgICAgICAgICBpZiAoZW1vdGUpXG4gICAgICAgICAgICAgICAgICAgIFNlbmRBY3Rpb24oXCIlTkFNRSUgc2x1bXBzIHdlYWtseSBhcyAlUFJPTk9VTiUgc2xpcHMgaW50byB1bmNvbmNpb3VzbmVzcy5cIik7XG4gICAgICAgICAgICAgICAgdGhpcy5TZXRTbGVlcEV4cHJlc3Npb24oKTtcbiAgICAgICAgICAgICAgICB0aGlzLkZhbGxEb3duSWZQb3NzaWJsZSgpO1xuICAgICAgICAgICAgICAgIGFkZEN1c3RvbUVmZmVjdChQbGF5ZXIsIFwiRm9yY2VLbmVlbFwiKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gc3VwZXIuQWN0aXZhdGUobWVtYmVyTnVtYmVyLCBkdXJhdGlvbiwgZW1vdGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIEFjdGl2YXRlKG1lbWJlck51bWJlcj86IG51bWJlciwgZHVyYXRpb24/OiBudW1iZXIsIGVtb3RlPzogYm9vbGVhbik6IEJhc2VTdGF0ZSB8IHVuZGVmaW5lZCB7XG4gICAgICAgICAgICB0aGlzLmNvbmZpZy5hY3RpdmUgPSB0cnVlO1xuICAgICAgICAgICAgdGhpcy5jb25maWcuYWN0aXZhdGVkQXQgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKTtcbiAgICAgICAgICAgIHRoaXMuY29uZmlnLmFjdGl2YXRlZEJ5ID0gbWVtYmVyTnVtYmVyID8/IC0xO1xuICAgICAgICAgICAgdGhpcy5jb25maWcuYWN0aXZhdGlvbkNvdW50Kys7XG4gICAgICAgICAgICB0aGlzLmNvbmZpZy5kdXJhdGlvbiA9IGR1cmF0aW9uO1xuXG4gICAgICAgICAgICBzZXR0aW5nc1NhdmUodHJ1ZSk7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuICAgICAgICAqL1xuICAgICAgICBjb25zb2xlLmxvZyhcIkNhbGxpbmcgTFNDRyBwYXNzb3V0XCIpO1xuICAgIH1cbiAgICBTZW5kQWN0aW9uKFwiU291cmNlQ2hhcmFjdGVyIHBhc3NlcyBvdXQgZnJvbSBleGhhdXN0aW9uLlwiLCB1bmRlZmluZWQsIFt7IFNvdXJjZUNoYXJhY3RlcjogUGxheWVyLk1lbWJlck51bWJlciB9IGFzIFNvdXJjZUNoYXJhY3RlckRpY3Rpb25hcnlFbnRyeV0pO1xufVxuZnVuY3Rpb24gTVBBV2FrZXVwKCk6IHZvaWRcbntcbiAgICBDaGFyYWN0ZXJTZXRGYWNpYWxFeHByZXNzaW9uKFBsYXllciwgXCJFbW90aWNvblwiLCBudWxsKTtcbiAgICBDaGFyYWN0ZXJTZXRGYWNpYWxFeHByZXNzaW9uKFBsYXllciwgXCJFeWVzXCIsIFwiRGF6ZWRcIik7XG4gICAgQ2hhcmFjdGVyU2V0RmFjaWFsRXhwcmVzc2lvbihQbGF5ZXIsIFwiRXllYnJvd3NcIiwgXCJMb3dlcmVkXCIpO1xuXG4gICAgcGFzc2VkT3V0ID0gZmFsc2U7XG4gICAgU2VuZEFjdGlvbihcIlNvdXJjZUNoYXJhY3RlciB3YWtlcyB1cCBmcm9tIFByb25vdW5Qb3NzZXNzaXZlIG5hcC5cIiwgdW5kZWZpbmVkLCBbeyBTb3VyY2VDaGFyYWN0ZXI6IFBsYXllci5NZW1iZXJOdW1iZXIgfSBhcyBTb3VyY2VDaGFyYWN0ZXJEaWN0aW9uYXJ5RW50cnldKTtcbn1cbmZ1bmN0aW9uIFBhc3NvdXRDaGVjaygpOiBib29sZWFuXG57XG4gICAgcmV0dXJuIChQbGF5ZXJWUEMoKS5lbmFibGVkXG4gICAgICAmJiBQbGF5ZXJWUCgpLnNsZWVwSG91cnMgIT09IDBcbiAgICAgICYmIFBsYXllclZQQygpLnBhc3NvdXRcbiAgICAgICYmICFQbGF5ZXJWUEMoKS5wYXNzb3V0TFNDR1xuICAgICAgJiYgcGFzc2VkT3V0KTtcbn1cblxubGV0IGFmZmVjdGlvbkNoZWNrSW50ZXJ2YWw6IG51bWJlcjtcbmNvbnN0IHNraWxsRHVyYXRpb25NUyA9IDE1MDAwO1xuZnVuY3Rpb24gQWZmZWN0aW9uU2tpbGxDaGVjaygpOiB2b2lkXG57XG4gICAgaWYgKFxuICAgICAgICAhUGxheWVyVlAoKS5lbmFibGVkXG4gICAgICAgIHx8IFBsYXllclZQKCkuYWZmZWN0aW9uSG91cnMgPT09IDBcbiAgICAgICAgfHwgIVBsYXllclZQQygpLmVuYWJsZWRcbiAgICApXG4gICAge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgQUZGRUNUSU9OX1NLSUxMUy5mb3JFYWNoKChbc2tpbGwsIHR5cGVdKSA9PlxuICAgIHtcbiAgICAgICAgY29uc3QgYWZmZWN0aW9uID0gR2V0Q2hhcmFjdGVyQ3VycmVudFN0YXRWYWx1ZShQbGF5ZXIsIFwiYWZmZWN0aW9uXCIpO1xuICAgICAgICBjb25zdCBhZmZlY3Rpb25Nb2RpZmllciA9IE1hdGgucm91bmQoKCgoYWZmZWN0aW9uKSAqICg1IC0gKC01KSkpIC8gKDEpICsgKC01KSkgKiAodHlwZSA/IDEgOiAtMSkgKiAxMDApIC8gMTAwO1xuXG4gICAgICAgIGNvbnN0IHByZXZNb2QgPSBTa2lsbEdldE1vZGlmaWVyKFBsYXllciwgc2tpbGwpO1xuICAgICAgICBjb25zdCBkdXJhdGlvbiA9IFNraWxsR2V0TW9kaWZpZXJEdXJhdGlvbihQbGF5ZXIsIHNraWxsKSAhPT0gMCA/IFNraWxsR2V0TW9kaWZpZXJEdXJhdGlvbihQbGF5ZXIsIHNraWxsKSA6IHNraWxsRHVyYXRpb25NUztcbiAgICAgICAgaWYgKGFmZmVjdGlvbk1vZGlmaWVyID4gMCAmJiBQbGF5ZXJWUEMoKS5hZmZlY3Rpb25Ta2lsbEJ1ZmZzKVxuICAgICAgICB7XG4gICAgICAgICAgICBTa2lsbFNldE1vZGlmaWVyKFBsYXllciwgc2tpbGwsIHByZXZNb2QgKyBhZmZlY3Rpb25Nb2RpZmllciwgZHVyYXRpb24sIGZhbHNlKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoYWZmZWN0aW9uTW9kaWZpZXIgPCAwICYmIFBsYXllclZQQygpLmFmZmVjdGlvblNraWxsRGVidWZmcylcbiAgICAgICAge1xuICAgICAgICAgICAgU2tpbGxTZXRNb2RpZmllcihQbGF5ZXIsIHNraWxsLCBwcmV2TW9kICsgYWZmZWN0aW9uTW9kaWZpZXIsIGR1cmF0aW9uLCBmYWxzZSk7XG4gICAgICAgIH1cbiAgICB9KTtcbn1cblxuY29uc3QgTUFYX1NMT1dfTEVBVkVfRFVSQVRJT05fU0VDID0gMjU7XG5jb25zdCBTTE9XX0xFQVZFX0xFVkVMX1NUQVJUID0gMC4zO1xuXG5leHBvcnQgY2xhc3MgVmlydHVhbFBldENvbmRpdGlvbnNNb2R1bGUgZXh0ZW5kcyBNb2R1bGVcbntcbiAgICBnZXQgVGl0bGUoKTogTW9kdWxlVGl0bGVcbiAgICB7XG4gICAgICAgIHJldHVybiBNb2R1bGVUaXRsZS5WaXJ0dWFsUGV0Q29uZGl0aW9ucztcbiAgICB9XG5cbiAgICBnZXQgU2V0dGluZ3MoKTogU2V0dGluZ1tdXG4gICAge1xuICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIG5hbWU6IFwiZW5hYmxlZFwiLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwiY2hlY2tib3hcIixcbiAgICAgICAgICAgICAgICBhY3RpdmU6IChDKSA9PiAhIVBsYXllclZQKEMpLmVuYWJsZWQgJiYgIUlzSGFyZGNvcmVPbihDKSxcbiAgICAgICAgICAgICAgICB2YWx1ZTogZmFsc2UsXG4gICAgICAgICAgICAgICAgbGFiZWw6IFwiUmVjaXZlIGNvbmRpdGlvbnMgYmFzZWQgb24gY3VycmVudCBsZXZlbCBvZiB5b3VyIHZpcnR1YWwgcGV0IHN0YXRzXCJcbiAgICAgICAgICAgIH0gYXMgQ2hlY2tib3hTZXR0aW5nLCB7XG4gICAgICAgICAgICAgICAgbmFtZTogXCJmb29kTk9XXCIsXG4gICAgICAgICAgICAgICAgdHlwZTogXCJjaGVja2JveFwiLFxuICAgICAgICAgICAgICAgIGFjdGl2ZTogKEMpID0+ICEhUGxheWVyVlAoQykuZW5hYmxlZCAmJiAhIVBsYXllclZQQyhDKS5lbmFibGVkICYmICFJc0hhcmRjb3JlT24oQyksXG4gICAgICAgICAgICAgICAgdmFsdWU6IHRydWUsXG4gICAgICAgICAgICAgICAgbGFiZWw6IFwiRm9vZCBhbmQgd2F0ZXIgYWZmZWN0cyBhZmZlY3Rpb24gZ2FpblwiXG4gICAgICAgICAgICB9IGFzIENoZWNrYm94U2V0dGluZywge1xuICAgICAgICAgICAgICAgIG5hbWU6IFwidGludFwiLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwiY2hlY2tib3hcIixcbiAgICAgICAgICAgICAgICBhY3RpdmU6IChDKSA9PiAhIVBsYXllclZQKEMpLmVuYWJsZWQgJiYgISFQbGF5ZXJWUEMoQykuZW5hYmxlZCAmJiAhSXNIYXJkY29yZU9uKEMpLFxuICAgICAgICAgICAgICAgIHZhbHVlOiB0cnVlLFxuICAgICAgICAgICAgICAgIGxhYmVsOiBcIlZpc2lvbiBkYXJrZW5zIGFzIHlvdSBnZXQgc2xlZXBpZXJcIlxuICAgICAgICAgICAgfSBhcyBDaGVja2JveFNldHRpbmcsIHtcbiAgICAgICAgICAgICAgICBuYW1lOiBcInBhc3NvdXRcIixcbiAgICAgICAgICAgICAgICB0eXBlOiBcImNoZWNrYm94XCIsXG4gICAgICAgICAgICAgICAgYWN0aXZlOiAoQykgPT4gISFQbGF5ZXJWUChDKS5lbmFibGVkICYmICEhUGxheWVyVlBDKEMpLmVuYWJsZWQgJiYgIUlzSGFyZGNvcmVPbihDKSxcbiAgICAgICAgICAgICAgICB2YWx1ZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICBsYWJlbDogXCJQYXNzb3V0IHdoZW4gZXhoYXVzdGVkXCJcbiAgICAgICAgICAgIH0gYXMgQ2hlY2tib3hTZXR0aW5nLCAvKiB7XG4gICAgICAgICAgICAgICAgbmFtZTogXCJwYXNzb3V0TFNDR1wiLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwiY2hlY2tib3hcIixcbiAgICAgICAgICAgICAgICBhY3RpdmU6IChDKSA9PiAhIVBsYXllclZQKEMpLmVuYWJsZWQgJiYgISFQbGF5ZXJWUEMoQykuZW5hYmxlZCAmJiAhIVBsYXllclZQQyhDKS5wYXNzb3V0ICYmICEhQy5MU0NHICYmICFJc0hhcmRjb3JlT24oQykgJiYgZmFsc2UsXG4gICAgICAgICAgICAgICAgdmFsdWU6IGZhbHNlLFxuICAgICAgICAgICAgICAgIGxhYmVsOiBcIlVzZSBMU0NHIHBhc3NvdXQgaW5zdGVhZCBvZiBNUEE7IFJlcXVpcmVzIExTQ0dcIlxuICAgICAgICAgICAgfSBhcyBDaGVja2JveFNldHRpbmcsICovIHtcbiAgICAgICAgICAgICAgICBuYW1lOiBcImFmZmVjdGlvblNraWxsQnVmZnNcIixcbiAgICAgICAgICAgICAgICB0eXBlOiBcImNoZWNrYm94XCIsXG4gICAgICAgICAgICAgICAgYWN0aXZlOiAoQykgPT4gISFQbGF5ZXJWUChDKS5lbmFibGVkICYmICEhUGxheWVyVlBDKEMpLmVuYWJsZWQgJiYgIUlzSGFyZGNvcmVPbihDKSxcbiAgICAgICAgICAgICAgICB2YWx1ZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICBsYWJlbDogXCJBZmZlY3Rpb24gd2lsbCBidWZmIHNraWxscyBiYXNlZCBvbiBpdHMgbGV2ZWxcIlxuICAgICAgICAgICAgfSBhcyBDaGVja2JveFNldHRpbmcsIHtcbiAgICAgICAgICAgICAgICBuYW1lOiBcImFmZmVjdGlvblNraWxsRGVidWZmc1wiLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwiY2hlY2tib3hcIixcbiAgICAgICAgICAgICAgICBhY3RpdmU6IChDKSA9PiAhIVBsYXllclZQKEMpLmVuYWJsZWQgJiYgISFQbGF5ZXJWUEMoQykuZW5hYmxlZCAmJiAhSXNIYXJkY29yZU9uKEMpLFxuICAgICAgICAgICAgICAgIHZhbHVlOiB0cnVlLFxuICAgICAgICAgICAgICAgIGxhYmVsOiBcIkFmZmVjdGlvbiB3aWxsIGRlYnVmZiBza2lsbHMgYmFzZWQgb24gaXRzIGxldmVsXCJcbiAgICAgICAgICAgIH0gYXMgQ2hlY2tib3hTZXR0aW5nLCB7XG4gICAgICAgICAgICAgICAgbmFtZTogXCJoZWFyaW5nTG9zc1wiLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwiY2hlY2tib3hcIixcbiAgICAgICAgICAgICAgICBhY3RpdmU6IChDKSA9PiAhIVBsYXllclZQKEMpLmVuYWJsZWQgJiYgISFQbGF5ZXJWUEMoQykuZW5hYmxlZCAmJiAhSXNIYXJkY29yZU9uKEMpLFxuICAgICAgICAgICAgICAgIHZhbHVlOiB0cnVlLFxuICAgICAgICAgICAgICAgIGxhYmVsOiBcIkhlYXJpbmcgYmVjb21lcyBoYXJkZXIgdGhlIGh1bmdyaWVyIHlvdSBhcmVcIlxuICAgICAgICAgICAgfSBhcyBDaGVja2JveFNldHRpbmcsIHtcbiAgICAgICAgICAgICAgICBuYW1lOiBcInNsb3dMZWF2ZVwiLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwiY2hlY2tib3hcIixcbiAgICAgICAgICAgICAgICBhY3RpdmU6IChDKSA9PiAhIVBsYXllclZQKEMpLmVuYWJsZWQgJiYgISFQbGF5ZXJWUEMoQykuZW5hYmxlZCAmJiAhSXNIYXJkY29yZU9uKEMpLFxuICAgICAgICAgICAgICAgIHZhbHVlOiB0cnVlLFxuICAgICAgICAgICAgICAgIGxhYmVsOiBcIlRha2VzIGxvbmdlciB0byBsZWF2ZSB0aGUgcm9vbSB3aGVuIGh1bmdyeVwiXG4gICAgICAgICAgICB9IGFzIENoZWNrYm94U2V0dGluZ1xuICAgICAgICBdO1xuICAgIH1cblxuICAgIExvYWQoKTogdm9pZFxuICAgIHtcbiAgICAgICAgLy8gQ2hlY2sgZm9yIGNvbmRpdGlvbiBjaGFuZ2VzIGV2ZXJ5IHNvIG9mdGVuXG4gICAgICAgIEhvb2tGdW5jdGlvbih0aGlzLlRpdGxlLCBcIkdhbWVSdW5cIiwgMCwgKGFyZ3MsIG5leHQpID0+XG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmIChzdGF0Q291bnQgPj0gU1RBVF9DT1VOVF9NQVgpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgQ29uZGl0aW9uQ2hlY2soKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHN0YXRDb3VudCsrO1xuICAgICAgICAgICAgcmV0dXJuIG5leHQoYXJncyk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIEVlcHkgdGludFxuICAgICAgICBIb29rRnVuY3Rpb24odGhpcy5UaXRsZSwgXCJQbGF5ZXIuR2V0VGludHNcIiwgMCwgKGFyZ3MsIG5leHQpID0+XG4gICAgICAgIHtcbiAgICAgICAgICAgIC8vIE5vdCBlbmFibGVkLCBza2lwXG4gICAgICAgICAgICBpZiAoIUNvbmRpdGlvbklzRW5mb3JjZWQoXCJ0aW50XCIsIFNMRUVQX1RJTlQuc3RhdCkpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5leHQoYXJncyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbnN0IGN1cnJMZXZlbCA9IEdldENoYXJhY3RlckN1cnJlbnRTdGF0VmFsdWUoUGxheWVyLCBTTEVFUF9USU5ULnN0YXQpO1xuICAgICAgICAgICAgLy8gQ2FsY3VsYXRlIHRoZSBzY2FsZWQgdmFsdWVcbiAgICAgICAgICAgIGNvbnN0IHNjYWxlZFZhbHVlID0gKChjdXJyTGV2ZWwgLSBTTEVFUF9USU5ULnN0YXJ0TGV2ZWwpIC8gKFNMRUVQX1RJTlQuZW5kTGV2ZWwgLSBTTEVFUF9USU5ULnN0YXJ0TGV2ZWwpKSAqIChTTEVFUF9USU5ULm1heFRpbnQgLSBTTEVFUF9USU5ULm1pblRpbnQpICsgU0xFRVBfVElOVC5taW5UaW50O1xuICAgICAgICAgICAgaWYgKFNMRUVQX1RJTlQubWluVGludCA8PSBzY2FsZWRWYWx1ZSAmJiBzY2FsZWRWYWx1ZSA8PSBTTEVFUF9USU5ULm1heFRpbnQpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5leHQoYXJncykuY29uY2F0KHsgcjogMCwgZzogMCwgYjogMCwgYTogTWF0aC5zcXJ0KE1hdGgucm91bmQoc2NhbGVkVmFsdWUgKiAxMDAwKSAvIDEwMDApIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIG5leHQoYXJncyk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIEFkZCBjb25kaXRpb24gdHJpZ2dlcnNcbiAgICAgICAgb25TdGF0TGV2ZWwgPSBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgc3RhdDogXCJzbGVlcFwiLFxuICAgICAgICAgICAgICAgIHRocmVzaGhvbGQ6IDAsXG4gICAgICAgICAgICAgICAgY2hhbmdlOiBcImZhbGxpbmdcIixcbiAgICAgICAgICAgICAgICBhY3Rpb246IGZ1bmN0aW9uICgpOiB2b2lkXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBNUEFQYXNzb3V0KCk7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBmaXJzdFJ1bjogZnVuY3Rpb24gKCk6IHZvaWRcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChHZXRDaGFyYWN0ZXJDdXJyZW50U3RhdFZhbHVlKFBsYXllciwgXCJzbGVlcFwiKSA9PT0gMClcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgTVBBUGFzc291dCgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgIHN0YXQ6IFwic2xlZXBcIixcbiAgICAgICAgICAgICAgICB0aHJlc2hob2xkOiAwLjEsXG4gICAgICAgICAgICAgICAgY2hhbmdlOiBcInJpc2luZ1wiLFxuICAgICAgICAgICAgICAgIGFjdGlvbjogZnVuY3Rpb24gKCk6IHZvaWRcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChwYXNzZWRPdXQpXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIE1QQVdha2V1cCgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICBdO1xuICAgICAgICAvLyBFZXB5XG5cbiAgICAgICAgLy8gUGFzc291dCBIb29rc1xuICAgICAgICBIb29rRnVuY3Rpb24odGhpcy5UaXRsZSwgXCJQbGF5ZXIuQ2FuVGFsa1wiLCA1LCAoYXJncywgbmV4dCkgPT5cbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuIFBhc3NvdXRDaGVjaygpID8gZmFsc2UgOiBuZXh0KGFyZ3MpO1xuICAgICAgICB9KTtcbiAgICAgICAgSG9va0Z1bmN0aW9uKHRoaXMuVGl0bGUsIFwiUGxheWVyLkNhbldhbGtcIiwgNSwgKGFyZ3MsIG5leHQpID0+XG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybiBQYXNzb3V0Q2hlY2soKSA/IGZhbHNlIDogbmV4dChhcmdzKTtcbiAgICAgICAgfSk7XG4gICAgICAgIEhvb2tGdW5jdGlvbih0aGlzLlRpdGxlLCBcIlBsYXllci5DYW5DaGFuZ2VPd25DbG90aGVzXCIsIDUsIChhcmdzLCBuZXh0KSA9PlxuICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm4gUGFzc291dENoZWNrKCkgPyBmYWxzZSA6IG5leHQoYXJncyk7XG4gICAgICAgIH0pO1xuICAgICAgICBIb29rRnVuY3Rpb24odGhpcy5UaXRsZSwgXCJQbGF5ZXIuQ2FuSW50ZXJhY3RcIiwgNSwgKGFyZ3MsIG5leHQpID0+XG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybiBQYXNzb3V0Q2hlY2soKSA/IGZhbHNlIDogbmV4dChhcmdzKTtcbiAgICAgICAgfSk7XG4gICAgICAgIEhvb2tGdW5jdGlvbih0aGlzLlRpdGxlLCBcIlNlcnZlclNlbmRcIiwgNSwgKGFyZ3MsIG5leHQpID0+XG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmICghUGFzc291dENoZWNrKCkpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5leHQoYXJncyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbnN0IFt0eXBlLCBkYXRhXSA9IGFyZ3MgYXMgW3N0cmluZywgU2VydmVyQ2hhdFJvb21NZXNzYWdlXTtcbiAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICB0eXBlID09IFwiQ2hhdFJvb21DaGF0XCJcbiAgICAgICAgICAgICAgICAmJiBkYXRhPy5UeXBlID09IFwiQ2hhdFwiXG4gICAgICAgICAgICAgICAgJiYgIWRhdGE/LkNvbnRlbnQuc3RhcnRzV2l0aChcIihcIilcbiAgICAgICAgICAgIClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBTZW5kQWN0aW9uKFJhbmRvbUVsZW1lbnQoUEFTU09VVF9UQUxLX1JFUExBQ0UpIGFzIHN0cmluZywgdW5kZWZpbmVkLCBbeyBTb3VyY2VDaGFyYWN0ZXI6IFBsYXllci5NZW1iZXJOdW1iZXIgfSBhcyBTb3VyY2VDaGFyYWN0ZXJEaWN0aW9uYXJ5RW50cnldKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBuZXh0KGFyZ3MpO1xuICAgICAgICB9KTtcbiAgICAgICAgSG9va0Z1bmN0aW9uKHRoaXMuVGl0bGUsIFwiUGxheWVyLkdldERlYWZMZXZlbFwiLCA1LCAoYXJncywgbmV4dCkgPT5cbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuIFBhc3NvdXRDaGVjaygpID8gNCA6IG5leHQoYXJncyk7XG4gICAgICAgIH0pO1xuICAgICAgICBIb29rRnVuY3Rpb24odGhpcy5UaXRsZSwgXCJQbGF5ZXIuR2V0QmxpbmRMZXZlbFwiLCA1LCAoYXJncywgbmV4dCkgPT5cbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuIFBhc3NvdXRDaGVjaygpID8gKFBsYXllci5HYW1lcGxheVNldHRpbmdzPy5TZW5zRGVwQ2hhdExvZyA9PT0gXCJTZW5zRGVwRXh0cmVtZVwiIHx8IFBsYXllci5HYW1lcGxheVNldHRpbmdzPy5TZW5zRGVwQ2hhdExvZyA9PT0gXCJTZW5zRGVwVG90YWxcIikgPyAzIDogMiA6IG5leHQoYXJncyk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIENhbid0IGZvY3VzIHdoaWxlIGh1bmdyeSAoZGVhZilcbiAgICAgICAgSG9va0Z1bmN0aW9uKHRoaXMuVGl0bGUsIFwiUGxheWVyLkdldERlYWZMZXZlbFwiLCA1LCAoYXJncywgbmV4dCkgPT5cbiAgICAgICAge1xuICAgICAgICAgICAgY29uc3QgZGVhZkxldmVsID0gQ29uZGl0aW9uSXNFbmZvcmNlZChcImhlYXJpbmdMb3NzXCIsIFwiZm9vZFwiKSA/IE1hdGgubWF4KDAsIE1hdGguZmxvb3IoKEdldENoYXJhY3RlckN1cnJlbnRTdGF0VmFsdWUoUGxheWVyLCBcImZvb2RcIikgLSAwLjMwMDEpICogLTEwKSkgOiAwO1xuICAgICAgICAgICAgcmV0dXJuIE1hdGgubWF4KGRlYWZMZXZlbCwgbmV4dChhcmdzKSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIEFmZmVjdGlvbiBhZmZlY3Qgc2tpbGxzXG4gICAgICAgIGlmIChTa2lsbE1vZGlmaWVyTWF4IDwgMTApXG4gICAgICAgIHtcbiAgICAgICAgICAgIFNraWxsTW9kaWZpZXJNYXggPSAxMDtcbiAgICAgICAgfVxuICAgICAgICBBZmZlY3Rpb25Ta2lsbENoZWNrKCk7XG4gICAgICAgIGFmZmVjdGlvbkNoZWNrSW50ZXJ2YWwgPSBzZXRJbnRlcnZhbChBZmZlY3Rpb25Ta2lsbENoZWNrLCBza2lsbER1cmF0aW9uTVMgKyAxMDAwKTtcblxuICAgICAgICAvLyBTbG93IGxlYXZlXG4gICAgICAgIEhvb2tGdW5jdGlvbih0aGlzLlRpdGxlLCBcIkNoYXRSb29tQXR0ZW1wdExlYXZlXCIsIDAsIChhcmdzLCBuZXh0KSA9PlxuICAgICAgICB7XG4gICAgICAgICAgICBpZiAoIUNvbmRpdGlvbklzRW5mb3JjZWQoXCJzbG93TGVhdmVcIiwgXCJmb29kXCIpKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHJldHVybiBuZXh0KGFyZ3MpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjb25zdCBwcmV2U2xvdyA9IENoYXRSb29tU2xvd3RpbWVyO1xuICAgICAgICAgICAgY29uc3QgY3VyckZvb2QgPSBHZXRDaGFyYWN0ZXJDdXJyZW50U3RhdFZhbHVlKFBsYXllciwgXCJmb29kXCIpO1xuICAgICAgICAgICAgbmV4dChhcmdzKTtcbiAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICBwcmV2U2xvdyA9PT0gMFxuICAgICAgICAgICAgICAgICYmIENoYXRSb29tU2xvd3RpbWVyID4gMFxuICAgICAgICAgICAgICAgICYmIGN1cnJGb29kIDw9IFNMT1dfTEVBVkVfTEVWRUxfU1RBUlRcbiAgICAgICAgICAgIClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBjb25zdCBzbG93ZWRTcGVlZCA9ICgoKC1NQVhfU0xPV19MRUFWRV9EVVJBVElPTl9TRUMgLyBTTE9XX0xFQVZFX0xFVkVMX1NUQVJUKSAqIGN1cnJGb29kKSArIE1BWF9TTE9XX0xFQVZFX0RVUkFUSU9OX1NFQykgKiAxMDAwO1xuICAgICAgICAgICAgICAgIENoYXRSb29tU2xvd3RpbWVyID0gQ3VycmVudFRpbWUgKyBDaGF0Um9vbVNsb3dMZWF2ZU1pblRpbWUgKyBzbG93ZWRTcGVlZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIEhvb2tGdW5jdGlvbih0aGlzLlRpdGxlLCBcIlBsYXllci5Jc1Nsb3dcIiwgMCwgKGFyZ3MsIG5leHQpID0+XG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybiAoQ29uZGl0aW9uSXNFbmZvcmNlZChcInNsb3dMZWF2ZVwiLCBcImZvb2RcIikgJiYgR2V0Q2hhcmFjdGVyQ3VycmVudFN0YXRWYWx1ZShQbGF5ZXIsIFwiZm9vZFwiKSA8PSBTTE9XX0xFQVZFX0xFVkVMX1NUQVJUKSA/IHRydWUgOiBuZXh0KGFyZ3MpO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBVbmxvYWQoKTogdm9pZFxuICAgIHtcbiAgICAgICAgc3VwZXIuVW5sb2FkKCk7XG4gICAgICAgIG9uU3RhdExldmVsID0gW107XG4gICAgICAgIGNsZWFySW50ZXJ2YWwoYWZmZWN0aW9uQ2hlY2tJbnRlcnZhbCk7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgSG9va0Z1bmN0aW9uIH0gZnJvbSBcIi4uL3V0aWwvc2RrXCI7XG5pbXBvcnQgeyBJc01lbWJlck51bWJlckluQXV0aEdyb3VwIH0gZnJvbSBcIi4uL3V0aWwvYXV0aG9yaXR5XCI7XG5pbXBvcnQgeyBNb2R1bGUsIE1vZHVsZVRpdGxlIH0gZnJvbSBcIi4vX21vZHVsZVwiO1xuaW1wb3J0IHsgR2V0Q2hhcmFjdGVyQ3VycmVudFN0YXRWYWx1ZSwgVmlydHVhbFBldFN0YXRDYXRlZ29yeSwgdHlwZSBWaXJ0dWFsUGV0U3RhdCB9IGZyb20gXCIuL3ZpcnR1YWxQZXRcIjtcblxuY29uc3QgUGxheWVyVlA6ICgpID0+IE1QQVJlY29yZCA9ICgpID0+XG57XG4gICAgcmV0dXJuIFBsYXllci5NUEFbTW9kdWxlVGl0bGUuVmlydHVhbFBldF07XG59O1xuY29uc3QgUGxheWVyVlBIVUQ6ICgpID0+IE1QQVJlY29yZCA9ICgpID0+XG57XG4gICAgcmV0dXJuIFBsYXllci5NUEFbTW9kdWxlVGl0bGUuVmlydHVhbFBldEhVRF07XG59O1xuXG5jb25zdCBWUF9TVEFUX0NPTE9SX0RJQ1QgPSB7XG4gICAgZm9vZDogXCIjZjJiYjE4XCIsXG4gICAgd2F0ZXI6IFwiIzJhOWZjM1wiLFxuICAgIHNsZWVwOiBcIiM4ZDJhZWVcIixcbiAgICBhZmZlY3Rpb246IFwiI2ZmNzhmMlwiXG59O1xuXG5mdW5jdGlvbiBEcmF3U3RhdENpcmNsZSh4OiBudW1iZXIsIHk6IG51bWJlciwgcmFkaXVzOiBudW1iZXIsIHN0YXQ6IFZpcnR1YWxQZXRTdGF0KTogdm9pZFxue1xuICAgIGNvbnN0IGNvbG9yID0gVlBfU1RBVF9DT0xPUl9ESUNUW3N0YXQuc3RhdF07XG5cbiAgICAvLyBPdXRlciBjaXJjbGVcbiAgICBNYWluQ2FudmFzLmJlZ2luUGF0aCgpO1xuICAgIE1haW5DYW52YXMuYXJjKFxuICAgICAgICB4LFxuICAgICAgICB5LFxuICAgICAgICByYWRpdXMsXG4gICAgICAgIDAsXG4gICAgICAgIDIgKiBNYXRoLlBJLFxuICAgICAgICB0cnVlXG4gICAgKTtcbiAgICBNYWluQ2FudmFzLmxpbmVXaWR0aCA9IHJhZGl1cyAvIDg7XG4gICAgTWFpbkNhbnZhcy5zdHJva2VTdHlsZSA9IGNvbG9yO1xuICAgIE1haW5DYW52YXMuc3Ryb2tlKCk7XG5cbiAgICAvLyBJbm5lciBhcmNcbiAgICBNYWluQ2FudmFzLmJlZ2luUGF0aCgpO1xuICAgIE1haW5DYW52YXMuYXJjKFxuICAgICAgICB4LFxuICAgICAgICB5LFxuICAgICAgICByYWRpdXMsXG4gICAgICAgIC1NYXRoLlBJIC8gMixcbiAgICAgICAgKDIgKiBNYXRoLlBJICogLXN0YXQubGV2ZWwpIC0gKE1hdGguUEkgLyAyKSxcbiAgICAgICAgdHJ1ZVxuICAgICk7XG4gICAgTWFpbkNhbnZhcy5saW5lVG8oeCwgeSk7XG4gICAgTWFpbkNhbnZhcy5maWxsU3R5bGUgPSBjb2xvcjtcbiAgICBNYWluQ2FudmFzLmZpbGwoKTtcblxuICAgIC8vIERpc3BsYXkgdGhlIHRleHRcbiAgICBpZiAoUGxheWVyVlBIVUQoKS5leGFjdFN0YXRzKVxuICAgIHtcbiAgICAgICAgTWFpbkNhbnZhcy5maWxsU3R5bGUgPSBcIiMwMDAwMDBcIjtcbiAgICAgICAgTWFpbkNhbnZhcy5mb250ID0gQ29tbW9uR2V0Rm9udChyYWRpdXMgKiAxLjI1KTtcbiAgICAgICAgTWFpbkNhbnZhcy5maWxsVGV4dChNYXRoLnJvdW5kKHN0YXQubGV2ZWwgKiAxMDApLnRvU3RyaW5nKCksIHgsIHkgKyAocmFkaXVzICogMC4xMjUpKTtcbiAgICAgICAgLy8gRGVmYXVsdCBzaXplLCBpZGsgaWYgbmVlZGVkIGJ1dCBjYW4ndCBodXJ0XG4gICAgICAgIE1haW5DYW52YXMuZm9udCA9IENvbW1vbkdldEZvbnQoMzYpO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gRHJhd1ZpcnVhbFBldEh1ZCh4OiBudW1iZXIsIHk6IG51bWJlciwgem9vbTogbnVtYmVyLCBzdGF0czogVmlydHVhbFBldFN0YXRbXSk6IHZvaWRcbntcbiAgICBjb25zdCBwb3M6IFwiTGVmdFwiIHwgXCJDZW50ZXJcIiB8IFwiUmlnaHRcIiB8IFwiU3BsaXRcIiA9IFBsYXllclZQSFVEKCkucG9zaXRpb247XG4gICAgaWYgKHBvcyA9PT0gXCJMZWZ0XCIgfHwgcG9zID09PSBcIlJpZ2h0XCIpXG4gICAge1xuICAgICAgICBzdGF0cy5yZXZlcnNlKCk7XG4gICAgICAgIHN0YXRzLmZvckVhY2goKHN0YXQsIGluZGV4KSA9PlxuICAgICAgICB7XG4gICAgICAgICAgICBEcmF3U3RhdENpcmNsZShcbiAgICAgICAgICAgICAgICB4ICsgKChwb3MgPT09IFwiTGVmdFwiID8gODAgOiA0MjApICogem9vbSksXG4gICAgICAgICAgICAgICAgeSArICg5NTAgLSAoaW5kZXggKiAzNikpICogem9vbSxcbiAgICAgICAgICAgICAgICAxNiAqIHpvb20sXG4gICAgICAgICAgICAgICAgc3RhdFxuICAgICAgICAgICAgKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGVsc2UgaWYgKHBvcyA9PT0gXCJDZW50ZXJcIilcbiAgICB7XG4gICAgICAgIGNvbnN0IHN0YXRMZW4gPSBzdGF0cy5sZW5ndGg7XG4gICAgICAgIHN0YXRzLmZvckVhY2goKHN0YXQsIGluZGV4KSA9PlxuICAgICAgICB7XG4gICAgICAgICAgICBEcmF3U3RhdENpcmNsZShcbiAgICAgICAgICAgICAgICB4ICsgKDI1MCAtICgoc3RhdExlbiAtIDEpICogMTgpICsgKGluZGV4ICogMzYpKSAqIHpvb20sXG4gICAgICAgICAgICAgICAgeSArICg5NTAgKiB6b29tKSxcbiAgICAgICAgICAgICAgICAxNiAqIHpvb20sXG4gICAgICAgICAgICAgICAgc3RhdFxuICAgICAgICAgICAgKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8vIFByb2JhYmx5IGEgYmV0dGVyIHdheSB0byBkbyB0aGlzLCBidXQgSSBkb24ndCBjYXJlLiBJdCB3b3JrcyB0aGF0cyBhbGwgSSBuZWVkLlxuICAgIGVsc2UgaWYgKHBvcyA9PT0gXCJTcGxpdFwiKVxuICAgIHtcbiAgICAgICAgY29uc3QgY29sczogVmlydHVhbFBldFN0YXRbXVtdID0gW107XG4gICAgICAgIHN3aXRjaCAoc3RhdHMubGVuZ3RoKVxuICAgICAgICB7XG4gICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgY29scy5wdXNoKFtzdGF0c1swXV0pO1xuICAgICAgICAgICAgICAgIGNvbHMucHVzaChbXSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgY29scy5wdXNoKFtzdGF0c1swXV0pO1xuICAgICAgICAgICAgICAgIGNvbHMucHVzaChbc3RhdHNbMV1dKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgICBjb2xzLnB1c2goW3N0YXRzWzFdLCBzdGF0c1swXV0pO1xuICAgICAgICAgICAgICAgIGNvbHMucHVzaChbc3RhdHNbMl1dKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgNDpcbiAgICAgICAgICAgICAgICBjb2xzLnB1c2goW3N0YXRzWzFdLCBzdGF0c1swXV0pO1xuICAgICAgICAgICAgICAgIGNvbHMucHVzaChbc3RhdHNbM10sIHN0YXRzWzJdXSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICB9XG4gICAgICAgIGNvbHMuZm9yRWFjaCgoY29sLCBpbmRleCkgPT5cbiAgICAgICAge1xuICAgICAgICAgICAgY29sLmZvckVhY2goKHN0YXQsIHN0YXRJbmRleCkgPT5cbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBEcmF3U3RhdENpcmNsZShcbiAgICAgICAgICAgICAgICAgICAgeCArICgoaW5kZXggPT0gMCA/IDgwIDogNDIwKSAqIHpvb20pLFxuICAgICAgICAgICAgICAgICAgICB5ICsgKDk1MCAtIChzdGF0SW5kZXggKiAzNikpICogem9vbSxcbiAgICAgICAgICAgICAgICAgICAgMTYgKiB6b29tLFxuICAgICAgICAgICAgICAgICAgICBzdGF0XG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9XG59XG5cbmV4cG9ydCBjbGFzcyBWaXJ0dWFsUGV0SFVETW9kdWxlIGV4dGVuZHMgTW9kdWxlXG57XG4gICAgZ2V0IFRpdGxlKCk6IE1vZHVsZVRpdGxlXG4gICAge1xuICAgICAgICByZXR1cm4gTW9kdWxlVGl0bGUuVmlydHVhbFBldEhVRDtcbiAgICB9XG5cbiAgICBnZXQgU2V0dGluZ3MoKTogU2V0dGluZ1tdXG4gICAge1xuICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIG5hbWU6IFwic2VsZlwiLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwiY2hlY2tib3hcIixcbiAgICAgICAgICAgICAgICBhY3RpdmU6ICgpID0+ICEhUGxheWVyVlAoKS5lbmFibGVkLFxuICAgICAgICAgICAgICAgIHZhbHVlOiB0cnVlLFxuICAgICAgICAgICAgICAgIGxhYmVsOiBcIkRpc3BsYXkgeW91ciBvd24gdmlydHVhbCBwZXQgc3RhdHMgb24gdGhlIEhVRFwiXG4gICAgICAgICAgICB9IGFzIENoZWNrYm94U2V0dGluZywge1xuICAgICAgICAgICAgICAgIG5hbWU6IFwiZXhhY3RTdGF0c1wiLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwiY2hlY2tib3hcIixcbiAgICAgICAgICAgICAgICBhY3RpdmU6ICgpID0+ICEhUGxheWVyVlAoKS5lbmFibGVkIHx8IFBsYXllclZQSFVEKCkub3RoZXJzICE9PSBcIk9mZlwiLFxuICAgICAgICAgICAgICAgIHZhbHVlOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBsYWJlbDogXCJEaXNwbGF5IHRoZSBleGFjdCBudW1iZXIgcGVyY2VudGFnZSBvbiB0aGUgSFVEXCJcbiAgICAgICAgICAgIH0gYXMgQ2hlY2tib3hTZXR0aW5nLCB7XG4gICAgICAgICAgICAgICAgbmFtZTogXCJwb3NpdGlvblwiLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwib3B0aW9uXCIsXG4gICAgICAgICAgICAgICAgYWN0aXZlOiAoKSA9PiAhIVBsYXllclZQKCkuZW5hYmxlZCB8fCBQbGF5ZXJWUEhVRCgpLm90aGVycyAhPT0gXCJPZmZcIixcbiAgICAgICAgICAgICAgICBvcHRpb25zOiBbXCJMZWZ0XCIsIFwiQ2VudGVyXCIsIFwiUmlnaHRcIiwgXCJTcGxpdFwiXSxcbiAgICAgICAgICAgICAgICB2YWx1ZTogXCJMZWZ0XCIsXG4gICAgICAgICAgICAgICAgbGFiZWw6IFwiV2hlcmUgdG8gZGlzcGxheSB0aGUgSFVEXCIsXG4gICAgICAgICAgICAgICAgbG9vcDogdHJ1ZVxuICAgICAgICAgICAgfSBhcyBPcHRpb25TZXR0aW5nLCB7XG4gICAgICAgICAgICAgICAgbmFtZTogXCJvdGhlcnNcIixcbiAgICAgICAgICAgICAgICB0eXBlOiBcIm9wdGlvblwiLFxuICAgICAgICAgICAgICAgIGFjdGl2ZTogKCkgPT4gdHJ1ZSxcbiAgICAgICAgICAgICAgICBvcHRpb25zOiBbXCJPZmZcIiwgXCJQdWJsaWNcIiwgXCJGcmllbmRzXCIsIFwiV2hpdGVsaXN0XCIsIFwiTG92ZXJzXCIsIFwiT3duZXJzXCIsIFwiRC9zIEZhbWlseVwiLCBcIkNsdWJvd25lclwiXSxcbiAgICAgICAgICAgICAgICB2YWx1ZTogXCJGcmllbmRzXCIsXG4gICAgICAgICAgICAgICAgbGFiZWw6IFwiRGlzcGxheSB0aGUgdmlydHVhbCBwZXQgc3RhdHMgb2Ygb3RoZXJzIG9uIHRoZSBIVURcIixcbiAgICAgICAgICAgICAgICBsb29wOiBmYWxzZVxuICAgICAgICAgICAgfSBhcyBPcHRpb25TZXR0aW5nXG4gICAgICAgIF07XG4gICAgfVxuXG4gICAgTG9hZCgpOiB2b2lkXG4gICAge1xuICAgICAgICBIb29rRnVuY3Rpb24odGhpcy5UaXRsZSwgXCJEcmF3QXJvdXNhbE1ldGVyXCIsIDEsIChhcmdzLCBuZXh0KSA9PlxuICAgICAgICB7XG4gICAgICAgICAgICBjb25zdCBbY2hhcmFjdGVyLCB4LCB5LCB6b29tXSA9IGFyZ3M7XG4gICAgICAgICAgICAvLyBHZXQgY2hhcmFjdGVyIHN0YXRzIHdoZW4gc3VwcG9ydCBmb3IgbXVsdHBsYXllclxuICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICFBY3Rpdml0eUFsbG93ZWQoKVxuICAgICAgICAgICAgICAgIHx8IChjaGFyYWN0ZXIuSXNQbGF5ZXIoKSAmJiAoIVBsYXllclZQSFVEKCkuc2VsZiB8fCAhUGxheWVyVlAoKS5lbmFibGVkKSlcbiAgICAgICAgICAgICAgICB8fCAoIWNoYXJhY3Rlci5Jc1BsYXllcigpICYmIFBsYXllclZQSFVEKCkub3RoZXJzID09PSBcIk9mZlwiKVxuICAgICAgICAgICAgICAgIHx8ICghY2hhcmFjdGVyLklzUGxheWVyKCkgJiYgIUlzTWVtYmVyTnVtYmVySW5BdXRoR3JvdXAoY2hhcmFjdGVyLk1lbWJlck51bWJlciBhcyBudW1iZXIsIFBsYXllclZQSFVEKCkub3RoZXJzKSlcbiAgICAgICAgICAgIClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV4dChhcmdzKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gR2V0IHRoZSBzdGF0cyBmb3IgdGhlIGNoYXJhY3Rlciwgbm90IGp1c3QgdGhlIHBsYXllclxuICAgICAgICAgICAgY29uc3QgY2hhcmFjdGVyVlBTdGF0cyA9IGNoYXJhY3Rlcj8uTVBBPy5bTW9kdWxlVGl0bGUuVmlydHVhbFBldF07XG4gICAgICAgICAgICBpZiAoIWNoYXJhY3RlclZQU3RhdHM/LmVuYWJsZWQpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5leHQoYXJncyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbnN0IHN0YXRzOiBWaXJ0dWFsUGV0U3RhdFtdID0gW107XG4gICAgICAgICAgICAoW1wiZm9vZFwiLCBcIndhdGVyXCIsIFwic2xlZXBcIiwgXCJhZmZlY3Rpb25cIl0gYXMgVmlydHVhbFBldFN0YXRDYXRlZ29yeVtdKS5mb3JFYWNoKChzdGF0KSA9PlxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGlmIChjaGFyYWN0ZXJWUFN0YXRzW2Ake3N0YXR9SG91cnNgXSAhPT0gMClcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHN0YXRzLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICAgICAgc3RhdDogc3RhdCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldmVsOiBHZXRDaGFyYWN0ZXJDdXJyZW50U3RhdFZhbHVlKGNoYXJhY3Rlciwgc3RhdClcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBpZiAoc3RhdHMubGVuZ3RoICE9PSAwKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIERyYXdWaXJ1YWxQZXRIdWQoeCwgeSwgem9vbSwgc3RhdHMpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gbmV4dChhcmdzKTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgVW5sb2FkKCk6IHZvaWRcbiAgICB7XG4gICAgICAgIHN1cGVyLlVubG9hZCgpO1xuICAgIH1cbn1cbiIsImltcG9ydCB7IExvY2FsaXplZFRleHQgfSBmcm9tIFwiLi4vbG9jYWxpemF0aW9uL2xvY2FsaXphdGlvblwiO1xuXG50eXBlIE5ld1ByZXJlcXVpc2l0ZXMgPSBcIkhvbGRpbmdDbGlja2VyXCIgfCBcIkhhc0Jvd2xcIiB8IFwiVXNlVG9uZ3VlTm9Nb3V0aFwiO1xuXG4vKiogU3RvcmVzIHRoZSBhY3Rpdml0eSBuYW1lIGFuZCB0aGUgaW1hZ2UgbG9jYXRpb24gb3IgYmFzZSA2NCBpbWFnZSBmb3IgdGhhdCBhY3Rpdml0eSAqL1xuZXhwb3J0IGNvbnN0IGFjdGl2aXR5SW1hZ2VzOiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+ID0ge307XG4vKiogV2hlbiBhbiBhY3Rpdml0eSBoYXBwZW5zLCBydW4gdGhpcyBjYWxsYmFjayBmdW5jdGlvbiAqL1xuZXhwb3J0IGNvbnN0IGFjdGl2aXR5VHJpZ2dlcnM6IFJlY29yZDxzdHJpbmcsIEFjaXRpdml0eVRyaWdnZXI+ID0ge307XG4vKiogQ3VzdG9tIHByZXJlcXVpc2l0ZXMgZm9yIGFjdGl2aXRpZXMgKi9cbmV4cG9ydCBjb25zdCBhY3Rpdml0eVByZXJlcXVpc2l0ZXM6IFJlY29yZDxOZXdQcmVyZXF1aXNpdGVzLCBQcmVyZXF1aXNpdGU+ID1cbntcbiAgICBIb2xkaW5nQ2xpY2tlcjogKGFjdGluZywgX2FjdGVkLCBfZ3JvdXApID0+XG4gICAge1xuICAgICAgICByZXR1cm4gSW52ZW50b3J5R2V0KGFjdGluZywgXCJJdGVtSGFuZGhlbGRcIik/LkFzc2V0Py5OYW1lPy50b0xvY2FsZUxvd2VyQ2FzZSgpPy5pbmNsdWRlcyhcInJlbW90ZVwiKSA/PyBmYWxzZTtcbiAgICB9LFxuICAgIEhhc0Jvd2w6IChhY3RpbmcsIF9hY3RlZCwgX2dyb3VwKSA9PlxuICAgIHtcbiAgICAgICAgcmV0dXJuIEludmVudG9yeUdldChhY3RpbmcsIFwiSXRlbURldmljZXNcIik/LkFzc2V0Py5OYW1lID09PSBcIlBldEJvd2xcIjtcbiAgICB9LFxuICAgIFVzZVRvbmd1ZU5vTW91dGg6IChhY3RpbmcsIF9hY3RlZCwgX2dyb3VwKSA9PlxuICAgIHtcbiAgICAgICAgcmV0dXJuICFhY3RpbmcuQ2FuVGFsaygpICYmICFhY3RpbmcuSXNNb3V0aEJsb2NrZWQoKTtcbiAgICB9XG59O1xuXG4vKipcbiAqIENyZWF0ZSBhIG5ldyBjdXN0b20gYWN0aXZpdHkgZm9yIHRoZSBQbGF5ZXIgdG8gdXNlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBDcmVhdGVBY3Rpdml0eShjdXN0b21BY3Rpdml0eTogQ3VzdG9tQWN0aXZpdHkpOiB2b2lkXG57XG4gICAgLy8gQ3JlYXRlIHRoZSBhY3Rpdml0eSBCQyB1c2VzXG4gICAgY29uc3QgYWN0aXZpdHk6IEFjdGl2aXR5ID0ge1xuICAgICAgICBOYW1lOiBgTVBBXyR7Y3VzdG9tQWN0aXZpdHkuTmFtZX1gIGFzIEFjdGl2aXR5TmFtZSxcbiAgICAgICAgQWN0aXZpdHlJRDogTWF0aC5tYXgoLi4uQWN0aXZpdHlGZW1hbGUzRENHLm1hcCgoeCkgPT4geC5BY3Rpdml0eUlEID8/IC0xKSkgKyAxLFxuICAgICAgICBNYXhQcm9ncmVzczogY3VzdG9tQWN0aXZpdHkuTWF4UHJvZ3Jlc3MgPz8gNTAsXG4gICAgICAgIC8vIE1heFByb2dyZXNzU2VsZjogY3VzdG9tQWN0aXZpdHkuTWF4UHJvZ3Jlc3NTZWxmID8/IGN1c3RvbUFjdGl2aXR5Lk1heFByb2dyZXNzLFxuICAgICAgICBQcmVyZXF1aXNpdGU6IGN1c3RvbUFjdGl2aXR5LlByZXJlcXVpc2l0ZSxcbiAgICAgICAgVGFyZ2V0OiBbXVxuICAgIH07XG5cbiAgICAvLyBUaGUgbG9va3VwIHRhYmxlIGZvciB0aGUgYWN0aXZpdHlcbiAgICBjdXN0b21BY3Rpdml0eS5UYXJnZXRzLmZvckVhY2goKHRhcmdldCkgPT5cbiAgICB7XG4gICAgICAgIC8vIEFjaXRpdml0eSBjYW4gYmUgdXNlZCBvbiBzZWxmXG4gICAgICAgIGlmICh0YXJnZXQuYWN0aW9uU2VsZilcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKCFhY3Rpdml0eS5UYXJnZXRTZWxmKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGFjdGl2aXR5LlRhcmdldFNlbGYgPSBbXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIChhY3Rpdml0eS5UYXJnZXRTZWxmIGFzIEFzc2V0R3JvdXBJdGVtTmFtZVtdKT8ucHVzaCh0YXJnZXQuZ3JvdXApO1xuICAgICAgICAgICAgQWN0aXZpdHlEaWN0aW9uYXJ5Py5wdXNoKFtgTGFiZWwtQ2hhdFNlbGYtJHt0YXJnZXQuZ3JvdXB9LSR7YWN0aXZpdHkuTmFtZX1gLCBMb2NhbGl6ZWRUZXh0KHRhcmdldC5sYWJlbCldKTtcbiAgICAgICAgICAgIEFjdGl2aXR5RGljdGlvbmFyeT8ucHVzaChbYENoYXRTZWxmLSR7dGFyZ2V0Lmdyb3VwfS0ke2FjdGl2aXR5Lk5hbWV9YCwgTG9jYWxpemVkVGV4dCh0YXJnZXQuYWN0aW9uU2VsZildKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEFjdGl2aXR5IGNhbiBiZSB1c2VkIG9uIG90aGVyc1xuICAgICAgICBpZiAodGFyZ2V0LmFjdGlvbk90aGVycylcbiAgICAgICAge1xuICAgICAgICAgICAgYWN0aXZpdHkuVGFyZ2V0LnB1c2godGFyZ2V0Lmdyb3VwKTtcbiAgICAgICAgICAgIEFjdGl2aXR5RGljdGlvbmFyeT8ucHVzaChbYExhYmVsLUNoYXRPdGhlci0ke3RhcmdldC5ncm91cH0tJHthY3Rpdml0eS5OYW1lfWAsIExvY2FsaXplZFRleHQodGFyZ2V0LmxhYmVsKV0pO1xuICAgICAgICAgICAgQWN0aXZpdHlEaWN0aW9uYXJ5Py5wdXNoKFtgQ2hhdE90aGVyLSR7dGFyZ2V0Lmdyb3VwfS0ke2FjdGl2aXR5Lk5hbWV9YCwgTG9jYWxpemVkVGV4dCh0YXJnZXQuYWN0aW9uT3RoZXJzKV0pO1xuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICAvLyBJbWFnZSB0aGUgYWN0aXZpdHkgd2lsbCB1c2VcbiAgICBhY3Rpdml0eUltYWdlc1thY3Rpdml0eS5OYW1lXSA9IGN1c3RvbUFjdGl2aXR5LkltYWdlO1xuXG4gICAgLy8gT24gYWN0aXZpdHkgdHJpZ2dlciBzdXBwb3J0XG4gICAgaWYgKGN1c3RvbUFjdGl2aXR5Lk9uVHJpZ2dlcilcbiAgICB7XG4gICAgICAgIGFjdGl2aXR5VHJpZ2dlcnNbYWN0aXZpdHkuTmFtZV0gPSBjdXN0b21BY3Rpdml0eS5PblRyaWdnZXI7XG4gICAgfVxuXG4gICAgQWN0aXZpdHlGZW1hbGUzRENHLnB1c2goYWN0aXZpdHkpO1xuICAgIEFjdGl2aXR5RmVtYWxlM0RDR09yZGVyaW5nLnB1c2goYWN0aXZpdHkuTmFtZSk7XG59XG5cbi8qKlxuICogQ3JlYXRlIG1hbnkgY3VzdG9tIGFjdGl2aXRpZXMgZm9yIHRoZSBQbGF5ZXIgdG8gdXNlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBDcmVhdGVBY3Rpdml0aWVzKGN1c3RvbUFjdGl2aXRpZXM6IEN1c3RvbUFjdGl2aXR5W10pOiB2b2lkXG57XG4gICAgY3VzdG9tQWN0aXZpdGllcy5mb3JFYWNoKChhY3Rpdml0eSkgPT5cbiAgICB7XG4gICAgICAgIENyZWF0ZUFjdGl2aXR5KGFjdGl2aXR5KTtcbiAgICB9KTtcbn1cblxuLyoqXG4gKiBSZW1vdmUgYWN0aXZpdHksIGRpc2FsbG93aW5nIHRoZSBQbGF5ZXIgdG8gdXNlIGl0XG4gKiBAcGFyYW0gY3VzdG9tQWN0aXZpdHkgLSBPbmx5IE5hbWUgYW5kIFRhcmdldHMgbWF0dGVyIGZvciB0aGlzIGZ1bmN0aW9uXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBSZW1vdmVBY3Rpdml0eShjdXN0b21BY3Rpdml0eTogQ3VzdG9tQWN0aXZpdHkpOiB2b2lkXG57XG4gICAgY29uc3QgYWN0aXZpdHlOYW1lID0gYE1QQV8ke2N1c3RvbUFjdGl2aXR5Lk5hbWV9YDtcblxuICAgIC8vIFRoZSBsb29rdXAgdGFibGUgZm9yIHRoZSBhY3Rpdml0eVxuICAgIGN1c3RvbUFjdGl2aXR5LlRhcmdldHMuZm9yRWFjaCgodGFyZ2V0KSA9PlxuICAgIHtcbiAgICAgICAgLy8gQWNpdGl2aXR5IGNhbiBiZSB1c2VkIG9uIHNlbGZcbiAgICAgICAgaWYgKHRhcmdldC5hY3Rpb25TZWxmKVxuICAgICAgICB7XG4gICAgICAgICAgICBBY3Rpdml0eURpY3Rpb25hcnkgPSBBY3Rpdml0eURpY3Rpb25hcnk/LmZpbHRlcigoeCkgPT4gISh4WzBdID09PSBgTGFiZWwtQ2hhdFNlbGYtJHt0YXJnZXQuZ3JvdXB9LSR7YWN0aXZpdHlOYW1lfWAgfHwgeFswXSA9PT0gYENoYXRTZWxmLSR7dGFyZ2V0Lmdyb3VwfS0ke2FjdGl2aXR5TmFtZX1gKSkgPz8gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEFjdGl2aXR5IGNhbiBiZSB1c2VkIG9uIG90aGVyc1xuICAgICAgICBpZiAodGFyZ2V0LmFjdGlvbk90aGVycylcbiAgICAgICAge1xuICAgICAgICAgICAgQWN0aXZpdHlEaWN0aW9uYXJ5ID0gQWN0aXZpdHlEaWN0aW9uYXJ5Py5maWx0ZXIoKHgpID0+ICEoeFswXSA9PT0gYExhYmVsLUNoYXRPdGhlci0ke3RhcmdldC5ncm91cH0tJHthY3Rpdml0eU5hbWV9YCB8fCB4WzBdID09PSBgQ2hhdE90aGVyLSR7dGFyZ2V0Lmdyb3VwfS0ke2FjdGl2aXR5TmFtZX1gKSkgPz8gbnVsbDtcbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgLy8gSW1hZ2UgdGhlIGFjdGl2aXR5IHdpbGwgdXNlXG4gICAgZGVsZXRlIGFjdGl2aXR5SW1hZ2VzW2FjdGl2aXR5TmFtZV07XG5cbiAgICAvLyBPbiBhY3Rpdml0eSB0cmlnZ2VyIHN1cHBvcnRcbiAgICBkZWxldGUgYWN0aXZpdHlUcmlnZ2Vyc1thY3Rpdml0eU5hbWVdO1xuXG4gICAgLy8gRG9uZVxuICAgIEFjdGl2aXR5RmVtYWxlM0RDRyA9IEFjdGl2aXR5RmVtYWxlM0RDRy5maWx0ZXIoKHgpID0+IHguTmFtZSAhPT0gYWN0aXZpdHlOYW1lKTtcbiAgICBBY3Rpdml0eUZlbWFsZTNEQ0dPcmRlcmluZyA9IEFjdGl2aXR5RmVtYWxlM0RDR09yZGVyaW5nLmZpbHRlcigoeCkgPT4geCAhPT0gYWN0aXZpdHlOYW1lKTtcbn1cblxuLyoqXG4gKiBSZW1vdmUgYWN0aXZpdGllcywgZGlzYWxsb3dpbmcgdGhlIFBsYXllciB0byB1c2UgdGhlbVxuICogQHBhcmFtIGN1c3RvbUFjdGl2aXR5IC0gT25seSBOYW1lIGFuZCBUYXJnZXRzIG1hdHRlciBmb3IgdGhpcyBmdW5jdGlvblxuICovXG5leHBvcnQgZnVuY3Rpb24gUmVtb3ZlQWN0aXZpdGllcyhjdXN0b21BY3Rpdml0aWVzOiBDdXN0b21BY3Rpdml0eVtdKTogdm9pZFxue1xuICAgIGN1c3RvbUFjdGl2aXRpZXMuZm9yRWFjaCgoYWN0aXZpdHkpID0+XG4gICAge1xuICAgICAgICBSZW1vdmVBY3Rpdml0eShhY3Rpdml0eSk7XG4gICAgfSk7XG59XG4iLCJpbXBvcnQgeyBNb2R1bGVUaXRsZSB9IGZyb20gXCIuLi9tb2R1bGVzL19tb2R1bGVcIjtcbmltcG9ydCB7IEZpbmRDaGFyYWN0ZXJJblJvb20gfSBmcm9tIFwiLi9tZXNzYWdpbmdcIjtcblxuZXhwb3J0IGNvbnN0IEFVVEhPUklUWV9HUk9VUF9PUFRJT05TOiBBdXRob3JpdHlHcm91cFtdID0gW1xuICAgIFwiUHVibGljXCIsXG4gICAgXCJGcmllbmRzXCIsXG4gICAgXCJXaGl0ZWxpc3RcIixcbiAgICBcIkxvdmVyc1wiLFxuICAgIFwiT3duZXJzXCIsXG4gICAgXCJDbHVib3duZXJcIixcbiAgICBcIlNlbGZcIlxuXTtcblxuY29uc3QgQVVUSE9SSVRZX0dST1VQX1BSSU9fT1JERVI6IEF1dGhvcml0eUdyb3VwW10gPSBbXG4gICAgXCJOb25lXCIsXG4gICAgXCJQdWJsaWNcIixcbiAgICBcIkZyaWVuZHNcIixcbiAgICBcIldoaXRlbGlzdFwiLFxuICAgIFwiTG92ZXJzXCIsXG4gICAgXCJPd25lcnNcIixcbiAgICBcIkQvcyBGYW1pbHlcIixcbiAgICBcIkNsdWJvd25lclwiLFxuICAgIFwiU2VsZlwiXG5dO1xuXG5jb25zdCBMb3ZlcnMgPSAoQzogQ2hhcmFjdGVyKSA9PiAoQy5Mb3ZlcnNoaXA/LmZpbHRlcigoeCkgPT4geC5NZW1iZXJOdW1iZXIpLm1hcCgobG92ZXIpID0+IGxvdmVyLk1lbWJlck51bWJlcikgPz8gW10pIGFzIG51bWJlcltdO1xuZXhwb3J0IGNvbnN0IEFVVEhPUklUWV9HUk9VUFMgPVxue1xuICAgIFNlbGY6IChDOiBDaGFyYWN0ZXIpID0+IFtDLk1lbWJlck51bWJlciA/PyAtMV0sXG4gICAgQ2x1Ym93bmVyOiAoQzogQ2hhcmFjdGVyKSA9PiBDPy5Pd25lcnNoaXA/Lk1lbWJlck51bWJlciA/IFtDPy5Pd25lcnNoaXA/Lk1lbWJlck51bWJlcl0gOiBbXSxcbiAgICBPd25lcnM6IGZ1bmN0aW9uIChDOiBDaGFyYWN0ZXIpOiBudW1iZXJbXVxuICAgIHtcbiAgICAgICAgY29uc3Qgb3duZXJzID0gKChDLk1QQT8uW01vZHVsZVRpdGxlLkF1dGhvcml0eV0/Lm93bmVycyBhcyBzdHJpbmcpID8/IFwiXCIpLnNwbGl0KFwiLFwiKS5tYXAoKHZhbCkgPT4gcGFyc2VJbnQodmFsKSkuZmlsdGVyKChudW0pID0+ICFpc05hTihudW0pKTtcbiAgICAgICAgcmV0dXJuIG93bmVycy5sZW5ndGggPT09IDAgPyBbXSA6IG93bmVycztcbiAgICB9LFxuICAgIExvdmVyczogTG92ZXJzLFxuICAgIFdoaXRlTGlzdDogKEM6IENoYXJhY3RlcikgPT4gQy5XaGl0ZUxpc3QgPz8gW10sXG4gICAgRnJpZW5kTGlzdDogKCkgPT4gUGxheWVyLkZyaWVuZExpc3QgPz8gW11cbn07XG5cbmV4cG9ydCB0eXBlIEF1dGhvcml0eUdyb3VwID0gXCJTZWxmXCIgfCBcIkNsdWJvd25lclwiIHwgXCJEL3MgRmFtaWx5XCIgfCBcIk93bmVyc1wiIHwgXCJMb3ZlcnNcIiB8IFwiV2hpdGVsaXN0XCIgfCBcIkZyaWVuZHNcIiB8IFwiUHVibGljXCIgfCBcIk5vbmVcIjtcblxuZXhwb3J0IGZ1bmN0aW9uIElzTWVtYmVyTnVtYmVySW5BdXRoR3JvdXAobWVtYmVyTnVtYmVyOiBudW1iZXIsIGF1dGhHcm91cDogQXV0aG9yaXR5R3JvdXAsIGFsbG93U2VsZiA9IGZhbHNlLCBzb3VyY2VDaGFyOiBDaGFyYWN0ZXIgPSBQbGF5ZXIpOiBib29sZWFuXG57XG4gICAgaWYgKGF1dGhHcm91cCA9PT0gXCJOb25lXCIpXG4gICAge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgLy8gRGVueSBzZWxmIG9yIGluc3RhbnQgYWNjZXNzXG4gICAgaWYgKG1lbWJlck51bWJlciA9PT0gQVVUSE9SSVRZX0dST1VQUy5TZWxmKHNvdXJjZUNoYXIpWzBdKVxuICAgIHtcbiAgICAgICAgLy8gSWYgU2VsZiBBdXRob3JpdHlHcm91cCwgb3ZlcnJpZGUgdGhlIGFsbG93U2VsZiBmbGFnXG4gICAgICAgIHJldHVybiBhdXRoR3JvdXAgPT09IFwiU2VsZlwiID8gdHJ1ZSA6IGFsbG93U2VsZjtcbiAgICB9XG5cbiAgICAvLyBFdmVyeW9uZSBhbGxvd2VkIGV4Y2VwdCBibG9ja2VkIGNoYXJhY3RlcnNcbiAgICBpZiAoYXV0aEdyb3VwID09PSBcIlB1YmxpY1wiKVxuICAgIHtcbiAgICAgICAgcmV0dXJuICEoXG4gICAgICAgICAgICBzb3VyY2VDaGFyLkJsYWNrTGlzdC5pbmNsdWRlcyhtZW1iZXJOdW1iZXIpXG4gICAgICAgICAgICB8fCAoKHNvdXJjZUNoYXIgYXMgUGxheWVyQ2hhcmFjdGVyKT8uR2hvc3RMaXN0Py5pbmNsdWRlcyhtZW1iZXJOdW1iZXIpID8/IGZhbHNlKVxuICAgICAgICApO1xuICAgIH1cblxuICAgIC8vIEZhbWlseSBvbmx5IGNhbiBiZSBjaGVja2VkIGJ5IGFnYWluc3QgdGhlIFBsYXllciB0aGVtc2VsZlxuICAgIGlmIChhdXRoR3JvdXAgPT09IFwiRC9zIEZhbWlseVwiICYmIHNvdXJjZUNoYXIuTWVtYmVyTnVtYmVyID09PSBQbGF5ZXIuTWVtYmVyTnVtYmVyKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIEZpbmRDaGFyYWN0ZXJJblJvb20obWVtYmVyTnVtYmVyKT8uSXNGYW1pbHlPZlBsYXllcigpID8/IGZhbHNlO1xuICAgIH1cblxuICAgIGxldCBhdXRoQ2hlY2sgPSBuZXcgU2V0PG51bWJlcj4oKTtcbiAgICAvLyBVc2Ugc3dpdGNoIGZhbGx0aHJvdWdoIHRvIGdldCB0aGUgc2V0IG9mIGFsbCBhdXRoZWQgdXNlcnMgaW4gdGhlIGdyb3VwKHMpXG4gICAgc3dpdGNoIChhdXRoR3JvdXApXG4gICAge1xuICAgICAgICBjYXNlIFwiRnJpZW5kc1wiOlxuICAgICAgICAgICAgLy8gU2luY2UgRnJpZW5kc0xpc3QgaXMgbm90IG9uIG90aGVyIGNoYXJhY3RlcnMsIGNhbiBvbmx5IGNoZWNrIGlmIHRoZSBQbGF5ZXIgYW5kIGFub3RoZXIgY2hhcmFjdGVyIGFyZSBmcmllbmRzXG4gICAgICAgICAgICAvLyBVbmFibGUgdG8gY2hlY2sgaWYgMiBkaWZmZXJlbnQgY2hhcmFjdGVycyBhcmUgZnJpZW5kc1xuICAgICAgICAgICAgLy8gdGFyZ2V0Q2hhciBpcyBub24tcGxheWVyIGFuZCBsb29raW5nIGZvciBQbGF5ZXIgbWVtYmVyIG51bWJlclxuICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgIHNvdXJjZUNoYXIuTWVtYmVyTnVtYmVyICE9PSBQbGF5ZXIuTWVtYmVyTnVtYmVyXG4gICAgICAgICAgICAgICAgJiYgUGxheWVyLk1lbWJlck51bWJlciA9PT0gbWVtYmVyTnVtYmVyXG4gICAgICAgICAgICAgICAgJiYgQVVUSE9SSVRZX0dST1VQUy5GcmllbmRMaXN0KCkuaW5jbHVkZXMoc291cmNlQ2hhci5NZW1iZXJOdW1iZXIgPz8gLTEpXG4gICAgICAgICAgICApXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBQbGF5ZXIgaXMgc2VsZiBhbmQgbG9va2luZyB0aHJvdWdoIGZyaWVuZHMgbGlzdFxuICAgICAgICAgICAgaWYgKHNvdXJjZUNoYXIuTWVtYmVyTnVtYmVyID09PSBQbGF5ZXIuTWVtYmVyTnVtYmVyKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGF1dGhDaGVjayA9IG5ldyBTZXQoWy4uLmF1dGhDaGVjaywgLi4uQVVUSE9SSVRZX0dST1VQUy5GcmllbmRMaXN0KCldKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIEB0cy1pZ25vcmU6IGZhbGx0aHJvdWdoIGlzIGludGVudGlvbmFsXG4gICAgICAgIGNhc2UgXCJXaGl0ZWxpc3RcIjpcbiAgICAgICAgICAgIGF1dGhDaGVjayA9IG5ldyBTZXQoWy4uLmF1dGhDaGVjaywgLi4uQVVUSE9SSVRZX0dST1VQUy5XaGl0ZUxpc3Qoc291cmNlQ2hhcildKTtcbiAgICAgICAgICAgIC8vIEB0cy1pZ25vcmU6IGZhbGx0aHJvdWdoIGlzIGludGVudGlvbmFsXG4gICAgICAgIGNhc2UgXCJMb3ZlcnNcIjpcbiAgICAgICAgICAgIGF1dGhDaGVjayA9IG5ldyBTZXQoWy4uLmF1dGhDaGVjaywgLi4uQVVUSE9SSVRZX0dST1VQUy5Mb3ZlcnMoc291cmNlQ2hhcildKTtcbiAgICAgICAgICAgIC8vIEB0cy1pZ25vcmU6IGZhbGx0aHJvdWdoIGlzIGludGVudGlvbmFsXG4gICAgICAgIGNhc2UgXCJPd25lcnNcIjpcbiAgICAgICAgICAgIGF1dGhDaGVjayA9IG5ldyBTZXQoWy4uLmF1dGhDaGVjaywgLi4uQVVUSE9SSVRZX0dST1VQUy5Pd25lcnMoc291cmNlQ2hhcildKTtcbiAgICAgICAgICAgIC8vIEB0cy1pZ25vcmU6IGZhbGx0aHJvdWdoIGlzIGludGVudGlvbmFsXG4gICAgICAgIGNhc2UgXCJDbHVib3duZXJcIjpcbiAgICAgICAgICAgIGF1dGhDaGVjayA9IG5ldyBTZXQoWy4uLmF1dGhDaGVjaywgLi4uQVVUSE9SSVRZX0dST1VQUy5DbHVib3duZXIoc291cmNlQ2hhcildKTtcbiAgICAgICAgICAgIC8vIEB0cy1pZ25vcmU6IGZhbGx0aHJvdWdoIGlzIGludGVudGlvbmFsXG4gICAgICAgIGRlZmF1bHQ6XG4gICAgfVxuXG4gICAgcmV0dXJuIGF1dGhDaGVjay5oYXMobWVtYmVyTnVtYmVyKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIEhpZ2hlc3RMZXZlbEF1dGhvcml0eUdyb3VwKG1lbWJlck51bWJlcjogbnVtYmVyLCB0YXJnZXRDaGFyOiBDaGFyYWN0ZXIgPSBQbGF5ZXIpOiBBdXRob3JpdHlHcm91cFxue1xuICAgIGlmICh0YXJnZXRDaGFyLk1lbWJlck51bWJlciA9PT0gbWVtYmVyTnVtYmVyKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIFwiU2VsZlwiO1xuICAgIH1cbiAgICBpZiAodGFyZ2V0Q2hhcj8uT3duZXJzaGlwPy5NZW1iZXJOdW1iZXIgPT09IG1lbWJlck51bWJlcilcbiAgICB7XG4gICAgICAgIHJldHVybiBcIkNsdWJvd25lclwiO1xuICAgIH1cbiAgICBpZiAoQVVUSE9SSVRZX0dST1VQUy5Pd25lcnModGFyZ2V0Q2hhcikuaW5jbHVkZXMobWVtYmVyTnVtYmVyKSlcbiAgICB7XG4gICAgICAgIHJldHVybiBcIk93bmVyc1wiO1xuICAgIH1cbiAgICBpZiAoQVVUSE9SSVRZX0dST1VQUy5Mb3ZlcnModGFyZ2V0Q2hhcikuaW5jbHVkZXMobWVtYmVyTnVtYmVyKSlcbiAgICB7XG4gICAgICAgIHJldHVybiBcIkxvdmVyc1wiO1xuICAgIH1cbiAgICBpZiAoQVVUSE9SSVRZX0dST1VQUy5XaGl0ZUxpc3QodGFyZ2V0Q2hhcikuaW5jbHVkZXMobWVtYmVyTnVtYmVyKSlcbiAgICB7XG4gICAgICAgIHJldHVybiBcIldoaXRlbGlzdFwiO1xuICAgIH1cbiAgICAvLyBGcmllbmRzXG4gICAgLy8gVGFyZ2V0Y2hhcmFjdGVyIGlzIHNlbGZcbiAgICBpZiAodGFyZ2V0Q2hhci5NZW1iZXJOdW1iZXIgPT09IFBsYXllci5NZW1iZXJOdW1iZXIgJiYgUGxheWVyLkZyaWVuZExpc3Q/LmluY2x1ZGVzKG1lbWJlck51bWJlcikpXG4gICAge1xuICAgICAgICByZXR1cm4gXCJGcmllbmRzXCI7XG4gICAgfVxuICAgIC8vIFRhcmdldCBjaGFyYWN0ZXIgaXMgbm90IHNlbGYsIGJ1dCBsb29rdXAgY2hhcmFjdGVyIGlzXG4gICAgaWYgKHRhcmdldENoYXIuTWVtYmVyTnVtYmVyICE9PSBQbGF5ZXIuTWVtYmVyTnVtYmVyXG4gICAgICAmJiBtZW1iZXJOdW1iZXIgPT09IFBsYXllci5NZW1iZXJOdW1iZXJcbiAgICAgICYmIFBsYXllci5GcmllbmRMaXN0Py5pbmNsdWRlcyh0YXJnZXRDaGFyLk1lbWJlck51bWJlciA/PyAtMSlcbiAgICApXG4gICAge1xuICAgICAgICByZXR1cm4gXCJGcmllbmRzXCI7XG4gICAgfVxuICAgIC8vIFB1YmxpY1xuICAgIGlmIChcbiAgICAgICAgISh0YXJnZXRDaGFyLkJsYWNrTGlzdC5pbmNsdWRlcyhtZW1iZXJOdW1iZXIpXG4gICAgICAgIHx8ICgodGFyZ2V0Q2hhciBhcyBQbGF5ZXJDaGFyYWN0ZXIpPy5HaG9zdExpc3Q/LmluY2x1ZGVzKG1lbWJlck51bWJlcikgPz8gZmFsc2UpKVxuICAgIClcbiAgICB7XG4gICAgICAgIHJldHVybiBcIlB1YmxpY1wiO1xuICAgIH1cbiAgICByZXR1cm4gXCJOb25lXCI7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBBdXRob3JpdHlJc0NvbXBhcmlzb25Ub0NoYXJhY3Rlcihncm91cDogQXV0aG9yaXR5R3JvdXAsIGNvbXBhcmlzb246IFwiPlwiIHwgXCI8XCIgfCBgJHtcIj1cIiB8IFwiIVwiIHwgXCI+XCIgfCBcIjxcIn09YCA9IFwiPj1cIiwgbWVtYmVyTnVtYmVyOiBudW1iZXIsIGNoYXJhY3RlcjogQ2hhcmFjdGVyID0gUGxheWVyKTogYm9vbGVhblxue1xuICAgIGNvbnN0IHJhbmsgPSBIaWdoZXN0TGV2ZWxBdXRob3JpdHlHcm91cChtZW1iZXJOdW1iZXIsIGNoYXJhY3Rlcik7XG5cbiAgICBjb25zdCBncm91cEluZGV4ID0gQVVUSE9SSVRZX0dST1VQX1BSSU9fT1JERVIuaW5kZXhPZihncm91cCk7XG4gICAgY29uc3QgcmFua0luZGV4ID0gQVVUSE9SSVRZX0dST1VQX1BSSU9fT1JERVIuaW5kZXhPZihyYW5rKTtcblxuICAgIGlmIChncm91cEluZGV4ID09PSAtMSB8fCByYW5rSW5kZXggPT09IC0xKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIHN3aXRjaCAoY29tcGFyaXNvbilcbiAgICB7XG4gICAgICAgIGNhc2UgXCI+XCI6XG4gICAgICAgICAgICByZXR1cm4gcmFua0luZGV4ID4gZ3JvdXBJbmRleDtcblxuICAgICAgICBjYXNlIFwiPFwiOlxuICAgICAgICAgICAgcmV0dXJuIHJhbmtJbmRleCA8IGdyb3VwSW5kZXg7XG5cbiAgICAgICAgY2FzZSBcIj49XCI6XG4gICAgICAgICAgICByZXR1cm4gcmFua0luZGV4ID49IGdyb3VwSW5kZXg7XG5cbiAgICAgICAgY2FzZSBcIjw9XCI6XG4gICAgICAgICAgICByZXR1cm4gcmFua0luZGV4IDw9IGdyb3VwSW5kZXg7XG5cbiAgICAgICAgY2FzZSBcIj09XCI6XG4gICAgICAgICAgICByZXR1cm4gcmFua0luZGV4ID09IGdyb3VwSW5kZXg7XG5cbiAgICAgICAgY2FzZSBcIiE9XCI6XG4gICAgICAgICAgICByZXR1cm4gcmFua0luZGV4ICE9IGdyb3VwSW5kZXg7XG5cbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkludmFsaWQgY29tcGFyaXNvbiBvcGVyYXRvclwiKTtcbiAgICB9XG59XG4iLCJpbXBvcnQgcGFja2FnZUluZm8gZnJvbSBcIi4uLy4uL3BhY2thZ2UuanNvblwiO1xuXG5leHBvcnQgY29uc3QgTVBBX1ZFUlNJT04gPSBwYWNrYWdlSW5mby52ZXJzaW9uO1xuZXhwb3J0IGNvbnN0IE1QQV9SRVBPID0gcGFja2FnZUluZm8ucmVwb3NpdG9yeS51cmw7XG5cbmV4cG9ydCBjb25zdCBJQ09OUyA9IE9iamVjdC5mcmVlemUoe1xuICAgIFBBVzogXCJkYXRhOmltYWdlL3BuZztiYXNlNjQsaVZCT1J3MEtHZ29BQUFBTlNVaEVVZ0FBQUZZQUFBQldDQVlBQUFCVlZtSDNBQUFBQVhOU1IwSUFyczRjNlFBQUFBUm5RVTFCQUFDeGp3djhZUVVBQUFBSmNFaFpjd0FBRHNFQUFBN0JBYmlSYSswQUFBQVpkRVZZZEZOdlpuUjNZWEpsQUhkM2R5NXBibXR6WTJGd1pTNXZjbWViN2p3YUFBQUc3RWxFUVZSNFh1MmNWOGcwTlJoR2Z4VjdBVHVLWWtORjdJS2kzbGd2eElhS0lpSjJ2VkN4RnhRYjJDNFZlOEYyb2FKZ0EzdEZzSGNGRzRvTnNXRHZ2VDNubTQyRTRaM1paSkxaYitjbkJ3NDc3Q1l6U1haMkpubVQyVG1GUXFGUUtCUUtoVUtoVUNnVXhyR2FQRisrTGYrUjM4djc1UUZ5TVprTDlyVy92RTkrSnprV3grVFlsR0d1NG1qNXUveTN3VThrRFp3SysyQmYxakdRTWh3bDV3cG9WS3VTbHBmS3JwRFgycWZsNEJ0M0k4bFAwYXBjazlmS1dNaGo3YXRKeXJTaEhDd1BTYXRpNHp4ZGhuS2F0UFl4emdmbElGbFBXaFVLZFVzNUR0SlllVU9sakwwdzcraTFEL1lZdlhibEN0bFdQajRqVFFxN2oxNEh4U1BTT2t0aXBOdlVCSjlaZVdKOFdBNksrZVdIMHFwTWpHOUk2NnpsUFQ2ejhzVDRnYVNzZzJFNStZTzBLaFByVnJJTzcxbHBZNldNeThyczlIV05YVVF1VkcwbXMvZm8xY2Q2cndzTFNzcWFuYjRhRmpnamNyQzluSy9hbklGdDNzdUJPM096MDFmRC9peC9xemFUV1VPdVhtM093RGJ2NVlBeS9sSnQ1cVd2aGlYNDhYVzFtUXhsWEtmYW5JSHRYT1grUmxMVzdQVFZzSDlLN3JpNVdIWDBDamtqVkpUeHIyb3pMNkVOU3pvdTlERzhOSHJOZ1gvbnpua1hmM0gwR2dwdEVOUm1iWWxXa0NkSnh0VEVNOStSYjByaW5HZkpMV1FiajQ1ZWMrQi9xYkZmY0J1UGpWNmIyRnhTVitwTTNXbUR0K1FEOGtSSkcwWEJxT1pMNmU2YVRiNGdpWUhPSStzc0tyK1FWcjVZejVVT3RxMDBzVkkyeW1oQi9aK1hWajVmMm1nL0dVU1hvU0tGMkZyV3VVeGE2V01scHVzNFJscHBZclZpdnd3OG5wTlcramJIQnVtWGtiOUtLM09JNTBnZjd1Q3g4VmpMSGFWakoybWxpWkV5K1QwTk9GdGFhVU9reldpN1JuS2NEWGRJZjlSMW83VFNoY3AweWtyU3dYYmJORStJbE1sQldXK1hWcm9ZYWJ0R25wUldwbGk1S1N3c2dZYjRVVnJwUXFSTWRaNlNWdG9RS1l2N29pZ2paYlhTeGZxRWJPUW5hV1hxNHIzU2NaQzAwb1JJM2pvSFN5dHRpQWRLQjJXMDBuU1J0bXZFeXBEaUJkSVJNOW5uZkU5YTNTdCt2bnhtNVduekV1bWdiRmFhRkJ0aEdHcGxTSEVINllpZDlOdEdPbGFXSzFhYk0yd3JyVHhOK3BPVWxNbEtrK0pYc2hFNjlWYW1GTitYN25vTFo4aS9wWlhXOTFBSnUwaEdjZHg1K2JseExYUHpZWWRKSzY4dlBZQXpwWU95TUpTMTBxYllPaUE2VlZxWlVqMWUrbXdtNzVMVzNaMSs1SFlTYU5UNjUwZ0RzdzhncmRYM1pOOGN3NlZ6bkNEcmFYTkkyLzFQZmNURVhQdXIxV1pXUHBaclNpcnJRL2h2VThsUG5QQWR4MzVXd3M2U3JsdlQxQWxSS1g3U05Db3cvR1FkQTRIclR5V2pRcTdEUGx5YkdaWnlXY2tOeDM2dDJyUmhUR3g5STZseTlvV3lseVRxWk8zSGwvVmYxdFJORTd0S2F6K3AwbVpqWVhobVpVNzFHaGxDYk5lTWF5K2pzUkJpYjU2aEJxMDdJK0xGVDlMYVFZcXRQNU1SUkl5c3ZPUGtCdFUyVmU2Z0RGYitGR21yMFBEcnpBVS94eGpmbDBqUTRyS0ppNlNWTDBhV0d6V3hoQXlKMk1WSUc5VnZqbU01V1ZvNzZ5cER5ZVZsSFVKM2Qwb3JUeGV2bGxZWWsyT25ESzB0YWFOT1hDZXRIWGFSRGpSbmpjOHFrcnUzbFQ1RkF0RkxTaCtPVFJtczlGMmtiWks0UlZvN2p2Vmw2VVAzaUc2WWxUYUhyOHUxcGM4cjBrb2JLMjJTaGN1bGRZQVkvVm1BUFNYOVZpdGRUcGtsOEFQdzUwa3JYWXkwUlZhT2tGMGJnNUdTdTc0ZUs2MDBmZm1IM0ZjQ2MxUmRJM2pVL1VqWkMrdktlNlIxNERiZGNza0xwZlg1SkhSRFRwYVhXcCszU1oxN1cwdnJ3MUNTV0NabmcxVVE1MGZTVGF2Y0txMDBrOVROY3pGY0hyY2Frcm94Tyt0SDU0S3h1aVV4TVA0bkNNSlVPT04rK3FrczJ5R2l4ZnJZbXlRRkpFb2ZNL1RzRTZaaHVNWVRVOWhIc2c2TXNoUDNwVHRHZk9FWlNiVHFYVG1WME5DRS9Ld3pZalpsclVUcVNUVnJjRVowbVVxZWxIZkxRVFl1SVQrclF0T2tQMVV6Q0U2UlZrV21VZGNWbTNyb2xvVEVVcWRGQXViUmE3Qm1nMXp6OUpQMEJqblY1SHJvWXRJeXVWbVBLeVFSSEtBTjVQRFI2OUNnSFE2cE5xY1B3bko5ckV1WWxLeDd6WGFpNVR4ak41WkxWWnVEWkMyWjY2R1JyQTNMOU8rUW9TM1dyemJUeWRtdzJiN3RXY1IvN0NtSm5BMjc5T2gxeUxRdUhvNGhaOE1PTnFqaGthME9PUnMyMXdOenMwbnJpc0VZY2pZczNaV2hNNVYxWU5yRzZoL21rcjk5eXIzZ3dwZTVzRjRlc2MvQjA5SXFkQTZacXpxdTlsNU9tVHFhV3BoTHNncWRxbHZOeDcvQTVYb29yKzRtY3FySnVWekk2YThOSUg1cXBVbnhZam4xTUt6dDh1QkZreXl0cjNPbHROSjJrWVhPQzhoQndPd3RNN1ZXUldMa2FjRW1ycEpXbmhoNStudHFiMWhOc1B5ZHhXbFdoY2I1cmZTZngycUM5YlJkbjFLOFdkWVg2UTBLVmp1SExtUm1kZmIxTXViUEhqYVF0OG1RSjNHUW5zdHVzbGNtT1F3bHJNaHpXNnd5NUFGaC9rS0tpbjR1V1luSWxBNkxKRDZUWGVCZk9GaDh3VEY0U0lYOTA5anNuLy9vb2tFZmwwSFBDeFFLaFVLaFVDZ1VDb1ZDWWJxWk0rYy9jRkxWYmd0ZVRFWUFBQUFBU1VWT1JLNUNZSUk9XCJcbn0pO1xuIiwiLyoqXG4gKiBHZXQgYSByYW5kb20gZWxlbWVudCBmcm9tIGFuIGFycmF5IG9mIG9iamVjdHNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIFJhbmRvbUVsZW1lbnQ8VD4oYXJyYXk6IFRbXSk6IFQgfCBudWxsXG57XG4gICAgaWYgKGFycmF5Lmxlbmd0aCA9PSAwKSB7IHJldHVybiBudWxsOyB9XG4gICAgcmV0dXJuIGFycmF5W01hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIGFycmF5Lmxlbmd0aCldO1xufVxuIiwiaW1wb3J0IHsgTW9kdWxlVGl0bGUgfSBmcm9tIFwiLi4vbW9kdWxlcy9fbW9kdWxlXCI7XG5pbXBvcnQgeyBMb2NhbGl6ZWRUZXh0IH0gZnJvbSBcIi4uL2xvY2FsaXphdGlvbi9sb2NhbGl6YXRpb25cIjtcblxuZXhwb3J0IGludGVyZmFjZSBNUEFNZXNzYWdlQ29udGVudFxue1xuICAgIG1lc3NhZ2U6IHN0cmluZztcbiAgICBba2V5OiBzdHJpbmddOiBhbnk7IC8vIEFsbG93cyBhbnkgb3RoZXIga2V5cyB3aXRoIHZhbHVlcyBvZiBhbnkgdHlwZVxufVxuaW50ZXJmYWNlIE1QQU1lc3NhZ2UgZXh0ZW5kcyBTZXJ2ZXJDaGF0Um9vbU1lc3NhZ2VcbntcbiAgICBDb250ZW50OiBcIk1QQVwiO1xuICAgIFR5cGU6IFwiSGlkZGVuXCI7XG4gICAgRGljdGlvbmFyeTogW01QQU1lc3NhZ2VDb250ZW50XTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIENvbnRlbnRJc01QQU1lc2FnZShjb250ZW50OiBTZXJ2ZXJDaGF0Um9vbU1lc3NhZ2UpOiBjb250ZW50IGlzIE1QQU1lc3NhZ2VcbntcbiAgICByZXR1cm4gKFxuICAgICAgICBjb250ZW50LlR5cGUgPT09IFwiSGlkZGVuXCJcbiAgICAgICAgJiYgY29udGVudC5Db250ZW50ID09PSBcIk1QQVwiXG4gICAgICAgICYmIGNvbnRlbnQ/LkRpY3Rpb25hcnk/Lmxlbmd0aCA9PT0gMVxuICAgICk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBHZXRNUEFNZXNzYWdlRnJvbUNoYXQobWVzc2FnZTogU2VydmVyQ2hhdFJvb21NZXNzYWdlKTogTVBBTWVzc2FnZUNvbnRlbnQgfCBudWxsXG57XG4gICAgcmV0dXJuIENvbnRlbnRJc01QQU1lc2FnZShtZXNzYWdlKSA/IG1lc3NhZ2UuRGljdGlvbmFyeVswXSA6IG51bGw7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBTZW5kTVBBTWVzc2FnZShtZXNzYWdlOiBNUEFNZXNzYWdlQ29udGVudCwgdGFyZ2V0PzogbnVtYmVyKTogdm9pZFxue1xuICAgIFNlcnZlclNlbmQoXCJDaGF0Um9vbUNoYXRcIiwge1xuICAgICAgICBUeXBlOiBcIkhpZGRlblwiLFxuICAgICAgICBDb250ZW50OiBcIk1QQVwiLFxuICAgICAgICBEaWN0aW9uYXJ5OiBbbWVzc2FnZV0sXG4gICAgICAgIFRhcmdldDogdGFyZ2V0XG4gICAgfSk7XG59XG5cbi8qKlxuICogU2VuZCBhbiBhY3Rpb24gdG8gdGhlIHJvb20gb3IgY2FuIHNwZWNpZnkgYSBjaGFyYWN0ZXIgd2hvIHdpbGwgb25seSBzZWVcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIFNlbmRBY3Rpb24oY29udGVudDogc3RyaW5nLCB0YXJnZXQ6IENoYXJhY3RlciB8IHVuZGVmaW5lZCA9IHVuZGVmaW5lZCwgZGljdGlvbmFyeTogQ2hhdE1lc3NhZ2VEaWN0aW9uYXJ5ID0gW10pOiB2b2lkXG57XG4gICAgU2VydmVyU2VuZChcIkNoYXRSb29tQ2hhdFwiLCB7XG4gICAgICAgIENvbnRlbnQ6IFwiTWF5YVNjcmlwdFwiLFxuICAgICAgICBUeXBlOiBcIkFjdGl2aXR5XCIsXG4gICAgICAgIERpY3Rpb25hcnk6IFt7IFRhZzogXCJNSVNTSU5HIEFDVElWSVRZIERFU0NSSVBUSU9OIEZPUiBLRVlXT1JEIE1heWFTY3JpcHRcIiwgVGV4dDogTG9jYWxpemVkVGV4dChjb250ZW50KSB9LCAuLi5kaWN0aW9uYXJ5XSxcbiAgICAgICAgVGFyZ2V0OiB0YXJnZXQ/Lk1lbWJlck51bWJlciB9XG4gICAgKTtcblxuICAgIC8vIFNlcnZlclNlbmQoXCJDaGF0Um9vbUNoYXRcIiwge1xuICAgIC8vICAgICBDb250ZW50OiBcIkJlZXBcIixcbiAgICAvLyAgICAgVHlwZTogXCJBY3Rpb25cIixcbiAgICAvLyAgICAgRGljdGlvbmFyeTogW3sgVGFnOiBcIkJlZXBcIiwgVGV4dDogTG9jYWxpemVkVGV4dChjb250ZW50KSB9XSxcbiAgICAvLyAgICAgVGFyZ2V0OiB0YXJnZXQ/Lk1lbWJlck51bWJlclxuICAgIC8vIH0pO1xufVxuXG4vKipcbiAqIFNlbmQgYW4gZW1vdGUgdG8gdGhlIHJvb20gb3IgY2FuIHNwZWNpZnkgYSBjaGFyYWN0ZXIgd2hvIHdpbGwgb25seSBzZWVcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIFNlbmRFbW90ZShjb250ZW50OiBzdHJpbmcsIHRhcmdldDogQ2hhcmFjdGVyIHwgdW5kZWZpbmVkID0gdW5kZWZpbmVkKTogdm9pZFxue1xuICAgIFNlcnZlclNlbmQoXCJDaGF0Um9vbUNoYXRcIiwge1xuICAgICAgICBDb250ZW50OiBgJHtjb250ZW50fWAsXG4gICAgICAgIFR5cGU6IFwiRW1vdGVcIixcbiAgICAgICAgVGFyZ2V0OiB0YXJnZXQ/Lk1lbWJlck51bWJlciB9XG4gICAgKTtcbn1cblxuLyoqXG4gKiBEaXNwbGF5IHRleHQgdG8gdGhlIGxvY2FsIHBsYXllciBvbmx5XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBOb3RpZnlQbGF5ZXIoY29udGVudDogc3RyaW5nLCB0aW1lb3V0PzogbnVtYmVyKTogdm9pZFxue1xuICAgIENoYXRSb29tU2VuZExvY2FsKGA8cCBzdHlsZT0nYmFja2dyb3VuZC1jb2xvcjojMDBjMmZmO21hcmdpbi1ib3R0b206MC4yNWVtO21hcmdpbi10b3A6MCc+JHtjb250ZW50fTwvcD5gLCB0aW1lb3V0KTtcbn1cblxuLyoqXG4gKiBEaXNwbGF5IHRleHQgdG8gdGhlIGxvY2FsIHBsYXllciwgbWFraW5nIGl0IGNsZWFyIGl0cyBmcm9tIE1QQVxuICovXG5leHBvcnQgZnVuY3Rpb24gTVBBTm90aWZ5UGxheWVyKGNvbnRlbnQ6IHN0cmluZywgdGltZW91dD86IG51bWJlcik6IHZvaWRcbntcbiAgICBOb3RpZnlQbGF5ZXIoYCR7TG9jYWxpemVkVGV4dChcIk1QQVwiKX06ICR7Y29udGVudH1gLCB0aW1lb3V0KTtcbn1cblxuLyoqXG4gKiBGaW5kIGEgQ2hhcmFjdGVyIGluIHRoZSBjaGF0IHJvb20gd2l0aCBieSBudW1iZXIsIG5hbWUsIG9yIG5pY2suIE5vdCBjYXNlIHNlbnN0aXZlLlxuICogSWYgbXVsdGlwbGUgcGVvcGxlIGV4aXN0cyB3aXRoIHRoZSBzYW1lIG5pY2tuYW1lIG9yIG5hbWUuIEl0IHdpbGwgcmV0dXJuIHRoZSBmaXJzdCBwZXJzb24gdGhhdCBtYXRjaGVzLlxuICogVXNlIE1lbWJlck51bWJlciBpZiB5b3Ugd2FudCB0byBndXJhbnRlZSB0byBmaW5kIHRoYXQgc3BlY2lmaWMgY2hhcmFjdGVyLlxuICpcbiAqIEBwYXJhbSBzZWFyY2ggLSBUaGUgTWVtYmVyTnVtYmVyLCBOYW1lLCBvciBOaWNrbmFtZSBvZiB0aGUgcGVyc29uIHlvdSB3YW50IHRvIGZpbmRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIEZpbmRDaGFyYWN0ZXJJblJvb20oc2VhcmNoOiBzdHJpbmcgfCBudW1iZXIsIHsgTWVtYmVyTnVtYmVyID0gdHJ1ZSwgTmlja05hbWU6IE5pY2tuYW1lID0gdHJ1ZSwgTmFtZSA9IHRydWUgfSA9IHt9KTogQ2hhcmFjdGVyIHwgbnVsbFxue1xuICAgIC8vIE1ha2Ugc3VyZSBwbGF5ZXJTZWFyY2ggaXMgYSBzdHJpbmcgLSBub3QgY2FzZSBzZW5zdGl2ZVxuICAgIGlmICh0eXBlb2Ygc2VhcmNoICE9PSBcInN0cmluZ1wiKVxuICAgIHtcbiAgICAgICAgc2VhcmNoID0gc2VhcmNoLnRvU3RyaW5nKCk7XG4gICAgfVxuICAgIHNlYXJjaCA9IHNlYXJjaC50b0xvY2FsZUxvd2VyQ2FzZSgpO1xuXG4gICAgLy8gTG9vcCB0aHJvdWdoIGFsbCB0aGUgQ2hhcmFjdGVycyBpbiB0aGUgY2hhdFxuICAgIGZvciAoY29uc3QgY2hhcmFjdGVyIG9mIENoYXRSb29tQ2hhcmFjdGVyKVxuICAgIHtcbiAgICAgICAgaWYgKFxuICAgICAgICAgICAgKE1lbWJlck51bWJlciAmJiBjaGFyYWN0ZXI/Lk1lbWJlck51bWJlciA9PT0gTnVtYmVyKHNlYXJjaCkpXG4gICAgICAgICAgICB8fCAoTmlja25hbWUgJiYgY2hhcmFjdGVyPy5OaWNrbmFtZT8udG9Mb2NhbGVMb3dlckNhc2UoKSA9PT0gc2VhcmNoKVxuICAgICAgICAgICAgfHwgKE5hbWUgJiYgY2hhcmFjdGVyLk5hbWUudG9Mb2NhbGVMb3dlckNhc2UoKSA9PT0gc2VhcmNoKVxuICAgICAgICApXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybiBjaGFyYWN0ZXI7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBObyBjaGFyYWN0ZXIgZm91bmRcbiAgICByZXR1cm4gbnVsbDtcbn1cblxuLyoqXG4gKiBSZW1vdmUgYWxsIGNvbnRlbnQgdGhhdCBpcyBPT0MgZnJvbSBhIG1lc3NhZ2VcbiAqIEByZXR1cm5zIE9ubHkgdGhlIElDIG1lc3NhZ2UgY29udGVudFxuICovXG5leHBvcnQgZnVuY3Rpb24gUmVtb3ZlT09DQ29udGVudEZyb21NZXNzYWdlKG1lc3NhZ2U6IHN0cmluZyk6IHN0cmluZ1xue1xuICAgIGNvbnN0IHJhbmdlcyA9IFNwZWVjaEdldE9PQ1JhbmdlcyhtZXNzYWdlKS5yZXZlcnNlKCk7XG4gICAgcmFuZ2VzLmZvckVhY2goKHJhbmdlKSA9PlxuICAgIHtcbiAgICAgICAgbWVzc2FnZSA9IG1lc3NhZ2Uuc3Vic3RyaW5nKDAsIHJhbmdlLnN0YXJ0KSArIG1lc3NhZ2Uuc3Vic3RyaW5nKHJhbmdlLnN0YXJ0ICsgcmFuZ2UubGVuZ3RoKTtcbiAgICB9KTtcbiAgICByZXR1cm4gbWVzc2FnZTtcbn1cblxudHlwZSBNZXNzYWdlQWN0aW9uID0gKHNlbmRlcjogQ2hhcmFjdGVyLCBjb250ZW50OiBNUEFNZXNzYWdlQ29udGVudCkgPT4gdm9pZDtcbmV4cG9ydCBpbnRlcmZhY2UgSG9va2VkTWVzc2FnZVxue1xuICAgIG1vZHVsZTogTW9kdWxlVGl0bGUgfCBudWxsO1xuICAgIG1lc3NhZ2U6IHN0cmluZztcbiAgICBhY3Rpb246IE1lc3NhZ2VBY3Rpb247XG59XG5leHBvcnQgY29uc3QgaG9va2VkTWVzc2FnZXM6IEhvb2tlZE1lc3NhZ2VbXSA9IFtdO1xuXG4vKipcbiAqIEFkZCBhIGxpc3RlbmVyIGZvciBhbiBpbmNvbWluZyBNUEEgbWVzc2FnZVxuICogQHBhcmFtIGxpc3RlbmVyLnRpdGxlIC0gV2hhdCBtb2R1bGUgZG9lcyB0aGUgbGlzdGVuZXIgYmVsb25nIHRvXG4gKiBAcGFyYW0gbGlzdGVuZXIubWVzc2FnZSAtIFRoZSBtZXNzYWdlIHN0cmluZyB0byBtYXRjaCB3aXRoIHRoZSBpbmNvbWluZyBtZXNzYWdlXG4gKiBAcGFyYW0gbGlzdGVuZXIuYWN0aW9uIC0gUnVuIHRoaXMgZnVuY3Rpb24gd2hlbiBhIG1hdGNoIGlzIGZvdW5kXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBBZGREYXRhU3luY0xpc3RlbmVyKGxpc3RlbmVyOiBIb29rZWRNZXNzYWdlKTogdm9pZFxue1xuICAgIGhvb2tlZE1lc3NhZ2VzLnB1c2goe1xuICAgICAgICBtb2R1bGU6IGxpc3RlbmVyLm1vZHVsZSxcbiAgICAgICAgbWVzc2FnZTogbGlzdGVuZXIubWVzc2FnZSxcbiAgICAgICAgYWN0aW9uOiBsaXN0ZW5lci5hY3Rpb25cbiAgICB9IGFzIEhvb2tlZE1lc3NhZ2UpO1xufVxuLyoqXG4gKiBBZGQgbWFueSBsaXN0ZW5lcnMgZm9yIGFuIGluY29taW5nIE1QQSBtZXNzYWdlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBBZGREYXRhU3luY0xpc3RlbmVycyhsaXN0ZW5lcnM6IEhvb2tlZE1lc3NhZ2VbXSk6IHZvaWRcbntcbiAgICBsaXN0ZW5lcnMuZm9yRWFjaCgobGlzdGVuZXIpID0+XG4gICAge1xuICAgICAgICBob29rZWRNZXNzYWdlcy5wdXNoKHtcbiAgICAgICAgICAgIG1vZHVsZTogbGlzdGVuZXIubW9kdWxlLFxuICAgICAgICAgICAgbWVzc2FnZTogbGlzdGVuZXIubWVzc2FnZSxcbiAgICAgICAgICAgIGFjdGlvbjogbGlzdGVuZXIuYWN0aW9uXG4gICAgICAgIH0gYXMgSG9va2VkTWVzc2FnZSk7XG4gICAgfSk7XG59XG4vKipcbiAqIFJlbW92ZSBhbGwgdGhlIGxpc3RlbmVycyBiYXNlZCBvbiB0aGUgTW9kdWxlVGl0bGVcbiAqIEBwYXJhbSBtb2R1bGUgLSBNb2R1bGUgdGhlIGxpc3RlbmVycyB5b3Ugd2FudCB0byByZW1vdmUgYmVsb25ncyB0b1xuICovXG5leHBvcnQgZnVuY3Rpb24gUmVtb3ZlRGF0YVN5bmNMaXN0ZW5lcnMobW9kdWxlOiBNb2R1bGVUaXRsZSB8IG51bGwpOiB2b2lkXG57XG4gICAgZm9yIChsZXQgaSA9IGhvb2tlZE1lc3NhZ2VzLmxlbmd0aCAtIDE7IDAgPD0gaTsgaS0tKVxuICAgIHtcbiAgICAgICAgaWYgKGhvb2tlZE1lc3NhZ2VzW2ldLm1vZHVsZSA9PT0gbW9kdWxlKVxuICAgICAgICB7XG4gICAgICAgICAgICBob29rZWRNZXNzYWdlcy5zcGxpY2UoaSwgMSk7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBHZXRFbnRyeUZyb21DaGF0RGljdGlvbmFyeShkYXRhOiBTZXJ2ZXJDaGF0Um9vbU1lc3NhZ2UsIGF0dHJpYnV0ZTogc3RyaW5nKTogQ2hhdE1lc3NhZ2VEaWN0aW9uYXJ5RW50cnkgfCB1bmRlZmluZWRcbntcbiAgICBpZiAoIWRhdGEuRGljdGlvbmFyeSlcbiAgICB7XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxuICAgIHRyeVxuICAgIHtcbiAgICAgICAgcmV0dXJuIGRhdGEuRGljdGlvbmFyeS5maWx0ZXIoKGVudHJ5KSA9PiAhIWVudHJ5W2F0dHJpYnV0ZV0pWzBdO1xuICAgIH1cbiAgICBjYXRjaCAoX2Vycm9yKVxuICAgIHtcbiAgICAgICAgLy8gZWhoaCB0aGlzIGRvZXNuJ3Qgd29yayBjdXogLmZpbHRlciBpcyBub3QgZGVmaW5lZCBvbiBmaXJzdCBsb2FkIGZvciBzb21lIHJlYXNvblxuICAgICAgICAvLyBObyBiaWcgZGVhbCBzbyBJIGRvbid0IHJlYWxseSBjYXJlIGlmIGl0cyBhbiBpc3N1ZSBmb3Igbm93XG4gICAgfVxuICAgIHJldHVybiB1bmRlZmluZWQ7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBHZXRBdHRyaWJ1dGVGcm9tQ2hhdERpY3Rpb25hcnkoZGF0YTogU2VydmVyQ2hhdFJvb21NZXNzYWdlLCBhdHRyaWJ1dGU6IHN0cmluZyk6IGFueSB8IHVuZGVmaW5lZFxue1xuICAgIHJldHVybiBHZXRFbnRyeUZyb21DaGF0RGljdGlvbmFyeShkYXRhLCBhdHRyaWJ1dGUpPy5bYXR0cmlidXRlXTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIEFycmF5VG9SZWFkYWJsZVN0cmluZyhhcnI6IHN0cmluZ1tdKTogc3RyaW5nXG57XG4gICAgY29uc3QgbGVuZ3RoID0gYXJyLmxlbmd0aDtcbiAgICBpZiAobGVuZ3RoID09PSAwKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIFwiXCI7XG4gICAgfVxuICAgIGVsc2UgaWYgKGxlbmd0aCA9PT0gMSlcbiAgICB7XG4gICAgICAgIHJldHVybiBhcnJbMF07XG4gICAgfVxuICAgIGVsc2UgaWYgKGxlbmd0aCA9PT0gMilcbiAgICB7XG4gICAgICAgIHJldHVybiBgJHthcnJbMF19IGFuZCAke2FyclsxXX1gO1xuICAgIH1cbiAgICBlbHNlXG4gICAge1xuICAgICAgICByZXR1cm4gYCR7YXJyLnNsaWNlKDAsIC0xKS5qb2luKFwiLCBcIil9LCBhbmQgJHthcnJbbGVuZ3RoIC0gMV19YDtcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBNb2R1bGUgfSBmcm9tIFwiLi4vbW9kdWxlcy9fbW9kdWxlXCI7XG5pbXBvcnQgeyBMb2FkU3RvcmFnZSB9IGZyb20gXCIuL3N0b3JhZ2VcIjtcbmltcG9ydCB7IERhdGFTeW5jTW9kdWxlIH0gZnJvbSBcIi4uL21vZHVsZXMvZGF0YVN5bmNcIjtcbmltcG9ydCB7IFNldHRpbmdzTW9kdWxlIH0gZnJvbSBcIi4uL21vZHVsZXMvc2V0dGluZ3NcIjtcbmltcG9ydCB7IEFjdGl2aXRpZXNNb2R1bGUgfSBmcm9tIFwiLi4vbW9kdWxlcy9hY3Rpdml0aWVzXCI7XG5pbXBvcnQgeyBDbGlja2VyTW9kdWxlIH0gZnJvbSBcIi4uL21vZHVsZXMvY2xpY2tlclwiO1xuaW1wb3J0IHsgVmlydHVhbFBldE1vZHVsZSB9IGZyb20gXCIuLi9tb2R1bGVzL3ZpcnR1YWxQZXRcIjtcbmltcG9ydCB7IFZpcnR1YWxQZXRIVURNb2R1bGUgfSBmcm9tIFwiLi4vbW9kdWxlcy92aXJ0dWFsUGV0SFVEXCI7XG5pbXBvcnQgeyBWaXJ0dWFsUGV0Q29uZGl0aW9uc01vZHVsZSB9IGZyb20gXCIuLi9tb2R1bGVzL3ZpcnR1YWxQZXRDb25kaXRpb25zXCI7XG5pbXBvcnQgeyBQcm9maWxlTW9kdWxlIH0gZnJvbSBcIi4uL21vZHVsZXMvcHJvZmlsZVwiO1xuaW1wb3J0IHsgU2V0dGluZ3NPdGhlck1vZHVsZSB9IGZyb20gXCIuLi9tb2R1bGVzL3NldHRpbmdzT3RoZXJzXCI7XG5pbXBvcnQgeyBBdXRob3JpdHlNb2R1bGUgfSBmcm9tIFwiLi4vbW9kdWxlcy9hdXRob3JpdHlcIjtcblxubGV0IG1vZHVsZXNSZWdpc3RlcmVkID0gZmFsc2U7XG5cbmV4cG9ydCBjb25zdCBtb2R1bGVzOiBNb2R1bGVbXSA9IFtcbiAgICBuZXcgRGF0YVN5bmNNb2R1bGUoKSxcbiAgICBuZXcgU2V0dGluZ3NNb2R1bGUoKSxcbiAgICBuZXcgQWN0aXZpdGllc01vZHVsZSgpLFxuICAgIG5ldyBDbGlja2VyTW9kdWxlKCksXG4gICAgbmV3IFZpcnR1YWxQZXRNb2R1bGUoKSxcbiAgICBuZXcgVmlydHVhbFBldEhVRE1vZHVsZSgpLFxuICAgIG5ldyBWaXJ0dWFsUGV0Q29uZGl0aW9uc01vZHVsZSgpLFxuICAgIG5ldyBQcm9maWxlTW9kdWxlKCksXG4gICAgbmV3IFNldHRpbmdzT3RoZXJNb2R1bGUoKSxcbiAgICBuZXcgQXV0aG9yaXR5TW9kdWxlKClcbl07XG5cbmV4cG9ydCBjb25zdCBzZXR0aW5nczogUGFydGlhbDxNUEFTZXR0aW5ncz4gPSB7fTtcblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIFJlZ2lzdGVyTW9kdWxlcygpOiBQcm9taXNlPHZvaWQ+XG57XG4gICAgLy8gTm8gZHVwbGljYXRlIG1vZHVsZSByZWdpc3RlcmluZ1xuICAgIGlmIChtb2R1bGVzUmVnaXN0ZXJlZCkgeyByZXR1cm47IH1cblxuICAgIG1vZHVsZXMuZm9yRWFjaCgobW9kdWxlKSA9PlxuICAgIHtcbiAgICAgICAgLy8gR2V0IGFsbCB0aGUgc2V0dGluZ3NcbiAgICAgICAgY29uc3QgbW9kU2V0ID0gbW9kdWxlLlNldHRpbmdzO1xuICAgICAgICBjb25zdCBuZXdTZXR0aW5ncyA9IHt9O1xuICAgICAgICBtb2RTZXQuZm9yRWFjaCgoc2V0KSA9PlxuICAgICAgICB7XG4gICAgICAgICAgICBuZXdTZXR0aW5nc1tzZXQubmFtZV0gPSBzZXQ7XG4gICAgICAgIH0pO1xuICAgICAgICBpZiAoT2JqZWN0LmtleXMobmV3U2V0dGluZ3MpLmxlbmd0aCAhPT0gMClcbiAgICAgICAge1xuICAgICAgICAgICAgc2V0dGluZ3NbbW9kdWxlLlRpdGxlXSA9IG5ld1NldHRpbmdzO1xuICAgICAgICB9XG4gICAgfSk7XG4gICAgYXdhaXQgTG9hZFN0b3JhZ2UoKTtcblxuICAgIC8vIExvYWQgdGhlIG1vZHVsZXNcbiAgICBtb2R1bGVzLmZvckVhY2goKG1vZHVsZSkgPT5cbiAgICB7XG4gICAgICAgIG1vZHVsZS5Mb2FkKCk7XG4gICAgfSk7XG4gICAgbW9kdWxlc1JlZ2lzdGVyZWQgPSB0cnVlO1xufVxuIiwiaW1wb3J0IGJjTW9kU2RrLCB7IEdldERvdGVkUGF0aFR5cGUsIE1vZFNES01vZEFQSSwgUGF0Y2hIb29rIH0gZnJvbSBcImJvbmRhZ2UtY2x1Yi1tb2Qtc2RrXCI7XG5pbXBvcnQgeyBNb2R1bGVUaXRsZSB9IGZyb20gXCIuLi9tb2R1bGVzL19tb2R1bGVcIjtcbmltcG9ydCB7IE1QQV9SRVBPLCBNUEFfVkVSU0lPTiB9IGZyb20gXCIuL2NvbnN0YW50c1wiO1xuXG5pbnRlcmZhY2UgSG9va2VkRnVuY3Rpb25cbntcbiAgICBmdW5jdGlvbk5hbWU6IHN0cmluZztcbiAgICBwcmlvcml0eTogbnVtYmVyO1xuICAgIGhvb2s6IFBhdGNoSG9vaztcbiAgICBtb2R1bGU6IHN0cmluZyB8IG51bGw7XG4gICAgcmVtb3ZlSG9vazogKCkgPT4gdm9pZDtcbn1cbmNvbnN0IGhvb2tzOiBIb29rZWRGdW5jdGlvbltdID0gW107XG5cbmV4cG9ydCBjb25zdCBtb2RBUEk6IE1vZFNES01vZEFQSSA9IGJjTW9kU2RrLnJlZ2lzdGVyTW9kKHtcbiAgICBuYW1lOiBcIk1QQVwiLFxuICAgIHZlcnNpb246IE1QQV9WRVJTSU9OLFxuICAgIGZ1bGxOYW1lOiBcIk1heWEncyBQZXRwbGF5IEFkZGl0aW9uc1wiLFxuICAgIHJlcG9zaXRvcnk6IE1QQV9SRVBPXG59LCB7XG4gICAgYWxsb3dSZXBsYWNlOiBmYWxzZVxufSk7XG5cbi8qKlxuICogSG9vayBhIEJDIGZ1bmN0aW9uXG4gKiBAcGFyYW0gbW9kdWxlIC0gVGhlIHRpdGxlIG9mIHRoZSBtb2R1bGUgdGhlIGhvb2sgaXMgYmVpbmcgdXNlZCBpblxuICogQHRlbXBsYXRlIFRGdW5jdGlvbk5hbWUgLSBUaGUgbmFtZSBvZiB0aGUgaG9va2VkIGZ1bmN0aW9uLCBfZS5nLl8gYFwiUGxheWVyLkNhbkNoYW5nZVwiYFxuICogQHBhcmFtIGZ1bmN0aW9uTmFtZSAtIE5hbWUgb2YgZnVuY3Rpb24gdG8gaG9vay4gQ2FuIGNvbnRhaW4gZG90cyB0byBjaGFuZ2UgbWV0aG9kcyBpbiBvYmplY3RzIChlLmcuIGBQbGF5ZXIuQ2FuQ2hhbmdlYClcbiAqIEBwYXJhbSBwcmlvcml0eSAtIE51bWJlciB1c2VkIHRvIGRldGVybWluYXRlIG9yZGVyIGhvb2tzIHdpbGwgYmUgY2FsbGVkIGluLiBIaWdoZXIgbnVtYmVyIGlzIGNhbGxlZCBmaXJzdFxuICogQHBhcmFtIGhvb2sgLSBUaGUgaG9vayBpdHNlbGYgdG8gdXNlLCBAc2VlIFBhdGNoSG9va1xuICogQHJldHVybnMgRnVuY3Rpb24gdGhhdCBjYW4gYmUgY2FsbGVkIHRvIHJlbW92ZSB0aGlzIGhvb2tcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIEhvb2tGdW5jdGlvbjxURnVuY3Rpb25OYW1lIGV4dGVuZHMgc3RyaW5nPihtb2R1bGU6IE1vZHVsZVRpdGxlIHwgbnVsbCwgZnVuY3Rpb25OYW1lOiBURnVuY3Rpb25OYW1lLCBwcmlvcml0eTogbnVtYmVyLCBob29rOiBQYXRjaEhvb2s8R2V0RG90ZWRQYXRoVHlwZTx0eXBlb2YgZ2xvYmFsVGhpcywgVEZ1bmN0aW9uTmFtZT4+KTogKCkgPT4gdm9pZFxue1xuICAgIGNvbnN0IHJlbW92ZUhvb2sgPSBtb2RBUEkuaG9va0Z1bmN0aW9uKGZ1bmN0aW9uTmFtZSwgcHJpb3JpdHksIGhvb2spO1xuXG4gICAgaG9va3MucHVzaCh7XG4gICAgICAgIGZ1bmN0aW9uTmFtZTogZnVuY3Rpb25OYW1lLFxuICAgICAgICBwcmlvcml0eTogcHJpb3JpdHksXG4gICAgICAgIGhvb2s6IGhvb2ssXG4gICAgICAgIG1vZHVsZTogbW9kdWxlLFxuICAgICAgICByZW1vdmVIb29rOiByZW1vdmVIb29rXG4gICAgfSBhcyBIb29rZWRGdW5jdGlvbik7XG5cbiAgICByZXR1cm4gcmVtb3ZlSG9vaztcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIFJlbW92ZUhvb2tzKG1vZHVsZTogTW9kdWxlVGl0bGUgfCBudWxsKTogdm9pZFxue1xuICAgIGZvciAobGV0IGkgPSBob29rcy5sZW5ndGggLSAxOyAwIDw9IGk7IGktLSlcbiAgICB7XG4gICAgICAgIGlmIChob29rc1tpXS5tb2R1bGUgPT09IG1vZHVsZSlcbiAgICAgICAge1xuICAgICAgICAgICAgaG9va3NbaV0ucmVtb3ZlSG9vaygpO1xuICAgICAgICAgICAgaG9va3Muc3BsaWNlKGksIDEpO1xuICAgICAgICB9XG4gICAgfVxufVxuXG4vKipcbiAqIE9ubHkgcmVsZWFzZSB0aGUgYXdhaXQgd2hlbiB0aGUgUGxheWVyIGlzIGRldGVjdGVkIGFuZCBsb2FkZWRcbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIEF3YWl0UGxheWVyKCk6IFByb21pc2U8dm9pZD5cbntcbiAgICBpZiAoUGxheWVyLk1lbWJlck51bWJlciAmJiBQbGF5ZXIuRXh0ZW5zaW9uU2V0dGluZ3MpXG4gICAge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgcmV0dXJuIG5ldyBQcm9taXNlPHZvaWQ+KChyZXNvbHZlKSA9PlxuICAgIHtcbiAgICAgICAgY29uc3QgaG9vayA9IG1vZEFQSS5ob29rRnVuY3Rpb24oXCJMb2dpblJlc3BvbnNlXCIsIDAsIChhcmdzLCBuZXh0KSA9PlxuICAgICAgICB7XG4gICAgICAgICAgICAvLyBMZXQgcmVzcG9uc2UgaGFwcGVuIGZpcnN0XG4gICAgICAgICAgICBuZXh0KGFyZ3MpO1xuXG4gICAgICAgICAgICAvLyBSZW1vdmUgdGhpcyBob29rIHdoZW4gZG9uZVxuICAgICAgICAgICAgaG9vaygpO1xuXG4gICAgICAgICAgICAvLyBSZXNvbHZlIHRoZSBwcm9taXNlIHRvIGVuZCB0aGUgYXdhaXQgY29uZGl0aW9uXG4gICAgICAgICAgICByZXNvbHZlKCk7XG4gICAgICAgIH0pO1xuICAgIH0pO1xufVxuIiwiZXhwb3J0IGZ1bmN0aW9uIElzRGlzcGxheVNldHRpbmcoc2V0dGluZzogU2V0dGluZyk6IHNldHRpbmcgaXMgRGlzcGxheWVkU2V0dGluZ1xue1xuICAgIHJldHVybiAoXG4gICAgICAgIHR5cGVvZiAoc2V0dGluZyBhcyBEaXNwbGF5ZWRTZXR0aW5nKS5hY3RpdmUgPT09IFwiZnVuY3Rpb25cIlxuICAgICAgICAmJiB0eXBlb2YgKHNldHRpbmcgYXMgRGlzcGxheWVkU2V0dGluZykubGFiZWwgPT09IFwic3RyaW5nXCJcbiAgICApO1xufVxuZXhwb3J0IGZ1bmN0aW9uIElzQ2hlY2tib3hTZXR0aW5nKHNldHRpbmc6IFNldHRpbmcpOiBzZXR0aW5nIGlzIENoZWNrYm94U2V0dGluZ1xue1xuICAgIHJldHVybiAoXG4gICAgICAgIElzRGlzcGxheVNldHRpbmcoc2V0dGluZylcbiAgICAgICAgJiYgKHNldHRpbmcgYXMgQ2hlY2tib3hTZXR0aW5nKS50eXBlID09PSBcImNoZWNrYm94XCJcbiAgICAgICAgJiYgdHlwZW9mIChzZXR0aW5nIGFzIENoZWNrYm94U2V0dGluZykudmFsdWUgPT09IFwiYm9vbGVhblwiXG4gICAgKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBJc09wdGlvblNldHRpbmcoc2V0dGluZzogU2V0dGluZyk6IHNldHRpbmcgaXMgT3B0aW9uU2V0dGluZ1xue1xuICAgIHJldHVybiAoXG4gICAgICAgIElzRGlzcGxheVNldHRpbmcoc2V0dGluZylcbiAgICAgICAgJiYgKHNldHRpbmcgYXMgT3B0aW9uU2V0dGluZykudHlwZSA9PT0gXCJvcHRpb25cIlxuICAgICAgICAmJiB0eXBlb2YgKHNldHRpbmcgYXMgT3B0aW9uU2V0dGluZykudmFsdWUgPT09IFwic3RyaW5nXCJcbiAgICAgICAgJiYgQXJyYXkuaXNBcnJheSgoc2V0dGluZyBhcyBPcHRpb25TZXR0aW5nKS5vcHRpb25zKVxuICAgICAgICAmJiB0eXBlb2YgKHNldHRpbmcgYXMgT3B0aW9uU2V0dGluZykubG9vcCA9PT0gXCJib29sZWFuXCJcbiAgICApO1xufVxuZXhwb3J0IGZ1bmN0aW9uIElzVGV4dFNldHRpbmcoc2V0dGluZzogU2V0dGluZyk6IHNldHRpbmcgaXMgVGV4dFNldHRpbmdcbntcbiAgICByZXR1cm4gKFxuICAgICAgICBJc0Rpc3BsYXlTZXR0aW5nKHNldHRpbmcpXG4gICAgICAgICYmIChzZXR0aW5nIGFzIFRleHRTZXR0aW5nKS50eXBlID09PSBcInRleHRcIlxuICAgICAgICAmJiB0eXBlb2YgKHNldHRpbmcgYXMgVGV4dFNldHRpbmcpLnZhbHVlID09PSBcInN0cmluZ1wiXG4gICAgICAgICYmICh0eXBlb2YgKHNldHRpbmcgYXMgVGV4dFNldHRpbmcpLndpZHRoID09PSBcIm51bWJlclwiXG4gICAgICAgIHx8IChzZXR0aW5nIGFzIFRleHRTZXR0aW5nKS53aWR0aCA9PT0gbnVsbClcbiAgICAgICAgJiYgKHR5cGVvZiAoc2V0dGluZyBhcyBUZXh0U2V0dGluZykubWF4Q2hhcnMgPT09IFwibnVtYmVyXCJcbiAgICAgICAgfHwgKHNldHRpbmcgYXMgVGV4dFNldHRpbmcpLm1heENoYXJzID09PSBudWxsKVxuICAgICk7XG59XG5leHBvcnQgZnVuY3Rpb24gSXNOdW1iZXJTZXR0aW5nKHNldHRpbmc6IFNldHRpbmcpOiBzZXR0aW5nIGlzIE51bWJlclNldHRpbmdcbntcbiAgICByZXR1cm4gKFxuICAgICAgICBJc0Rpc3BsYXlTZXR0aW5nKHNldHRpbmcpXG4gICAgICAgICYmIChzZXR0aW5nIGFzIE51bWJlclNldHRpbmcpLnR5cGUgPT09IFwibnVtYmVyXCJcbiAgICAgICAgJiYgdHlwZW9mIChzZXR0aW5nIGFzIE51bWJlclNldHRpbmcpLnZhbHVlID09PSBcIm51bWJlclwiXG4gICAgICAgICYmICh0eXBlb2YgKHNldHRpbmcgYXMgTnVtYmVyU2V0dGluZykud2lkdGggPT09IFwibnVtYmVyXCJcbiAgICAgICAgfHwgKHNldHRpbmcgYXMgTnVtYmVyU2V0dGluZykud2lkdGggPT09IG51bGwpXG4gICAgICAgICYmIHR5cGVvZiAoc2V0dGluZyBhcyBOdW1iZXJTZXR0aW5nKS5taW4gPT09IFwibnVtYmVyXCJcbiAgICAgICAgJiYgdHlwZW9mIChzZXR0aW5nIGFzIE51bWJlclNldHRpbmcpLm1heCA9PT0gXCJudW1iZXJcIlxuICAgICAgICAmJiAodHlwZW9mIChzZXR0aW5nIGFzIE51bWJlclNldHRpbmcpLnN0ZXAgPT09IFwibnVtYmVyXCJcbiAgICAgICAgfHwgKHNldHRpbmcgYXMgTnVtYmVyU2V0dGluZykuc3RlcCA9PT0gbnVsbClcbiAgICApO1xufVxuIiwiaW1wb3J0IHsgTG9jYWxpemVkVGV4dCB9IGZyb20gXCIuLi9sb2NhbGl6YXRpb24vbG9jYWxpemF0aW9uXCI7XG5pbXBvcnQgeyBzZXR0aW5ncyBhcyBjdXJyZW50U2V0dGluZ3MgfSBmcm9tIFwiLi9yZWdpc3Rlck1vZHVsZXNcIjtcbmltcG9ydCB7IEF3YWl0UGxheWVyIH0gZnJvbSBcIi4vc2RrXCI7XG5pbXBvcnQgeyBVcGRhdGVFbGVtZW50VmFsdWVzIH0gZnJvbSBcIi4uL21vZHVsZXMvc2V0dGluZ3NcIjtcbmltcG9ydCB7IFNldHRpbmdTeW5jIH0gZnJvbSBcIi4uL21vZHVsZXMvZGF0YVN5bmNcIjtcbmltcG9ydCB7IE1vZHVsZVRpdGxlIH0gZnJvbSBcIi4uL21vZHVsZXMvX21vZHVsZVwiO1xuaW1wb3J0IHsgTVBBX1ZFUlNJT04gfSBmcm9tIFwiLi9jb25zdGFudHNcIjtcbmltcG9ydCB7IExldmVsU3luYyB9IGZyb20gXCIuLi9tb2R1bGVzL3ZpcnR1YWxQZXRcIjtcblxuZnVuY3Rpb24gTVBBVXBkYXRlQ2hlY2soc2V0dGluZ3M6IE1QQVJlY29yZHMpOiB2b2lkXG57XG4gICAgaWYgKChzZXR0aW5ncy52ZXJzaW9uIGFzIGFueSkgIT09IE1QQV9WRVJTSU9OKVxuICAgIHtcbiAgICAgICAgU2VydmVyQWNjb3VudEJlZXAoe1xuICAgICAgICAgICAgTWVtYmVyTnVtYmVyOiBQbGF5ZXIuTWVtYmVyTnVtYmVyID8/IC0xLFxuICAgICAgICAgICAgTWVtYmVyTmFtZTogTG9jYWxpemVkVGV4dChcIk1QQVwiKSxcbiAgICAgICAgICAgIENoYXRSb29tU3BhY2U6IFwiWFwiLFxuICAgICAgICAgICAgQ2hhdFJvb21OYW1lOiBMb2NhbGl6ZWRUZXh0KFwiTVBBIFVwZGF0ZWRcIiksXG4gICAgICAgICAgICBQcml2YXRlOiBmYWxzZSxcbiAgICAgICAgICAgIEJlZXBUeXBlOiBcIlwiLFxuICAgICAgICAgICAgTWVzc2FnZTogXCJNUEEgaGFzIGJlZW4gdXBkYXRlZC5cIlxuICAgICAgICB9KTtcbiAgICAgICAgKHNldHRpbmdzLnZlcnNpb24gYXMgYW55KSA9IE1QQV9WRVJTSU9OO1xuICAgICAgICBTYXZlU3RvcmFnZShmYWxzZSk7XG4gICAgfVxufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gTG9hZFN0b3JhZ2UoKTogUHJvbWlzZTx2b2lkPlxue1xuICAgIC8vIEVuc3VyZSB0aGUgcGxheWVyIGlzIGxvYWRlZCBiZWZvcmUgYXR0ZW1wdGluZyB0byByZWFkIHRoZSBleHRlbnRpb24gc2V0dGluZ3NcbiAgICBhd2FpdCBBd2FpdFBsYXllcigpO1xuXG4gICAgY29uc3Qgc2V0dGluZ3M6IE1QQVJlY29yZHMgPSBKU09OLnBhcnNlKExaU3RyaW5nLmRlY29tcHJlc3NGcm9tQmFzZTY0KFBsYXllci5FeHRlbnNpb25TZXR0aW5ncz8uTVBBID8/IFwiXCIpID8/IFwie31cIikgPz8ge307XG5cbiAgICBPYmplY3QuZW50cmllcyhjdXJyZW50U2V0dGluZ3MpLmZvckVhY2goKGNhdGVnb3J5KSA9PlxuICAgIHtcbiAgICAgICAgY29uc3QgW3NldHRpbmdUaXRsZSwgY2F0ZWdvcnlTZXR0aW5nc10gPSBjYXRlZ29yeSBhcyBbTW9kdWxlVGl0bGUsIE1QQUNhdGVnb3J5U2V0dGluZ3NdO1xuICAgICAgICBmb3IgKGNvbnN0IFtzZXR0aW5nTmFtZSwgc2V0XSBvZiBPYmplY3QuZW50cmllcyhjYXRlZ29yeVNldHRpbmdzKSlcbiAgICAgICAge1xuICAgICAgICAgICAgLy8gQ3JlYXRlIHRoZSBwbGFjZSBmb3IgZGF0YSBpZiBpdCBkb2VzIG5vdCBleGlzdFxuICAgICAgICAgICAgaWYgKCEoc2V0dGluZ1RpdGxlIGluIHNldHRpbmdzKSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBzZXR0aW5nc1tzZXR0aW5nVGl0bGVdID0ge307XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBTZXR0aW5nIGFscmVhZHkgc2V0XG4gICAgICAgICAgICBpZiAoc2V0dGluZ05hbWUgaW4gc2V0dGluZ3Nbc2V0dGluZ1RpdGxlXSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHNldHRpbmdzW3NldHRpbmdUaXRsZV1bc2V0dGluZ05hbWVdID0gc2V0LnZhbHVlO1xuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICAvLyBDaGVjayBhbmQgbm90aWZ5IGlmIHRoZXJlIGlzIGFuIHVwZGF0ZVxuICAgIE1QQVVwZGF0ZUNoZWNrKHNldHRpbmdzKTtcblxuICAgIFBsYXllci5NUEEgPSBzZXR0aW5ncztcbiAgICByZXR1cm47XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBTYXZlU3RvcmFnZShzeW5jV2l0aE90aGVyczogYm9vbGVhbiA9IHRydWUpOiB2b2lkXG57XG4gICAgUGxheWVyLkV4dGVuc2lvblNldHRpbmdzLk1QQSA9IExaU3RyaW5nLmNvbXByZXNzVG9CYXNlNjQoSlNPTi5zdHJpbmdpZnkoUGxheWVyLk1QQSkpO1xuICAgIFNlcnZlclBsYXllckV4dGVuc2lvblNldHRpbmdzU3luYyhcIk1QQVwiKTtcbiAgICBpZiAoc3luY1dpdGhPdGhlcnMpXG4gICAge1xuICAgICAgICBTZXR0aW5nU3luYyhmYWxzZSk7XG4gICAgfVxufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gUmVzZXRTdG9yYWdlKCk6IFByb21pc2U8dm9pZD5cbntcbiAgICBkZWxldGUgKFBsYXllci5FeHRlbnNpb25TZXR0aW5ncyBhcyBhbnkpLk1QQTtcbiAgICBQbGF5ZXIuRXh0ZW5zaW9uU2V0dGluZ3MuTVBBID0gTFpTdHJpbmcuY29tcHJlc3NUb0Jhc2U2NChKU09OLnN0cmluZ2lmeSh7IHZlcnNpb246IE1QQV9WRVJTSU9OIH0pKTtcbiAgICBhd2FpdCBMb2FkU3RvcmFnZSgpO1xuICAgIFNhdmVTdG9yYWdlKCk7XG4gICAgVXBkYXRlRWxlbWVudFZhbHVlcygpO1xuICAgIHJldHVybjtcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIEV4cG9ydFNldHRpbmdzVG9DbGlwYm9hcmQoKTogUHJvbWlzZTx2b2lkPlxue1xuICAgIHJldHVybiBuYXZpZ2F0b3IuY2xpcGJvYXJkLndyaXRlVGV4dChMWlN0cmluZy5jb21wcmVzc1RvQmFzZTY0KEpTT04uc3RyaW5naWZ5KFBsYXllci5NUEEpKSk7XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBJbXBvcnRTZXR0aW5nc0Zyb21DbGlwYm9hcmQoKTogUHJvbWlzZTx2b2lkPlxue1xuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PlxuICAgIHtcbiAgICAgICAgbmF2aWdhdG9yLmNsaXBib2FyZC5yZWFkVGV4dCgpLnRoZW4oKHRleHQpID0+XG4gICAgICAgIHtcbiAgICAgICAgICAgIHRyeVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGNvbnN0IG5ld1NldHRpbmdzOiBNUEFSZWNvcmRzID0gSlNPTi5wYXJzZShMWlN0cmluZy5kZWNvbXByZXNzRnJvbUJhc2U2NCh0ZXh0ID8/IFwiXCIpID8/IFwie31cIik7XG4gICAgICAgICAgICAgICAgLy8gQ3JlYXRlIGEgbG9jYWxseSBjb3B5IHRvIG1vZGlmeSBpbiBjYXNlIGl0IGZhaWxzIGFuZCBuZWVkIHRvIHJldmVydFxuICAgICAgICAgICAgICAgIC8vIFRyYW5zYWN0aW9uIGhhcHBlbnMgb3Igbm90IGF0IGFsbFxuICAgICAgICAgICAgICAgIGNvbnN0IGN1cnJlbnRTZXR0aW5nczogTVBBUmVjb3JkcyA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkoUGxheWVyLk1QQSkpO1xuXG4gICAgICAgICAgICAgICAgLy8gVmlydHVhbCBwZXQgbGV2ZWxzIHdpbGwgYmUgcmVwbGFjZWQgYW55d2F5LCBzZXQgY3VycmVudCB0aW1lIHNvIG5vdyB0byBub3QgaW50ZXJmZXIgd2l0aCBzeW5jaW5nIGxhdGVyXG4gICAgICAgICAgICAgICAgY3VycmVudFNldHRpbmdzW01vZHVsZVRpdGxlLlZpcnR1YWxQZXRdLmxldmVscy5sYXN0VXBkYXRlZCA9IERhdGUubm93KCk7XG4gICAgICAgICAgICAgICAgY3VycmVudFNldHRpbmdzW01vZHVsZVRpdGxlLlZpcnR1YWxQZXRdLmxldmVscy5sYXN0T25saW5lID0gRGF0ZS5ub3coKTtcblxuICAgICAgICAgICAgICAgIGZvciAoY29uc3Qga2V5IGluIG5ld1NldHRpbmdzKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG5ld1NldHRpbmdzW2tleV0gIT09IHVuZGVmaW5lZClcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gT25seSB1cGRhdGUgdGhlIHZhbHVlIGlmIHRoZSBuZXdSZWNvcmQga2V5IGV4aXN0cyBhbmQgaXMgbm90IHVuZGVmaW5lZFxuICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudFNldHRpbmdzW2tleSBhcyBrZXlvZiBNUEFSZWNvcmRzXSA9IG5ld1NldHRpbmdzW2tleV07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvLyBWZXJpZnkgbmV3IHNldHRpbmdzIGFyZSBnb29kXG4gICAgICAgICAgICAgICAgLy8gSWYgYmFkIGRhdGEgIHJldHVybiByZWplY3QoKTtcblxuICAgICAgICAgICAgICAgIC8vIFNldCB0aGUgbGV2ZWxzIHVwZGF0ZSBzbyB0aGF0IHRoZXkgcmV0YWluIHRoZSBzYW1lIHZhbHVlIHdoZW4gc2F2ZWQgYWZ0ZXIgc3luY2luZyBhZ2FpblxuICAgICAgICAgICAgICAgIGN1cnJlbnRTZXR0aW5nc1tNb2R1bGVUaXRsZS5WaXJ0dWFsUGV0XS5sZXZlbHMubGFzdFVwZGF0ZWQgPSBEYXRlLm5vdygpIC0gKGN1cnJlbnRTZXR0aW5nc1tNb2R1bGVUaXRsZS5WaXJ0dWFsUGV0XS5sZXZlbHMubGFzdE9ubGluZSAtIGN1cnJlbnRTZXR0aW5nc1tNb2R1bGVUaXRsZS5WaXJ0dWFsUGV0XS5sZXZlbHMubGFzdFVwZGF0ZWQpO1xuICAgICAgICAgICAgICAgIGN1cnJlbnRTZXR0aW5nc1tNb2R1bGVUaXRsZS5WaXJ0dWFsUGV0XS5sZXZlbHMubGFzdE9ubGluZSA9IERhdGUubm93KCk7XG4gICAgICAgICAgICAgICAgUGxheWVyLk1QQSA9IGN1cnJlbnRTZXR0aW5ncztcbiAgICAgICAgICAgICAgICBMZXZlbFN5bmMoZmFsc2UsIGZhbHNlLCBmYWxzZSk7XG5cbiAgICAgICAgICAgICAgICBTYXZlU3RvcmFnZSh0cnVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlcnJvcilcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oZXJyb3IpO1xuICAgICAgICAgICAgICAgIHJldHVybiByZWplY3QoKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIHJlc29sdmUoKTtcbiAgICAgICAgfSwgKCkgPT4gcmVqZWN0KCkpO1xuICAgIH0pO1xufVxuIiwiLy8gVGhlIG1vZHVsZSBjYWNoZVxudmFyIF9fd2VicGFja19tb2R1bGVfY2FjaGVfXyA9IHt9O1xuXG4vLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcblx0dmFyIGNhY2hlZE1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF07XG5cdGlmIChjYWNoZWRNb2R1bGUgIT09IHVuZGVmaW5lZCkge1xuXHRcdHJldHVybiBjYWNoZWRNb2R1bGUuZXhwb3J0cztcblx0fVxuXHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuXHR2YXIgbW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXSA9IHtcblx0XHQvLyBubyBtb2R1bGUuaWQgbmVlZGVkXG5cdFx0Ly8gbm8gbW9kdWxlLmxvYWRlZCBuZWVkZWRcblx0XHRleHBvcnRzOiB7fVxuXHR9O1xuXG5cdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuXHRfX3dlYnBhY2tfbW9kdWxlc19fW21vZHVsZUlkXShtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuXHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuXHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59XG5cbiIsIi8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSAobW9kdWxlKSA9PiB7XG5cdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuXHRcdCgpID0+IChtb2R1bGVbJ2RlZmF1bHQnXSkgOlxuXHRcdCgpID0+IChtb2R1bGUpO1xuXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCB7IGE6IGdldHRlciB9KTtcblx0cmV0dXJuIGdldHRlcjtcbn07IiwiLy8gZGVmaW5lIGdldHRlciBmdW5jdGlvbnMgZm9yIGhhcm1vbnkgZXhwb3J0c1xuX193ZWJwYWNrX3JlcXVpcmVfXy5kID0gKGV4cG9ydHMsIGRlZmluaXRpb24pID0+IHtcblx0Zm9yKHZhciBrZXkgaW4gZGVmaW5pdGlvbikge1xuXHRcdGlmKF9fd2VicGFja19yZXF1aXJlX18ubyhkZWZpbml0aW9uLCBrZXkpICYmICFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywga2V5KSkge1xuXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIGtleSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGRlZmluaXRpb25ba2V5XSB9KTtcblx0XHR9XG5cdH1cbn07IiwiX193ZWJwYWNrX3JlcXVpcmVfXy5vID0gKG9iaiwgcHJvcCkgPT4gKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIHByb3ApKSIsIi8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbl9fd2VicGFja19yZXF1aXJlX18uciA9IChleHBvcnRzKSA9PiB7XG5cdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuXHR9XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG59OyIsImltcG9ydCB7IFJlZ2lzdGVyTW9kdWxlcyB9IGZyb20gXCIuL3V0aWwvcmVnaXN0ZXJNb2R1bGVzXCI7XG5pbXBvcnQgeyBCdWlsZEFsbENvbW1hbmRzIH0gZnJvbSBcIi4vY29tbWFuZHMvYnVpbGRBbGxDb21tYW5kc1wiO1xuaW1wb3J0IHsgTVBBX1ZFUlNJT04gfSBmcm9tIFwiLi91dGlsL2NvbnN0YW50c1wiO1xuXG4vLyBUZXN0aW5nIGZvciBMb2NhbGl6YXRpb24sIGVuc3VyaW5nIGFsbCBmaWVsZHMgaW4gdGhlIHRlbXBsYXRlXG4vLyBpbXBvcnQgeyBTZXR0aW5nVGVzdCB9IGZyb20gXCIuL190ZXN0cy9zZXR0aW5nc0xhYmVsc1wiO1xuLy8gU2V0dGluZ1Rlc3QoKTtcbi8vIGltcG9ydCB7IEFjdGl2aXRpZXNUZXN0IH0gZnJvbSBcIi4vX3Rlc3RzL2FjdGl2aXRpZXNUZXh0XCI7XG4vLyBBY3Rpdml0aWVzVGVzdCgpO1xuXG5jb25zb2xlLmxvZyhcIkxvYWRpbmcgTWF5YSdzIFBldHBsYXkgQWRkaXRpb25zXCIpO1xuXG5CdWlsZEFsbENvbW1hbmRzKCk7XG5SZWdpc3Rlck1vZHVsZXMoKTtcbndpbmRvdy5NUEEgPSB7XG4gICAgdmVyc2lvbjogTVBBX1ZFUlNJT04sXG4gICAgbWVudUxvYWRlZDogZmFsc2Vcbn07XG4iXSwibmFtZXMiOlsibyIsImUiLCJhbGVydCIsIkVycm9yIiwiY29uc29sZSIsImVycm9yIiwidCIsIlRleHRFbmNvZGVyIiwibiIsIkFycmF5IiwiaXNBcnJheSIsInIiLCJTZXQiLCJmaWx0ZXIiLCJoYXMiLCJhZGQiLCJpIiwiTWFwIiwiYSIsImMiLCJ3YXJuIiwicyIsImYiLCJ2YWx1ZXMiLCJwYXRjaGluZyIsImdldCIsIm5hbWUiLCJwdXNoIiwiaG9va3MiLCJwYXRjaGVzIiwiZW50cmllcyIsInNldCIsInNvcnQiLCJwcmlvcml0eSIsInNpemUiLCJ0b1N0cmluZyIsInJlcGxhY2VBbGwiLCJpbmNsdWRlcyIsImV2YWwiLCJvcmlnaW5hbCIsIm0iLCJlcnJvclJlcG9ydGVySG9va3MiLCJob29rQ2hhaW5FeGl0IiwiY2FsbCIsImFwcGx5IiwidGhpcyIsImxlbmd0aCIsImhvb2tFbnRlciIsIm1vZCIsImhvb2siLCJhcmd1bWVudHMiLCJwYXRjaGVzU291cmNlcyIsImVudGVyIiwiZmluYWwiLCJsIiwicHJlY29tcHV0ZWQiLCJ3aW5kb3ciLCJzcGxpdCIsInNsaWNlIiwiam9pbiIsImVuY29kZSIsInBhZFN0YXJ0IiwidG9VcHBlckNhc2UiLCJkIiwib3JpZ2luYWxIYXNoIiwiT2JqZWN0IiwiYXNzaWduIiwicm91dGVyIiwiY29udGV4dCIsImNvbnRleHRQcm9wZXJ0eSIsInAiLCJzZGtFbnRyeXBvaW50IiwiY3VycmVudEVudHJ5cG9pbnQiLCJob29rZWRCeU1vZHMiLCJtYXAiLCJwYXRjaGVkQnlNb2RzIiwiZnJvbSIsInUiLCJkZWxldGUiLCJsb2FkZWQiLCJnIiwiZnVsbE5hbWUiLCJ2ZXJzaW9uIiwicmVwb3NpdG9yeSIsImFsbG93UmVwbGFjZSIsImFwaUVuZHBvaW50RW50ZXIiLCJ1bmxvYWQiLCJob29rRnVuY3Rpb24iLCJpbmRleE9mIiwic3BsaWNlIiwicGF0Y2hGdW5jdGlvbiIsInJlbW92ZVBhdGNoZXMiLCJjbGVhciIsImNhbGxPcmlnaW5hbCIsImdsb2JhbFRoaXMiLCJnZXRPcmlnaW5hbEhhc2giLCJhcGkiLCJmcmVlemUiLCJoIiwieSIsImJjTW9kU2RrIiwiYXBpVmVyc2lvbiIsInJlZ2lzdGVyTW9kIiwiZ2V0TW9kc0luZm8iLCJnZXRQYXRjaGluZ0luZm8iLCJzZWFsIiwiZGVmaW5lUHJvcGVydHkiLCJleHBvcnRzIiwidmFsdWUiLCJCZWQiLCJDb21tYW5kQ29tYmluZSIsIlRhZyIsIkRlc2NyaXB0aW9uIiwiQWN0aW9uIiwiSW52ZW50b3J5R2V0IiwiUGxheWVyIiwiTm90aWZ5UGxheWVyIiwiaGFpckNvbG9yIiwiQ29sb3IiLCJJbnZlbnRvcnlXZWFyIiwiQ2hhdFJvb21DaGFyYWN0ZXJJdGVtVXBkYXRlIiwiU2VuZEFjdGlvbiIsInVuZGVmaW5lZCIsIlNvdXJjZUNoYXJhY3RlciIsIk1lbWJlck51bWJlciIsImJlZCIsIkFzc2V0IiwiTmFtZSIsIlByb3BlcnR5IiwiVHlwZVJlY29yZCIsInR5cGVkIiwiTnVtYmVyIiwiQ2hhdFJvb21DaGFyYWN0ZXJVcGRhdGUiLCJCdWlsZEFsbENvbW1hbmRzIiwidHJhbnNsYXRpb25zIiwidGVtcGxhdGUiLCJSVSIsIkxvY2FsaXplZFRleHQiLCJ0ZXh0IiwidHJhbnNsYXRlZFRleHQiLCJUcmFuc2xhdGlvbkxhbmd1YWdlIiwiTW9kdWxlVGl0bGUiLCJNb2R1bGUiLCJUaXRsZSIsIlVua25vd24iLCJBY3Rpdml0aWVzIiwiU2V0dGluZ3MiLCJTeW5jTGlzdGVuZXJzIiwiTG9hZCIsIkNyZWF0ZUFjdGl2aXRpZXMiLCJBZGREYXRhU3luY0xpc3RlbmVycyIsIlVubG9hZCIsIlJlbW92ZUhvb2tzIiwiUmVtb3ZlQWN0aXZpdGllcyIsIlJlbW92ZURhdGFTeW5jTGlzdGVuZXJzIiwiUmVsb2FkIiwiQWN0aXZpdGllc01vZHVsZSIsIkhvb2tGdW5jdGlvbiIsImFyZ3MiLCJuZXh0IiwicHJlcmVxIiwiYWN0aW5nIiwiYWN0ZWQiLCJncm91cCIsImtleXMiLCJhY3Rpdml0eVByZXJlcXVpc2l0ZXMiLCJkYXRhIiwiVHlwZSIsImFjdGl2aXR5TmFtZSIsIkRpY3Rpb25hcnkiLCJmaW5kIiwieCIsIkFjdGl2aXR5TmFtZSIsInN0YXJ0c1dpdGgiLCJDb250ZW50IiwiVGV4dCIsIkFjdGl2aXR5RGljdGlvbmFyeVRleHQiLCJhY3Rpdml0eVRyaWdnZXJzIiwidGFyZ2V0TnVtYmVyIiwiVGFyZ2V0Q2hhcmFjdGVyIiwidGFyZ2V0IiwiQ2hhdFJvb21DaGFyYWN0ZXIiLCJpbWFnZVBhdGgiLCJzdWJzdHJpbmciLCJhY3Rpdml0eUltYWdlcyIsInN1cGVyIiwiUGxheWVyUCIsIkMiLCJNUEEiLCJBdXRob3JpdHkiLCJJc0hhcmRjb3JlT24iLCJoYXJkY29yZSIsIkF1dGhvcml0eU1vZHVsZSIsInR5cGUiLCJhY3RpdmUiLCJsYWJlbCIsIm1heENoYXJzIiwid2lkdGgiLCJvcHRpb25zIiwiQVVUSE9SSVRZX0dST1VQX09QVElPTlMiLCJsb29wIiwib3RoZXJzUHJvZmlsZSIsIm9uU2V0Iiwic2VsZlByb2ZpbGUiLCJBTExfQ0xJQ0tTIiwiQXVkaW8iLCJQbGF5ZXJDIiwiQ2xpY2tlciIsIkNsaWNrQ291bnQiLCJzdHIiLCJ0b3RhbENsaWNrcyIsInRyaWdnZXJzIiwidHJpbSIsImZvckVhY2giLCJ0cmlnZ2VyIiwidG9Mb2NhbGVMb3dlckNhc2UiLCJtYXRjaCIsIlJlZ0V4cCIsIlBsYXlDbGlja2VyU291bmQiLCJudW1iZXJPZkNsaWNrcyIsImlzTmFOIiwiZW5hYmxlZCIsIk1hdGgiLCJtaW4iLCJwbGF5IiwiYmN4SG9va2VkIiwiSG9va0JDWENsaWNrZXIiLCJiY3giLCJnZXRNb2RBcGkiLCJvbiIsIm1lc3NhZ2UiLCJwcmVmaXgiLCJiY3hWb2ljZSIsIkNsaWNrZXJNb2R1bGUiLCJoYXNCZWVuTG9hZGVkIiwiTWF4UHJvZ3Jlc3MiLCJQcmVyZXF1aXNpdGUiLCJUYXJnZXRzIiwiYWN0aW9uU2VsZiIsIkltYWdlIiwiYXV0aGVkR3JvdXAiLCJzZWxmQXV0aGVkIiwiU2VuZGVyIiwiSXNNZW1iZXJOdW1iZXJJbkF1dGhHcm91cCIsImNsaWNrcyIsIlJlbW92ZU9PQ0NvbnRlbnRGcm9tTWVzc2FnZSIsInJlZHVjZSIsImFjYyIsImN1cnIiLCJHZXRBdHRyaWJ1dGVGcm9tQ2hhdERpY3Rpb25hcnkiLCJpbnZlcnZhbCIsInNldEludGVydmFsIiwiY2xlYXJJbnRlcnZhbCIsIlNldHRpbmdTeW5jIiwicmVwbHkiLCJTZW5kTVBBTWVzc2FnZSIsInNldHRpbmdzIiwiQ2F0ZWdvcnlTeW5jIiwiY2F0ZWdvcnkiLCJSZWNvcmRTeW5jIiwicmVjb3JkIiwiRGF0YVN5bmNNb2R1bGUiLCJEYXRhU3luYyIsIm1vZHVsZSIsImFjdGlvbiIsInNlbmRlciIsImNvbnRlbnQiLCJHZXRNUEFNZXNzYWdlRnJvbUNoYXQiLCJGaW5kQ2hhcmFjdGVySW5Sb29tIiwiTmlja05hbWUiLCJob29rZWRNZXNzYWdlcyIsIlByb2ZpbGUiLCJHZXRSZWNvcmQiLCJ0aXRsZSIsIkdBUkJMRV9QSFJBU0VTIiwiSHVtYW4iLCJDdXN0b20iLCJCdW5ueSIsIkNhdCIsIkNvdyIsIkRvZyIsIkZveCIsIk1vdXNlIiwiUG9ueSIsIldvbGYiLCJQRVRfSEVBUklORyIsIkFsbCIsIlByb2ZpbGVNb2R1bGUiLCJWaXJ0dWFsUGV0Iiwibm9IYW5kcyIsIlZpcnR1YWxQZXRDb25kaXRpb25zIiwiZm9vZE5PVyIsInRpbnQiLCJwYXNzb3V0IiwiYWZmZWN0aW9uU2tpbGxCdWZmcyIsImFmZmVjdGlvblNraWxsRGVidWZmcyIsImhlYXJpbmdMb3NzIiwic2xvd0xlYXZlIiwiaW50ZW5zaXR5IiwiaWdub3JlT09DIiwiSXNHYWdnZWQiLCJJc0RlYWYiLCJwZXRIZWFyaW5nIiwicGhyYXNlc1RvS2VlcCIsImNvbmNhdCIsIk5pY2tuYW1lIiwiR2V0UHJvbm91bnMiLCJmb3VuZFBocmFzZXMiLCJwaHJhc2UiLCJyZWdFeHAiLCJtYXRjaEFsbCIsInN0YXJ0IiwiaW5kZXgiLCJsZW4iLCJiIiwiU3BlZWNoR2V0T09DUmFuZ2VzIiwicmFuZ2UiLCJsYXN0SW5kZXgiLCJmaW5hbFRleHQiLCJmb3VuZCIsInNldHRpbmdzRWRpdGVkIiwic2V0dGluZ0NoYXIiLCJTZXRTZXR0aW5nQ2hhciIsImNoYXJhY3RlciIsIkNBTlZBU19XSURUSCIsIkVYSVRfUE9TSVNUSU9OIiwiQlVUVE9OX01BWF9OVU1CRVIiLCJCVVRUT05fV0lEVEgiLCJCVVRUT05fSEVJR0hUIiwiQlVUVE9OX1RPUCIsIkJVVFRPTl9MRUZUIiwiQlVUVE9OX0dBUCIsIkJVVFRPTl9URVhUX1BBRERJTkciLCJXSUtJX1BPU0lUSU9OIiwiV0lLSV9MSU5LIiwiUkVTRVRfUE9TSVRJT04iLCJBTEVSVF9QT1NJVElPTiIsInNob3dTZXR0aW5nc0FsZXJ0Iiwic2V0dGluZ3NBbGVydFRleHQiLCJJTVBPUlRfUE9TSVRJT04iLCJFWFBPUlRfUE9TSVRJT04iLCJSRVNFVF9DT05GSVJNX1BPU0lUSU9OIiwiUkVTRVRfQ0FOQ0VMX1BPU0lUSU9OIiwiTUVOVV9DQVRFR09SSUVTIiwiSXNQbGF5ZXIiLCJWaXJ0dWFsUGV0SFVEIiwiTUVOVV9USVRMRVMiLCJjdXJyZW50TWVudSIsInNldHRpbmdzT3BlbiIsImFsbG93UmVzZXRUaW1lIiwiR2V0Q2xpY2tlZE1lbnUiLCJtZW51T3B0aW9ucyIsIk1vdXNlSW4iLCJmbG9vciIsIkRyYXdCdXR0b24iLCJPUFRJT05fUEVSX1BBR0UiLCJPUFRJT05fSEVJR0hUIiwiT1BUSU9OX1RPUCIsIk9QVElPTl9MRUZUIiwiT1BUSU9OX0dBUCIsIk9QVElPTl9DSEVDS0JPWF9TSVpFIiwiT1BUSU9OX0JBQ0tfTkVYVF9XSURUSCIsIk9QVElPTl9URVhUX1dJRFRIIiwiT1BUSU9OX1RFWFRfTUFYX0NIQVJTIiwiY3VycmVudFBhZ2UiLCJtYXhQYWdlcyIsIk5FWFRfQlVUVE9OX1BPUyIsIlBSRVZfQlVUVE9OX1BPUyIsIkRyYXdTdWJNZW51T3B0aW9ucyIsInN1Yk1lbnUiLCJzZXR0aW5nc1RvRGlzcGxheSIsImtleSIsInNldHRpbmciLCJJc0Rpc3BsYXlTZXR0aW5nIiwidmFsIiwic2V0dGluZ05hbWUiLCJkaXNhYmxlZFNldHRpbmciLCJJc0NoZWNrYm94U2V0dGluZyIsIkRyYXdDaGVja2JveCIsIklzT3B0aW9uU2V0dGluZyIsIm9wdExlbiIsInByb2ZpbGVPckV4Y2x1ZGVzIiwicHJldkRpc2FibGVkIiwiQXV0aG9yaXR5SXNDb21wYXJpc29uVG9DaGFyYWN0ZXIiLCJuZXh0RGlzYWJsZWQiLCJEcmF3QmFja05leHRCdXR0b24iLCJEcmF3VGV4dEZpdCIsImNlaWwiLCJJc1RleHRTZXR0aW5nIiwiSXNOdW1iZXJTZXR0aW5nIiwiaWQiLCJFbGVtZW50TmFtZSIsIkVsZW1lbnRQb3NpdGlvbkZpeGVkIiwiRWxlbWVudFNldEF0dHJpYnV0ZSIsIkVsZW1lbnRSZW1vdmVBdHRyaWJ1dGUiLCJFeGl0QnV0dG9uUHJlc3NlZCIsIm1lbnVMb2FkZWQiLCJQcmVmZXJlbmNlTWVudUV4aXQiLCJVcGRhdGVBbmREZWxldGVIVE1MRWxlbWVudHMiLCJQcmVmZXJlbmNlTWVudUNsaWNrIiwib3BlbiIsImZvY3VzIiwiRGF0ZSIsIm5vdyIsIkltcG9ydFNldHRpbmdzRnJvbUNsaXBib2FyZCIsInRoZW4iLCJmaW5hbGx5IiwiRXhwb3J0U2V0dGluZ3NUb0NsaXBib2FyZCIsIkNyZWF0ZUhUTUxFbGVtZW50cyIsIkdldENsaWNrZWRPcHRpb24iLCJSZXNldFN0b3JhZ2UiLCJSZXNldE1lbnVDbGljayIsIlByZWZlcmVuY2VNZW51UnVuIiwicHJldlRleHRBbGlnbiIsIk1haW5DYW52YXMiLCJ0ZXh0QWxpZ24iLCJEcmF3VGV4dCIsIlJlc2V0TWVudVJ1biIsIkRyYXdNZW51T3B0aW9ucyIsIkxldmVsU3luYyIsIlNhdmVTdG9yYWdlIiwiUHJlZmVyZW5jZVN1YnNjcmVlbkV4dGVuc2lvbnNDbGVhciIsIlBsYXllclByZWZlcmVuY2VNZW51TG9hZCIsIlVwZGF0ZUVsZW1lbnRWYWx1ZXMiLCJzZXR0aW5nVGl0bGUiLCJwYWdlIiwiRWxlbWVudENyZWF0ZUlucHV0IiwibWF4Iiwic3RlcCIsIkVsZW1lbnRWYWx1ZSIsIkVsZW1lbnRSZW1vdmUiLCJTZXR0aW5nc01vZHVsZSIsIkVzY2FwZUhhbmRsZXIiLCJldmVudCIsInN0b3BQcm9wYWdhdGlvbiIsIlByZWZlcmVuY2VSZWdpc3RlckV4dGVuc2lvblNldHRpbmciLCJJZGVudGlmaWVyIiwiQnV0dG9uVGV4dCIsIklDT05TIiwiUEFXIiwiY2xpY2siLCJydW4iLCJleGl0IiwibG9hZCIsImRvY3VtZW50IiwiYWRkRXZlbnRMaXN0ZW5lciIsIk1QQV9SRU1PVEUiLCJNUEFfUkVNT1RFX0JDWCIsIk9iamVjdERpZmZlcmVuY2VzIiwib2xkT2JqIiwibmV3T2JqIiwiZGlmZmVyZW5jZXMiLCJvbGQiLCJuZXciLCJkaWZmIiwiU2V0dGluZ3NPdGhlck1vZHVsZSIsIlNldHRpbmdzT3RoZXIiLCJ2cEVuYWJsZWQiLCJjaGFuZ2VkU2V0dGluZ3MiLCJsZXZlbHMiLCJwcmV2aW91c0F1dGhvcml0eSIsIkpTT04iLCJwYXJzZSIsInN0cmluZ2lmeSIsIm5ld0F1dGhvcml0eSIsImVudHJ5IiwibW9kdWxlRGlmZiIsImxhc3RVcGRhdGVkIiwiTVBBTm90aWZ5UGxheWVyIiwicmVwbGFjZSIsIkFycmF5VG9SZWFkYWJsZVN0cmluZyIsImluQmN4U3Vic2NyZWVuIiwiTFNDR19SRU1PVEVfV0lORE9XX09QRU4iLCJjaGFyIiwiSW5mb3JtYXRpb25TaGVldFNlbGVjdGlvbiIsImFjY2VzcyIsIlNlcnZlckNoYXRSb29tR2V0QWxsb3dJdGVtIiwiTUFYX1NFVFRJTkdfVElNRV9IT1VSUyIsIlBsYXllclZQIiwiQk9XTF9DT05TVU1FX1JFQ09WRVJZIiwiQUNUSVZJVElFU19GT09EX0dBSU4iLCJBQ1RJVklUSUVTX1dBVEVSX0dBSU4iLCJFTU9USUNPTlNfU0xFRVAiLCJCRURfUEVSRkVDVCIsIkJFRF9OT1JNQUwiLCJCRURfQkFEIiwiQUZGRUNUSU9OX0FDVElWSVRZX0xPVkUiLCJBRkZFQ1RJT05fQUNUSVZJVFlfTElLRSIsIkFGRkVDVElPTl9BQ1RJVklUWV9NQVNPIiwiQUZGRUNUSU9OX1pPTkVfQUZGRUNUSU9OIiwiSXRlbUFybXMiLCJJdGVtQm9vdHMiLCJJdGVtQnJlYXN0IiwiSXRlbUJ1dHQiLCJJdGVtRWFycyIsIkl0ZW1GZWV0IiwiSXRlbUhhbmRzIiwiSXRlbUhlYWQiLCJJdGVtTGVncyIsIkl0ZW1Nb3V0aCIsIkl0ZW1OZWNrIiwiSXRlbU5pcHBsZXMiLCJJdGVtTm9zZSIsIkl0ZW1QZWx2aXMiLCJJdGVtVG9yc28iLCJJdGVtVnVsdmEiLCJJdGVtVnVsdmFQaWVyY2luZ3MiLCJNSU5fT0ZGTElORV9EUkFJTl9MRVZFTCIsImxhc3RPbmxpbmVJbnRlcnZhbCIsIklzU2xlZXBpbmdFeHByZXNzaW9uIiwiQXBwZWFyYW5jZSIsIkdyb3VwIiwiRXhwcmVzc2lvbiIsIklzQmVkTXVsdGlwbGllciIsImRldmljZSIsInBsYXllclNsZWVwaW5nRXhwcmVzc2lvbiIsInBsYXllckJlZE11bHRpcGxpZXIiLCJTbGVlcENoYW5nZUNoZWNrIiwic3luYyIsInNsZWVwSG91cnMiLCJIb3VyVG9NUyIsImhvdXJzIiwiQ2FsY3VsYXRlQ3VycmVudFZhbHVlIiwiZHVyYXRpb24iLCJsYXN0T25saW5lIiwiZmlyc3RSdW5DaGVjayIsImN1cnJlbnRWYWx1ZSIsImRpZmYyIiwibmV3VmFsdWUyIiwiR2V0Q2hhcmFjdGVyQ3VycmVudFN0YXRWYWx1ZSIsInN0YXQiLCJjaGFyU3RhdHMiLCJsdmwiLCJzbGVlcCIsInB1c2hUb1N0b3JhZ2UiLCJyZWNvcmRTeW5jIiwiZmlyc3RTeW5jIiwidXBkYXRlIiwib25saW5lIiwib2ZmbGluZURyYWluIiwiZm9vZCIsImZvb2RIb3VycyIsIndhdGVyIiwid2F0ZXJIb3VycyIsImR1cmF0aW9uVG9Vc2UiLCJuZXdTbGVlcCIsImFmZmVjdGlvbiIsImFmZmVjdGlvbkhvdXJzIiwiTW9kaWZ5U3RhdCIsImFtb3VudCIsImFwcGx5TW9kaWZpZXIiLCJzdG9yYWdlUHVzaCIsInNvdXJjZUNoYXIiLCJtb2RpZmllciIsIklzT3duZXIiLCJJc0xvdmVyT2ZQbGF5ZXIiLCJJc0ZhbWlseU9mUGxheWVyIiwiQ2FuVGFsayIsIkR5bmFtaWNHcm91cE5hbWUiLCJQb3NlTWFwcGluZyIsIkJvZHlGdWxsIiwibnVtcyIsInN1bSIsIm51bSIsIlN0YXRNb2RpZmllciIsImxldmVsIiwiVmVyaWZ5VmFsaWRTdGF0IiwiVmlydHVhbFBldE1vZHVsZSIsIk9uVHJpZ2dlciIsImFjdGl2aXR5IiwiQWN0aXZpdHlGZW1hbGUzRENHIiwic29tZSIsImdyb3VwTXVsdCIsIm1hc29jaGlzdCIsIlBsYXllclZQQyIsIkNvbmRpdGlvbklzRW5mb3JjZWQiLCJjb25kaXRpb24iLCJ2cFN0YXROZWVkVG9CZUVuYWJsZWQiLCJBRkZFQ1RJT05fU0tJTExTIiwicHJldmlvdXNTdGF0cyIsIm9uU3RhdExldmVsIiwic3RhdENvdW50IiwiQ29uZGl0aW9uQ2hlY2siLCJwcmV2VmFsdWUiLCJjdXJyVmFsdWUiLCJjaGFuZ2VFdmVudCIsImZpcnN0UnVuIiwiY2hhbmdlIiwidGhyZXNoaG9sZCIsIlNMRUVQX1RJTlQiLCJwYXNzZWRPdXQiLCJQQVNTT1VUX1RBTEtfUkVQTEFDRSIsIk1QQVBhc3NvdXQiLCJDaGFyYWN0ZXJTZXRGYWNpYWxFeHByZXNzaW9uIiwiQ2FuS25lZWwiLCJQb3NlU2V0QWN0aXZlIiwic2xlZXBNb2R1bGUiLCJMU0NHIiwiU3RhdGVNb2R1bGUiLCJzdGF0ZXMiLCJwYXNzb3V0TFNDRyIsImxvZyIsIlBhc3NvdXRDaGVjayIsImFmZmVjdGlvbkNoZWNrSW50ZXJ2YWwiLCJBZmZlY3Rpb25Ta2lsbENoZWNrIiwic2tpbGwiLCJhZmZlY3Rpb25Nb2RpZmllciIsInJvdW5kIiwicHJldk1vZCIsIlNraWxsR2V0TW9kaWZpZXIiLCJTa2lsbEdldE1vZGlmaWVyRHVyYXRpb24iLCJTa2lsbFNldE1vZGlmaWVyIiwiVmlydHVhbFBldENvbmRpdGlvbnNNb2R1bGUiLCJzY2FsZWRWYWx1ZSIsInNxcnQiLCJSYW5kb21FbGVtZW50IiwiR2FtZXBsYXlTZXR0aW5ncyIsIlNlbnNEZXBDaGF0TG9nIiwiZGVhZkxldmVsIiwiU2tpbGxNb2RpZmllck1heCIsInNraWxsRHVyYXRpb25NUyIsInByZXZTbG93IiwiQ2hhdFJvb21TbG93dGltZXIiLCJjdXJyRm9vZCIsIkN1cnJlbnRUaW1lIiwiQ2hhdFJvb21TbG93TGVhdmVNaW5UaW1lIiwiUGxheWVyVlBIVUQiLCJWUF9TVEFUX0NPTE9SX0RJQ1QiLCJEcmF3U3RhdENpcmNsZSIsInJhZGl1cyIsImNvbG9yIiwiYmVnaW5QYXRoIiwiYXJjIiwiUEkiLCJsaW5lV2lkdGgiLCJzdHJva2VTdHlsZSIsInN0cm9rZSIsImxpbmVUbyIsImZpbGxTdHlsZSIsImZpbGwiLCJleGFjdFN0YXRzIiwiZm9udCIsIkNvbW1vbkdldEZvbnQiLCJmaWxsVGV4dCIsIlZpcnR1YWxQZXRIVURNb2R1bGUiLCJvdGhlcnMiLCJ6b29tIiwiQWN0aXZpdHlBbGxvd2VkIiwic2VsZiIsImNoYXJhY3RlclZQU3RhdHMiLCJzdGF0cyIsInBvcyIsInBvc2l0aW9uIiwicmV2ZXJzZSIsInN0YXRMZW4iLCJjb2xzIiwiY29sIiwic3RhdEluZGV4IiwiRHJhd1ZpcnVhbFBldEh1ZCIsIkhvbGRpbmdDbGlja2VyIiwiX2FjdGVkIiwiX2dyb3VwIiwiSGFzQm93bCIsIlVzZVRvbmd1ZU5vTW91dGgiLCJJc01vdXRoQmxvY2tlZCIsIkNyZWF0ZUFjdGl2aXR5IiwiY3VzdG9tQWN0aXZpdHkiLCJBY3Rpdml0eUlEIiwiVGFyZ2V0IiwiVGFyZ2V0U2VsZiIsIkFjdGl2aXR5RGljdGlvbmFyeSIsImFjdGlvbk90aGVycyIsIkFjdGl2aXR5RmVtYWxlM0RDR09yZGVyaW5nIiwiY3VzdG9tQWN0aXZpdGllcyIsIlJlbW92ZUFjdGl2aXR5IiwiQVVUSE9SSVRZX0dST1VQX1BSSU9fT1JERVIiLCJBVVRIT1JJVFlfR1JPVVBTIiwiU2VsZiIsIkNsdWJvd25lciIsIk93bmVyc2hpcCIsIk93bmVycyIsIm93bmVycyIsInBhcnNlSW50IiwiTG92ZXJzIiwiTG92ZXJzaGlwIiwibG92ZXIiLCJXaGl0ZUxpc3QiLCJGcmllbmRMaXN0IiwibWVtYmVyTnVtYmVyIiwiYXV0aEdyb3VwIiwiYWxsb3dTZWxmIiwiQmxhY2tMaXN0IiwiR2hvc3RMaXN0IiwiYXV0aENoZWNrIiwiSGlnaGVzdExldmVsQXV0aG9yaXR5R3JvdXAiLCJ0YXJnZXRDaGFyIiwiY29tcGFyaXNvbiIsInJhbmsiLCJncm91cEluZGV4IiwicmFua0luZGV4IiwiTVBBX1ZFUlNJT04iLCJNUEFfUkVQTyIsImFycmF5IiwicmFuZG9tIiwiQ29udGVudElzTVBBTWVzYWdlIiwiU2VydmVyU2VuZCIsImRpY3Rpb25hcnkiLCJTZW5kRW1vdGUiLCJ0aW1lb3V0IiwiQ2hhdFJvb21TZW5kTG9jYWwiLCJzZWFyY2giLCJBZGREYXRhU3luY0xpc3RlbmVyIiwibGlzdGVuZXIiLCJsaXN0ZW5lcnMiLCJHZXRFbnRyeUZyb21DaGF0RGljdGlvbmFyeSIsImF0dHJpYnV0ZSIsIl9lcnJvciIsImFyciIsIm1vZHVsZXNSZWdpc3RlcmVkIiwibW9kdWxlcyIsImFzeW5jIiwiUmVnaXN0ZXJNb2R1bGVzIiwibW9kU2V0IiwibmV3U2V0dGluZ3MiLCJMb2FkU3RvcmFnZSIsIm1vZEFQSSIsImZ1bmN0aW9uTmFtZSIsInJlbW92ZUhvb2siLCJBd2FpdFBsYXllciIsIkV4dGVuc2lvblNldHRpbmdzIiwiUHJvbWlzZSIsInJlc29sdmUiLCJMWlN0cmluZyIsImRlY29tcHJlc3NGcm9tQmFzZTY0IiwiY2F0ZWdvcnlTZXR0aW5ncyIsIlNlcnZlckFjY291bnRCZWVwIiwiTWVtYmVyTmFtZSIsIkNoYXRSb29tU3BhY2UiLCJDaGF0Um9vbU5hbWUiLCJQcml2YXRlIiwiQmVlcFR5cGUiLCJNZXNzYWdlIiwiTVBBVXBkYXRlQ2hlY2siLCJzeW5jV2l0aE90aGVycyIsImNvbXByZXNzVG9CYXNlNjQiLCJTZXJ2ZXJQbGF5ZXJFeHRlbnNpb25TZXR0aW5nc1N5bmMiLCJuYXZpZ2F0b3IiLCJjbGlwYm9hcmQiLCJ3cml0ZVRleHQiLCJyZWplY3QiLCJyZWFkVGV4dCIsImN1cnJlbnRTZXR0aW5ncyIsIl9fd2VicGFja19tb2R1bGVfY2FjaGVfXyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImNhY2hlZE1vZHVsZSIsIl9fd2VicGFja19tb2R1bGVzX18iLCJnZXR0ZXIiLCJfX2VzTW9kdWxlIiwiZGVmaW5pdGlvbiIsImVudW1lcmFibGUiLCJvYmoiLCJwcm9wIiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJTeW1ib2wiLCJ0b1N0cmluZ1RhZyJdLCJzb3VyY2VSb290IjoiIn0=